From f743faab35ded3bfb0c4944046761f3f298c5118 Mon Sep 17 00:00:00 2001
From: mgotefox <manishx.gotefode@intel.com>
Date: Mon, 1 Feb 2016 15:41:30 -0800
Subject: [PATCH 2/2] atomisp2: css2400 and 2401 irci_ecr-master_20160201_0200

Merge CSS2.1 for css2400 and 2401_legacy
for irci_ecr-master_20160201_0200 firmware tag

Change-Id: I5a94166077361213696e10859ef92419706523ee
Signed-off-by: mgotefox <manishx.gotefode@intel.com>
Original-Tracked_On:
Reviewed-on: https://icggerrit.ir.intel.com/99394
Build: Dessert M BXT RVP (SC)
Build: Dessert M CHT FFD (SC)
Approver: WeiX Meng <weix.meng@intel.com>
Integrator: WeiX Meng <weix.meng@intel.com>
Reviewed-by: WeiX Meng <weix.meng@intel.com>
Tracked-On: https://jira01.devtools.intel.com/browse/OAM-18316
Signed-off-by: Tao Wei <wei.tao@intel.com>
Reviewed-on: https://android.intel.com:443/467569
---
 .../camera/pipe/interface/ia_css_pipe_binarydesc.h |   3 +-
 .../atomisp2/css/camera/pipe/src/pipe_binarydesc.c |  26 +-
 .../pci/atomisp2/css/css_2400_system/spmem_dump.c  | 698 ++++++++++-----------
 .../css/css_2401_csi2p_system/spmem_dump.c         | 142 ++---
 .../pci/atomisp2/css/css_2401_system/spmem_dump.c  | 182 +++---
 .../camera/drivers/media/pci/atomisp2/css/ia_css.h |   2 +-
 .../drivers/media/pci/atomisp2/css/ia_css_pipe.h   |   6 +-
 .../drivers/media/pci/atomisp2/css/ia_css_types.h  |   2 +-
 .../media/pci/atomisp2/css/ia_css_version_data.h   |   2 +-
 .../css/runtime/binary/interface/ia_css_binary.h   |   4 +
 .../atomisp2/css/runtime/pipeline/src/pipeline.c   |  23 +-
 .../atomisp2/css/runtime/queue/src/queue_access.c  |  20 +-
 .../camera/drivers/media/pci/atomisp2/css/sh_css.c | 203 ++++--
 .../drivers/media/pci/atomisp2/css/sh_css_defs.h   |  12 +-
 .../media/pci/atomisp2/css/sh_css_firmware.c       |   4 +-
 .../media/pci/atomisp2/css/sh_css_param_shading.c  |  10 +-
 16 files changed, 727 insertions(+), 612 deletions(-)

diff --git a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/camera/pipe/interface/ia_css_pipe_binarydesc.h b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/camera/pipe/interface/ia_css_pipe_binarydesc.h
index e38d740..ba2c5ad 100644
--- a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/camera/pipe/interface/ia_css_pipe_binarydesc.h
+++ b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/camera/pipe/interface/ia_css_pipe_binarydesc.h
@@ -218,7 +218,8 @@ extern void ia_css_pipe_get_pre_de_binarydesc(
 	struct ia_css_pipe const * const pipe,
 	struct ia_css_binary_descr *pre_de_descr,
 	struct ia_css_frame_info *in_info,
-	struct ia_css_frame_info *out_info);
+	struct ia_css_frame_info *out_info,
+	unsigned int stage_idx);
 
 /** @brief Get a binary descriptor for pre anr stage.
  *
diff --git a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/camera/pipe/src/pipe_binarydesc.c b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/camera/pipe/src/pipe_binarydesc.c
index cb19393..1b447e5 100644
--- a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/camera/pipe/src/pipe_binarydesc.c
+++ b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/camera/pipe/src/pipe_binarydesc.c
@@ -761,21 +761,32 @@ void ia_css_pipe_get_post_gdc_binarydesc(
 	IA_CSS_LEAVE_PRIVATE("");
 }
 
+/* lookup table for ISP2.7 pre_de binaries */
+static unsigned int pre_de_isp27_modes[MAX_NUM_PRE_DE_STAGES] =
+{
+	IA_CSS_BINARY_MODE_PRE_DE,
+	IA_CSS_BINARY_MODE_PRE_DE_STAGE1
+};
+
 void ia_css_pipe_get_pre_de_binarydesc(
 	struct ia_css_pipe const * const pipe,
 	struct ia_css_binary_descr *pre_de_descr,
 	struct ia_css_frame_info *in_info,
-	struct ia_css_frame_info *out_info)
+	struct ia_css_frame_info *out_info,
+	unsigned int stage_idx)
 {
 	unsigned int i;
 	struct ia_css_frame_info *out_infos[IA_CSS_BINARY_MAX_OUTPUT_PORTS];
+	enum ia_css_pipe_version pipe_version = pipe->config.isp_pipe_version;
 
 	assert(pipe != NULL);
 	assert(in_info != NULL);
 	assert(out_info != NULL);
+	assert(stage_idx < NUM_PRE_DE_ISP27_STAGES);
+
 	IA_CSS_ENTER_PRIVATE("");
 
-	if (pipe->stream->config.continuous && 
+	if (pipe->stream->config.continuous &&
 		pipe->stream->config.pack_raw_pixels) {
 		in_info->res = pipe->config.input_effective_res;
 		in_info->padded_width = in_info->res.width;
@@ -793,17 +804,20 @@ void ia_css_pipe_get_pre_de_binarydesc(
 	for (i = 1; i < IA_CSS_BINARY_MAX_OUTPUT_PORTS; i++)
 		out_infos[i] = NULL;
 
-	if (pipe->config.isp_pipe_version == IA_CSS_PIPE_VERSION_1)
+	if (pipe_version == IA_CSS_PIPE_VERSION_1)
 		pipe_binarydesc_get_offline(pipe, IA_CSS_BINARY_MODE_PRE_ISP,
 				       pre_de_descr, in_info, out_infos, NULL);
-	else if ((pipe->config.isp_pipe_version == IA_CSS_PIPE_VERSION_2_2) ||
-		(pipe->config.isp_pipe_version == IA_CSS_PIPE_VERSION_2_7)) {
+	else if (pipe_version == IA_CSS_PIPE_VERSION_2_2)
 		pipe_binarydesc_get_offline(pipe, IA_CSS_BINARY_MODE_PRE_DE,
 				       pre_de_descr, in_info, out_infos, NULL);
+	else if (pipe_version == IA_CSS_PIPE_VERSION_2_7) {
+		int mode = pre_de_isp27_modes[stage_idx];
+		pipe_binarydesc_get_offline(pipe, mode,
+				       pre_de_descr, in_info, out_infos, NULL);
 	}
 
 	if (pipe->stream->config.online) {
-		pre_de_descr->online = true;
+		pre_de_descr->online = stage_idx ? false : true;
 		pre_de_descr->two_ppc =
 		    (pipe->stream->config.pixels_per_clock == 2);
 		pre_de_descr->stream_format = pipe->stream->config.input_config.format;
diff --git a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/css_2400_system/spmem_dump.c b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/css_2400_system/spmem_dump.c
index d52d11f..2ca19b4 100644
--- a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/css_2400_system/spmem_dump.c
+++ b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/css_2400_system/spmem_dump.c
@@ -23,7 +23,7 @@ more details.
 
 /* function input_system_acquisition_stop: AD8 */
 
-/* function longjmp: 69CF */
+/* function longjmp: 69DF */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_HIVE_IF_SRST_MASK
@@ -37,11 +37,11 @@ more details.
 #define HIVE_ADDR_sp_HIVE_IF_SRST_MASK 0x1C8
 #define HIVE_SIZE_sp_HIVE_IF_SRST_MASK 16
 
-/* function tmpmem_init_dmem: 66C9 */
+/* function tmpmem_init_dmem: 66D9 */
 
-/* function ia_css_isys_sp_token_map_receive_ack: 600D */
+/* function ia_css_isys_sp_token_map_receive_ack: 601D */
 
-/* function ia_css_dmaproxy_sp_set_addr_B: 3520 */
+/* function ia_css_dmaproxy_sp_set_addr_B: 351D */
 
 /* function ia_css_pipe_data_init_tagger_resources: A4F */
 
@@ -52,51 +52,51 @@ more details.
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_vbuf_mipi
 #define HIVE_MEM_vbuf_mipi scalar_processor_2400_dmem
-#define HIVE_ADDR_vbuf_mipi 0x6380
+#define HIVE_ADDR_vbuf_mipi 0x6508
 #define HIVE_SIZE_vbuf_mipi 12
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_vbuf_mipi scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_vbuf_mipi 0x6380
+#define HIVE_ADDR_sp_vbuf_mipi 0x6508
 #define HIVE_SIZE_sp_vbuf_mipi 12
 
-/* function ia_css_event_sp_decode: 3711 */
+/* function ia_css_event_sp_decode: 370E */
 
-/* function ia_css_queue_get_size: 4B3B */
+/* function ia_css_queue_get_size: 4B36 */
 
-/* function ia_css_queue_load: 5152 */
+/* function ia_css_queue_load: 514D */
 
-/* function setjmp: 69D8 */
+/* function setjmp: 69E8 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sem_for_sp2host_isys_event_queue
 #define HIVE_MEM_sem_for_sp2host_isys_event_queue scalar_processor_2400_dmem
-#define HIVE_ADDR_sem_for_sp2host_isys_event_queue 0x46D4
+#define HIVE_ADDR_sem_for_sp2host_isys_event_queue 0x4860
 #define HIVE_SIZE_sem_for_sp2host_isys_event_queue 20
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_sem_for_sp2host_isys_event_queue scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_sem_for_sp2host_isys_event_queue 0x46D4
+#define HIVE_ADDR_sp_sem_for_sp2host_isys_event_queue 0x4860
 #define HIVE_SIZE_sp_sem_for_sp2host_isys_event_queue 20
 
-/* function ia_css_dmaproxy_sp_wait_for_ack: 6F59 */
+/* function ia_css_dmaproxy_sp_wait_for_ack: 6F69 */
 
-/* function ia_css_sp_rawcopy_func: 5377 */
+/* function ia_css_sp_rawcopy_func: 5387 */
 
-/* function ia_css_tagger_buf_sp_pop_marked: 2B99 */
+/* function ia_css_tagger_buf_sp_pop_marked: 2B96 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_isp_stage
 #define HIVE_MEM_isp_stage scalar_processor_2400_dmem
-#define HIVE_ADDR_isp_stage 0x5C68
+#define HIVE_ADDR_isp_stage 0x5DF0
 #define HIVE_SIZE_isp_stage 832
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_isp_stage scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_isp_stage 0x5C68
+#define HIVE_ADDR_sp_isp_stage 0x5DF0
 #define HIVE_SIZE_sp_isp_stage 832
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
@@ -111,32 +111,32 @@ more details.
 #define HIVE_ADDR_sp_vbuf_raw 0x314
 #define HIVE_SIZE_sp_vbuf_raw 4
 
-/* function ia_css_sp_bin_copy_func: 529E */
+/* function ia_css_sp_bin_copy_func: 52AD */
 
-/* function ia_css_queue_item_store: 4EA0 */
+/* function ia_css_queue_item_store: 4E9B */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ia_css_bufq_sp_pipe_private_metadata_bufs
 #define HIVE_MEM_ia_css_bufq_sp_pipe_private_metadata_bufs scalar_processor_2400_dmem
-#define HIVE_ADDR_ia_css_bufq_sp_pipe_private_metadata_bufs 0x4B04
+#define HIVE_ADDR_ia_css_bufq_sp_pipe_private_metadata_bufs 0x4C90
 #define HIVE_SIZE_ia_css_bufq_sp_pipe_private_metadata_bufs 20
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_ia_css_bufq_sp_pipe_private_metadata_bufs scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_ia_css_bufq_sp_pipe_private_metadata_bufs 0x4B04
+#define HIVE_ADDR_sp_ia_css_bufq_sp_pipe_private_metadata_bufs 0x4C90
 #define HIVE_SIZE_sp_ia_css_bufq_sp_pipe_private_metadata_bufs 20
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ia_css_bufq_sp_pipe_private_buffer_bufs
 #define HIVE_MEM_ia_css_bufq_sp_pipe_private_buffer_bufs scalar_processor_2400_dmem
-#define HIVE_ADDR_ia_css_bufq_sp_pipe_private_buffer_bufs 0x4B18
+#define HIVE_ADDR_ia_css_bufq_sp_pipe_private_buffer_bufs 0x4CA4
 #define HIVE_SIZE_ia_css_bufq_sp_pipe_private_buffer_bufs 160
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_ia_css_bufq_sp_pipe_private_buffer_bufs scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_ia_css_bufq_sp_pipe_private_buffer_bufs 0x4B18
+#define HIVE_ADDR_sp_ia_css_bufq_sp_pipe_private_buffer_bufs 0x4CA4
 #define HIVE_SIZE_sp_ia_css_bufq_sp_pipe_private_buffer_bufs 160
 
 /* function sp_start_isp: 45D */
@@ -144,93 +144,93 @@ more details.
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sp_binary_group
 #define HIVE_MEM_sp_binary_group scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_binary_group 0x6058
+#define HIVE_ADDR_sp_binary_group 0x61E0
 #define HIVE_SIZE_sp_binary_group 32
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_sp_binary_group scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_sp_binary_group 0x6058
+#define HIVE_ADDR_sp_sp_binary_group 0x61E0
 #define HIVE_SIZE_sp_sp_binary_group 32
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sp_sw_state
 #define HIVE_MEM_sp_sw_state scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_sw_state 0x6310
+#define HIVE_ADDR_sp_sw_state 0x6498
 #define HIVE_SIZE_sp_sw_state 4
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_sp_sw_state scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_sp_sw_state 0x6310
+#define HIVE_ADDR_sp_sp_sw_state 0x6498
 #define HIVE_SIZE_sp_sp_sw_state 4
 
 /* function ia_css_thread_sp_main: D50 */
 
-/* function ia_css_ispctrl_sp_init_internal_buffers: 3952 */
+/* function ia_css_ispctrl_sp_init_internal_buffers: 394F */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sp2host_psys_event_queue_handle
 #define HIVE_MEM_sp2host_psys_event_queue_handle scalar_processor_2400_dmem
-#define HIVE_ADDR_sp2host_psys_event_queue_handle 0x4BB8
+#define HIVE_ADDR_sp2host_psys_event_queue_handle 0x4D44
 #define HIVE_SIZE_sp2host_psys_event_queue_handle 12
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_sp2host_psys_event_queue_handle scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_sp2host_psys_event_queue_handle 0x4BB8
+#define HIVE_ADDR_sp_sp2host_psys_event_queue_handle 0x4D44
 #define HIVE_SIZE_sp_sp2host_psys_event_queue_handle 12
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sem_for_sp2host_psys_event_queue
 #define HIVE_MEM_sem_for_sp2host_psys_event_queue scalar_processor_2400_dmem
-#define HIVE_ADDR_sem_for_sp2host_psys_event_queue 0x46E8
+#define HIVE_ADDR_sem_for_sp2host_psys_event_queue 0x4874
 #define HIVE_SIZE_sem_for_sp2host_psys_event_queue 20
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_sem_for_sp2host_psys_event_queue scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_sem_for_sp2host_psys_event_queue 0x46E8
+#define HIVE_ADDR_sp_sem_for_sp2host_psys_event_queue 0x4874
 #define HIVE_SIZE_sp_sem_for_sp2host_psys_event_queue 20
 
-/* function ia_css_tagger_sp_propagate_frame: 2460 */
+/* function ia_css_tagger_sp_propagate_frame: 245D */
 
 /* function input_system_reg_load: B11 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_vbuf_handles
 #define HIVE_MEM_vbuf_handles scalar_processor_2400_dmem
-#define HIVE_ADDR_vbuf_handles 0x638C
+#define HIVE_ADDR_vbuf_handles 0x6514
 #define HIVE_SIZE_vbuf_handles 960
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_vbuf_handles scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_vbuf_handles 0x638C
+#define HIVE_ADDR_sp_vbuf_handles 0x6514
 #define HIVE_SIZE_sp_vbuf_handles 960
 
-/* function ia_css_queue_store: 5006 */
+/* function ia_css_queue_store: 5001 */
 
-/* function ia_css_sp_flash_register: 2DCE */
+/* function ia_css_sp_flash_register: 2DCB */
 
-/* function ia_css_isys_sp_backend_create: 5C80 */
+/* function ia_css_isys_sp_backend_create: 5C90 */
 
-/* function ia_css_pipeline_sp_init: 186D */
+/* function ia_css_pipeline_sp_init: 186B */
 
-/* function ia_css_tagger_sp_configure: 2350 */
+/* function ia_css_tagger_sp_configure: 234D */
 
-/* function ia_css_ispctrl_sp_end_binary: 375A */
+/* function ia_css_ispctrl_sp_end_binary: 3757 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ia_css_bufq_sp_h_pipe_private_per_frame_ddr_ptrs
 #define HIVE_MEM_ia_css_bufq_sp_h_pipe_private_per_frame_ddr_ptrs scalar_processor_2400_dmem
-#define HIVE_ADDR_ia_css_bufq_sp_h_pipe_private_per_frame_ddr_ptrs 0x4BC4
+#define HIVE_ADDR_ia_css_bufq_sp_h_pipe_private_per_frame_ddr_ptrs 0x4D50
 #define HIVE_SIZE_ia_css_bufq_sp_h_pipe_private_per_frame_ddr_ptrs 20
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_ia_css_bufq_sp_h_pipe_private_per_frame_ddr_ptrs scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_ia_css_bufq_sp_h_pipe_private_per_frame_ddr_ptrs 0x4BC4
+#define HIVE_ADDR_sp_ia_css_bufq_sp_h_pipe_private_per_frame_ddr_ptrs 0x4D50
 #define HIVE_SIZE_sp_ia_css_bufq_sp_h_pipe_private_per_frame_ddr_ptrs 20
 
 /* function receiver_port_reg_store: AC3 */
@@ -250,114 +250,114 @@ more details.
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sp_all_cb_elems_frame
 #define HIVE_MEM_sp_all_cb_elems_frame scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_all_cb_elems_frame 0x46FC
+#define HIVE_ADDR_sp_all_cb_elems_frame 0x4888
 #define HIVE_SIZE_sp_all_cb_elems_frame 16
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_sp_all_cb_elems_frame scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_sp_all_cb_elems_frame 0x46FC
+#define HIVE_ADDR_sp_sp_all_cb_elems_frame 0x4888
 #define HIVE_SIZE_sp_sp_all_cb_elems_frame 16
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sp2host_isys_event_queue_handle
 #define HIVE_MEM_sp2host_isys_event_queue_handle scalar_processor_2400_dmem
-#define HIVE_ADDR_sp2host_isys_event_queue_handle 0x4BD8
+#define HIVE_ADDR_sp2host_isys_event_queue_handle 0x4D64
 #define HIVE_SIZE_sp2host_isys_event_queue_handle 12
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_sp2host_isys_event_queue_handle scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_sp2host_isys_event_queue_handle 0x4BD8
+#define HIVE_ADDR_sp_sp2host_isys_event_queue_handle 0x4D64
 #define HIVE_SIZE_sp_sp2host_isys_event_queue_handle 12
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_host_sp_com
 #define HIVE_MEM_host_sp_com scalar_processor_2400_dmem
-#define HIVE_ADDR_host_sp_com 0x413C
+#define HIVE_ADDR_host_sp_com 0x428C
 #define HIVE_SIZE_host_sp_com 220
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_host_sp_com scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_host_sp_com 0x413C
+#define HIVE_ADDR_sp_host_sp_com 0x428C
 #define HIVE_SIZE_sp_host_sp_com 220
 
-/* function ia_css_queue_get_free_space: 4C65 */
+/* function ia_css_queue_get_free_space: 4C60 */
 
 /* function exec_image_pipe: 658 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sp_init_dmem_data
 #define HIVE_MEM_sp_init_dmem_data scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_init_dmem_data 0x6314
+#define HIVE_ADDR_sp_init_dmem_data 0x649C
 #define HIVE_SIZE_sp_init_dmem_data 24
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_sp_init_dmem_data scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_sp_init_dmem_data 0x6314
+#define HIVE_ADDR_sp_sp_init_dmem_data 0x649C
 #define HIVE_SIZE_sp_sp_init_dmem_data 24
 
-/* function ia_css_sp_metadata_start: 5A5D */
+/* function ia_css_sp_metadata_start: 5A6D */
 
-/* function ia_css_bufq_sp_init_buffer_queues: 2E3D */
+/* function ia_css_bufq_sp_init_buffer_queues: 2E3A */
 
-/* function ia_css_pipeline_sp_stop: 1850 */
+/* function ia_css_pipeline_sp_stop: 184E */
 
-/* function ia_css_tagger_sp_connect_pipes: 283A */
+/* function ia_css_tagger_sp_connect_pipes: 2837 */
 
 /* function sp_isys_copy_wait: 6A1 */
 
 /* function is_isp_debug_buffer_full: 337 */
 
-/* function ia_css_dmaproxy_sp_configure_channel_from_info: 3490 */
+/* function ia_css_dmaproxy_sp_configure_channel_from_info: 348D */
 
 /* function encode_and_post_timer_event: 9C4 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sp_per_frame_data
 #define HIVE_MEM_sp_per_frame_data scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_per_frame_data 0x4218
+#define HIVE_ADDR_sp_per_frame_data 0x4368
 #define HIVE_SIZE_sp_per_frame_data 4
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_sp_per_frame_data scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_sp_per_frame_data 0x4218
+#define HIVE_ADDR_sp_sp_per_frame_data 0x4368
 #define HIVE_SIZE_sp_sp_per_frame_data 4
 
-/* function ia_css_rmgr_sp_vbuf_dequeue: 641D */
+/* function ia_css_rmgr_sp_vbuf_dequeue: 642D */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_host2sp_psys_event_queue_handle
 #define HIVE_MEM_host2sp_psys_event_queue_handle scalar_processor_2400_dmem
-#define HIVE_ADDR_host2sp_psys_event_queue_handle 0x4BE4
+#define HIVE_ADDR_host2sp_psys_event_queue_handle 0x4D70
 #define HIVE_SIZE_host2sp_psys_event_queue_handle 12
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_host2sp_psys_event_queue_handle scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_host2sp_psys_event_queue_handle 0x4BE4
+#define HIVE_ADDR_sp_host2sp_psys_event_queue_handle 0x4D70
 #define HIVE_SIZE_sp_host2sp_psys_event_queue_handle 12
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_xmem_bin_addr
 #define HIVE_MEM_xmem_bin_addr scalar_processor_2400_dmem
-#define HIVE_ADDR_xmem_bin_addr 0x421C
+#define HIVE_ADDR_xmem_bin_addr 0x436C
 #define HIVE_SIZE_xmem_bin_addr 4
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_xmem_bin_addr scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_xmem_bin_addr 0x421C
+#define HIVE_ADDR_sp_xmem_bin_addr 0x436C
 #define HIVE_SIZE_sp_xmem_bin_addr 4
 
-/* function tmr_clock_init: 66E9 */
+/* function tmr_clock_init: 66F9 */
 
 /* function ia_css_pipeline_sp_run: 1424 */
 
-/* function memcpy: 6A78 */
+/* function memcpy: 6A88 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_GP_DEVICE_BASE
@@ -385,26 +385,26 @@ more details.
 
 /* function input_system_reg_store: B18 */
 
-/* function ia_css_isys_sp_frontend_start: 5E96 */
+/* function ia_css_isys_sp_frontend_start: 5EA6 */
 
-/* function ia_css_uds_sp_scale_params: 6781 */
+/* function ia_css_uds_sp_scale_params: 6791 */
 
 /* function ia_css_circbuf_increase_size: E35 */
 
-/* function __divu: 69F6 */
+/* function __divu: 6A06 */
 
 /* function ia_css_thread_sp_get_state: C78 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sem_for_cont_capt_stop
 #define HIVE_MEM_sem_for_cont_capt_stop scalar_processor_2400_dmem
-#define HIVE_ADDR_sem_for_cont_capt_stop 0x470C
+#define HIVE_ADDR_sem_for_cont_capt_stop 0x4898
 #define HIVE_SIZE_sem_for_cont_capt_stop 20
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_sem_for_cont_capt_stop scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_sem_for_cont_capt_stop 0x470C
+#define HIVE_ADDR_sp_sem_for_cont_capt_stop 0x4898
 #define HIVE_SIZE_sp_sem_for_cont_capt_stop 20
 
 /* function thread_fiber_sp_main: E2E */
@@ -412,20 +412,20 @@ more details.
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sp_isp_pipe_thread
 #define HIVE_MEM_sp_isp_pipe_thread scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_isp_pipe_thread 0x4850
+#define HIVE_ADDR_sp_isp_pipe_thread 0x49DC
 #define HIVE_SIZE_sp_isp_pipe_thread 360
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_sp_isp_pipe_thread scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_sp_isp_pipe_thread 0x4850
+#define HIVE_ADDR_sp_sp_isp_pipe_thread 0x49DC
 #define HIVE_SIZE_sp_sp_isp_pipe_thread 360
 
 /* function ia_css_parambuf_sp_handle_parameter_sets: 127F */
 
-/* function ia_css_spctrl_sp_set_state: 5A8C */
+/* function ia_css_spctrl_sp_set_state: 5A9C */
 
-/* function ia_css_thread_sem_sp_signal: 6C7A */
+/* function ia_css_thread_sem_sp_signal: 6C8A */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_IRQ_BASE
@@ -451,24 +451,24 @@ more details.
 #define HIVE_ADDR_sp_TIMED_CTRL_BASE 0x40
 #define HIVE_SIZE_sp_TIMED_CTRL_BASE 4
 
-/* function ia_css_isys_sp_isr: 7147 */
+/* function ia_css_isys_sp_isr: 7157 */
 
-/* function ia_css_isys_sp_generate_exp_id: 622E */
+/* function ia_css_isys_sp_generate_exp_id: 623E */
 
-/* function ia_css_rmgr_sp_init: 6318 */
+/* function ia_css_rmgr_sp_init: 6328 */
 
-/* function ia_css_thread_sem_sp_init: 6D49 */
+/* function ia_css_thread_sem_sp_init: 6D59 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sem_for_reading_cb_frame
 #define HIVE_MEM_sem_for_reading_cb_frame scalar_processor_2400_dmem
-#define HIVE_ADDR_sem_for_reading_cb_frame 0x4720
+#define HIVE_ADDR_sem_for_reading_cb_frame 0x48AC
 #define HIVE_SIZE_sem_for_reading_cb_frame 40
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_sem_for_reading_cb_frame scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_sem_for_reading_cb_frame 0x4720
+#define HIVE_ADDR_sp_sem_for_reading_cb_frame 0x48AC
 #define HIVE_SIZE_sp_sem_for_reading_cb_frame 40
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
@@ -483,15 +483,15 @@ more details.
 #define HIVE_ADDR_sp_is_isp_requested 0x328
 #define HIVE_SIZE_sp_is_isp_requested 4
 
-/* function ia_css_dmaproxy_sp_execute: 33F6 */
+/* function ia_css_dmaproxy_sp_execute: 33F3 */
 
-/* function ia_css_queue_is_empty: 70A6 */
+/* function ia_css_queue_is_empty: 70B6 */
 
-/* function ia_css_pipeline_sp_has_stopped: 1846 */
+/* function ia_css_pipeline_sp_has_stopped: 1844 */
 
 /* function ia_css_circbuf_extract: F39 */
 
-/* function ia_css_tagger_buf_sp_is_locked_from_start: 2CAF */
+/* function ia_css_tagger_buf_sp_is_locked_from_start: 2CAC */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_current_sp_thread
@@ -505,13 +505,13 @@ more details.
 #define HIVE_ADDR_sp_current_sp_thread 0x1DC
 #define HIVE_SIZE_sp_current_sp_thread 4
 
-/* function ia_css_spctrl_sp_get_spid: 5A93 */
+/* function ia_css_spctrl_sp_get_spid: 5AA3 */
 
-/* function ia_css_bufq_sp_reset_buffers: 2EC4 */
+/* function ia_css_bufq_sp_reset_buffers: 2EC1 */
 
-/* function ia_css_dmaproxy_sp_read_byte_addr: 6F87 */
+/* function ia_css_dmaproxy_sp_read_byte_addr: 6F97 */
 
-/* function ia_css_rmgr_sp_uninit: 6311 */
+/* function ia_css_rmgr_sp_uninit: 6321 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sp_threads_stack
@@ -529,18 +529,18 @@ more details.
 
 /* function ia_css_parambuf_sp_wait_for_in_param: 1048 */
 
-/* function ia_css_isys_sp_token_map_get_exp_id: 60F6 */
+/* function ia_css_isys_sp_token_map_get_exp_id: 6106 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sp_all_cb_elems_param
 #define HIVE_MEM_sp_all_cb_elems_param scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_all_cb_elems_param 0x4748
+#define HIVE_ADDR_sp_all_cb_elems_param 0x48D4
 #define HIVE_SIZE_sp_all_cb_elems_param 16
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_sp_all_cb_elems_param scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_sp_all_cb_elems_param 0x4748
+#define HIVE_ADDR_sp_sp_all_cb_elems_param 0x48D4
 #define HIVE_SIZE_sp_sp_all_cb_elems_param 16
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
@@ -558,13 +558,13 @@ more details.
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sp_all_cbs_frame_desc
 #define HIVE_MEM_sp_all_cbs_frame_desc scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_all_cbs_frame_desc 0x4758
+#define HIVE_ADDR_sp_all_cbs_frame_desc 0x48E4
 #define HIVE_SIZE_sp_all_cbs_frame_desc 8
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_sp_all_cbs_frame_desc scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_sp_all_cbs_frame_desc 0x4758
+#define HIVE_ADDR_sp_sp_all_cbs_frame_desc 0x48E4
 #define HIVE_SIZE_sp_sp_all_cbs_frame_desc 8
 
 /* function sp_isys_copy_func_v2: 69A */
@@ -572,91 +572,91 @@ more details.
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sem_for_reading_cb_param
 #define HIVE_MEM_sem_for_reading_cb_param scalar_processor_2400_dmem
-#define HIVE_ADDR_sem_for_reading_cb_param 0x4760
+#define HIVE_ADDR_sem_for_reading_cb_param 0x48EC
 #define HIVE_SIZE_sem_for_reading_cb_param 40
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_sem_for_reading_cb_param scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_sem_for_reading_cb_param 0x4760
+#define HIVE_ADDR_sp_sem_for_reading_cb_param 0x48EC
 #define HIVE_SIZE_sp_sem_for_reading_cb_param 40
 
-/* function ia_css_queue_get_used_space: 4C19 */
+/* function ia_css_queue_get_used_space: 4C14 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sem_for_cont_capt_start
 #define HIVE_MEM_sem_for_cont_capt_start scalar_processor_2400_dmem
-#define HIVE_ADDR_sem_for_cont_capt_start 0x4788
+#define HIVE_ADDR_sem_for_cont_capt_start 0x4914
 #define HIVE_SIZE_sem_for_cont_capt_start 20
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_sem_for_cont_capt_start scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_sem_for_cont_capt_start 0x4788
+#define HIVE_ADDR_sp_sem_for_cont_capt_start 0x4914
 #define HIVE_SIZE_sp_sem_for_cont_capt_start 20
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_tmp_heap
 #define HIVE_MEM_tmp_heap scalar_processor_2400_dmem
-#define HIVE_ADDR_tmp_heap 0x6078
+#define HIVE_ADDR_tmp_heap 0x6200
 #define HIVE_SIZE_tmp_heap 640
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_tmp_heap scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_tmp_heap 0x6078
+#define HIVE_ADDR_sp_tmp_heap 0x6200
 #define HIVE_SIZE_sp_tmp_heap 640
 
-/* function ia_css_rmgr_sp_get_num_vbuf: 6621 */
+/* function ia_css_rmgr_sp_get_num_vbuf: 6631 */
 
-/* function ia_css_ispctrl_sp_output_compute_dma_info: 4193 */
+/* function ia_css_ispctrl_sp_output_compute_dma_info: 418E */
 
-/* function ia_css_tagger_sp_lock_exp_id: 211D */
+/* function ia_css_tagger_sp_lock_exp_id: 211A */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ia_css_bufq_sp_pipe_private_s3a_bufs
 #define HIVE_MEM_ia_css_bufq_sp_pipe_private_s3a_bufs scalar_processor_2400_dmem
-#define HIVE_ADDR_ia_css_bufq_sp_pipe_private_s3a_bufs 0x4BF0
+#define HIVE_ADDR_ia_css_bufq_sp_pipe_private_s3a_bufs 0x4D7C
 #define HIVE_SIZE_ia_css_bufq_sp_pipe_private_s3a_bufs 60
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_ia_css_bufq_sp_pipe_private_s3a_bufs scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_ia_css_bufq_sp_pipe_private_s3a_bufs 0x4BF0
+#define HIVE_ADDR_sp_ia_css_bufq_sp_pipe_private_s3a_bufs 0x4D7C
 #define HIVE_SIZE_sp_ia_css_bufq_sp_pipe_private_s3a_bufs 60
 
-/* function ia_css_queue_is_full: 4CB0 */
+/* function ia_css_queue_is_full: 4CAB */
 
 /* function debug_buffer_init_isp: E4 */
 
-/* function ia_css_isys_sp_frontend_uninit: 5E50 */
+/* function ia_css_isys_sp_frontend_uninit: 5E60 */
 
-/* function ia_css_tagger_sp_exp_id_is_locked: 2053 */
+/* function ia_css_tagger_sp_exp_id_is_locked: 2050 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ia_css_rmgr_sp_mipi_frame_sem
 #define HIVE_MEM_ia_css_rmgr_sp_mipi_frame_sem scalar_processor_2400_dmem
-#define HIVE_ADDR_ia_css_rmgr_sp_mipi_frame_sem 0x674C
+#define HIVE_ADDR_ia_css_rmgr_sp_mipi_frame_sem 0x68D4
 #define HIVE_SIZE_ia_css_rmgr_sp_mipi_frame_sem 60
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_ia_css_rmgr_sp_mipi_frame_sem scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_ia_css_rmgr_sp_mipi_frame_sem 0x674C
+#define HIVE_ADDR_sp_ia_css_rmgr_sp_mipi_frame_sem 0x68D4
 #define HIVE_SIZE_sp_ia_css_rmgr_sp_mipi_frame_sem 60
 
-/* function ia_css_rmgr_sp_refcount_dump: 63F8 */
+/* function ia_css_rmgr_sp_refcount_dump: 6408 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ia_css_bufq_sp_pipe_private_isp_parameters_id
 #define HIVE_MEM_ia_css_bufq_sp_pipe_private_isp_parameters_id scalar_processor_2400_dmem
-#define HIVE_ADDR_ia_css_bufq_sp_pipe_private_isp_parameters_id 0x4C2C
+#define HIVE_ADDR_ia_css_bufq_sp_pipe_private_isp_parameters_id 0x4DB8
 #define HIVE_SIZE_ia_css_bufq_sp_pipe_private_isp_parameters_id 20
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_ia_css_bufq_sp_pipe_private_isp_parameters_id scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_ia_css_bufq_sp_pipe_private_isp_parameters_id 0x4C2C
+#define HIVE_ADDR_sp_ia_css_bufq_sp_pipe_private_isp_parameters_id 0x4DB8
 #define HIVE_SIZE_sp_ia_css_bufq_sp_pipe_private_isp_parameters_id 20
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
@@ -676,60 +676,60 @@ more details.
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_host2sp_isys_event_queue_handle
 #define HIVE_MEM_host2sp_isys_event_queue_handle scalar_processor_2400_dmem
-#define HIVE_ADDR_host2sp_isys_event_queue_handle 0x4C40
+#define HIVE_ADDR_host2sp_isys_event_queue_handle 0x4DCC
 #define HIVE_SIZE_host2sp_isys_event_queue_handle 12
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_host2sp_isys_event_queue_handle scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_host2sp_isys_event_queue_handle 0x4C40
+#define HIVE_ADDR_sp_host2sp_isys_event_queue_handle 0x4DCC
 #define HIVE_SIZE_sp_host2sp_isys_event_queue_handle 12
 
-/* function ia_css_thread_sp_yield: 6BF8 */
+/* function ia_css_thread_sp_yield: 6C08 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sp_all_cbs_param_desc
 #define HIVE_MEM_sp_all_cbs_param_desc scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_all_cbs_param_desc 0x479C
+#define HIVE_ADDR_sp_all_cbs_param_desc 0x4928
 #define HIVE_SIZE_sp_all_cbs_param_desc 8
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_sp_all_cbs_param_desc scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_sp_all_cbs_param_desc 0x479C
+#define HIVE_ADDR_sp_sp_all_cbs_param_desc 0x4928
 #define HIVE_SIZE_sp_sp_all_cbs_param_desc 8
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ia_css_dmaproxy_sp_invalidate_tlb
 #define HIVE_MEM_ia_css_dmaproxy_sp_invalidate_tlb scalar_processor_2400_dmem
-#define HIVE_ADDR_ia_css_dmaproxy_sp_invalidate_tlb 0x5C58
+#define HIVE_ADDR_ia_css_dmaproxy_sp_invalidate_tlb 0x5DE4
 #define HIVE_SIZE_ia_css_dmaproxy_sp_invalidate_tlb 4
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_ia_css_dmaproxy_sp_invalidate_tlb scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_ia_css_dmaproxy_sp_invalidate_tlb 0x5C58
+#define HIVE_ADDR_sp_ia_css_dmaproxy_sp_invalidate_tlb 0x5DE4
 #define HIVE_SIZE_sp_ia_css_dmaproxy_sp_invalidate_tlb 4
 
 /* function ia_css_thread_sp_fork: D05 */
 
-/* function ia_css_tagger_sp_destroy: 2844 */
+/* function ia_css_tagger_sp_destroy: 2841 */
 
-/* function ia_css_dmaproxy_sp_vmem_read: 3396 */
+/* function ia_css_dmaproxy_sp_vmem_read: 3393 */
 
-/* function ia_css_ifmtr_sp_init: 627F */
+/* function ia_css_ifmtr_sp_init: 628F */
 
 /* function initialize_sp_group: 668 */
 
-/* function ia_css_tagger_buf_sp_peek: 2ABB */
+/* function ia_css_tagger_buf_sp_peek: 2AB8 */
 
 /* function ia_css_thread_sp_init: D31 */
 
-/* function ia_css_isys_sp_reset_exp_id: 6226 */
+/* function ia_css_isys_sp_reset_exp_id: 6236 */
 
-/* function qos_scheduler_update_fps: 6771 */
+/* function qos_scheduler_update_fps: 6781 */
 
-/* function ia_css_ispctrl_sp_set_stream_base_addr: 4887 */
+/* function ia_css_ispctrl_sp_set_stream_base_addr: 4882 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ISP_DMEM_BASE
@@ -755,9 +755,9 @@ more details.
 #define HIVE_ADDR_sp_SP_DMEM_BASE 0x4
 #define HIVE_SIZE_sp_SP_DMEM_BASE 4
 
-/* function __ia_css_queue_is_empty_text: 4B76 */
+/* function __ia_css_queue_is_empty_text: 4B71 */
 
-/* function ia_css_dmaproxy_sp_read: 340C */
+/* function ia_css_dmaproxy_sp_read: 3409 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_raw_copy_line_count
@@ -774,27 +774,27 @@ more details.
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_host2sp_tag_cmd_queue_handle
 #define HIVE_MEM_host2sp_tag_cmd_queue_handle scalar_processor_2400_dmem
-#define HIVE_ADDR_host2sp_tag_cmd_queue_handle 0x4C4C
+#define HIVE_ADDR_host2sp_tag_cmd_queue_handle 0x4DD8
 #define HIVE_SIZE_host2sp_tag_cmd_queue_handle 12
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_host2sp_tag_cmd_queue_handle scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_host2sp_tag_cmd_queue_handle 0x4C4C
+#define HIVE_ADDR_sp_host2sp_tag_cmd_queue_handle 0x4DD8
 #define HIVE_SIZE_sp_host2sp_tag_cmd_queue_handle 12
 
-/* function ia_css_queue_peek: 4B8F */
+/* function ia_css_queue_peek: 4B8A */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ia_css_flash_sp_frame_cnt
 #define HIVE_MEM_ia_css_flash_sp_frame_cnt scalar_processor_2400_dmem
-#define HIVE_ADDR_ia_css_flash_sp_frame_cnt 0x4AF8
+#define HIVE_ADDR_ia_css_flash_sp_frame_cnt 0x4C84
 #define HIVE_SIZE_ia_css_flash_sp_frame_cnt 4
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_ia_css_flash_sp_frame_cnt scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_ia_css_flash_sp_frame_cnt 0x4AF8
+#define HIVE_ADDR_sp_ia_css_flash_sp_frame_cnt 0x4C84
 #define HIVE_SIZE_sp_ia_css_flash_sp_frame_cnt 4
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
@@ -812,26 +812,26 @@ more details.
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_isp_thread
 #define HIVE_MEM_isp_thread scalar_processor_2400_dmem
-#define HIVE_ADDR_isp_thread 0x5FA8
+#define HIVE_ADDR_isp_thread 0x6130
 #define HIVE_SIZE_isp_thread 4
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_isp_thread scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_isp_thread 0x5FA8
+#define HIVE_ADDR_sp_isp_thread 0x6130
 #define HIVE_SIZE_sp_isp_thread 4
 
 /* function encode_and_post_sp_event_non_blocking: A0C */
 
-/* function ia_css_isys_sp_frontend_destroy: 5F28 */
+/* function ia_css_isys_sp_frontend_destroy: 5F38 */
 
 /* function is_ddr_debug_buffer_full: 2CC */
 
-/* function ia_css_isys_sp_frontend_stop: 5E68 */
+/* function ia_css_isys_sp_frontend_stop: 5E78 */
 
-/* function ia_css_isys_sp_token_map_init: 61C4 */
+/* function ia_css_isys_sp_token_map_init: 61D4 */
 
-/* function ia_css_tagger_buf_sp_get_oldest_marked_offset: 2B0B */
+/* function ia_css_tagger_buf_sp_get_oldest_marked_offset: 2B08 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sp_threads_fiber
@@ -849,94 +849,94 @@ more details.
 
 /* function debug_enqueue_ddr: EE */
 
-/* function ia_css_rmgr_sp_refcount_init_vbuf: 63B3 */
+/* function ia_css_rmgr_sp_refcount_init_vbuf: 63C3 */
 
-/* function dmaproxy_sp_read_write: 7025 */
+/* function dmaproxy_sp_read_write: 7035 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ia_css_dmaproxy_isp_dma_cmd_buffer
 #define HIVE_MEM_ia_css_dmaproxy_isp_dma_cmd_buffer scalar_processor_2400_dmem
-#define HIVE_ADDR_ia_css_dmaproxy_isp_dma_cmd_buffer 0x5C5C
+#define HIVE_ADDR_ia_css_dmaproxy_isp_dma_cmd_buffer 0x5DE8
 #define HIVE_SIZE_ia_css_dmaproxy_isp_dma_cmd_buffer 4
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_ia_css_dmaproxy_isp_dma_cmd_buffer scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_ia_css_dmaproxy_isp_dma_cmd_buffer 0x5C5C
+#define HIVE_ADDR_sp_ia_css_dmaproxy_isp_dma_cmd_buffer 0x5DE8
 #define HIVE_SIZE_sp_ia_css_dmaproxy_isp_dma_cmd_buffer 4
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_host2sp_buffer_queue_handle
 #define HIVE_MEM_host2sp_buffer_queue_handle scalar_processor_2400_dmem
-#define HIVE_ADDR_host2sp_buffer_queue_handle 0x4C58
+#define HIVE_ADDR_host2sp_buffer_queue_handle 0x4DE4
 #define HIVE_SIZE_host2sp_buffer_queue_handle 480
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_host2sp_buffer_queue_handle scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_host2sp_buffer_queue_handle 0x4C58
+#define HIVE_ADDR_sp_host2sp_buffer_queue_handle 0x4DE4
 #define HIVE_SIZE_sp_host2sp_buffer_queue_handle 480
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ia_css_flash_sp_in_service
 #define HIVE_MEM_ia_css_flash_sp_in_service scalar_processor_2400_dmem
-#define HIVE_ADDR_ia_css_flash_sp_in_service 0x31A0
+#define HIVE_ADDR_ia_css_flash_sp_in_service 0x3278
 #define HIVE_SIZE_ia_css_flash_sp_in_service 4
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_ia_css_flash_sp_in_service scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_ia_css_flash_sp_in_service 0x31A0
+#define HIVE_ADDR_sp_ia_css_flash_sp_in_service 0x3278
 #define HIVE_SIZE_sp_ia_css_flash_sp_in_service 4
 
-/* function ia_css_dmaproxy_sp_process: 6D71 */
+/* function ia_css_dmaproxy_sp_process: 6D81 */
 
-/* function ia_css_tagger_buf_sp_mark_from_end: 2D93 */
+/* function ia_css_tagger_buf_sp_mark_from_end: 2D90 */
 
-/* function ia_css_isys_sp_backend_rcv_acquire_ack: 5B35 */
+/* function ia_css_isys_sp_backend_rcv_acquire_ack: 5B45 */
 
-/* function ia_css_isys_sp_backend_pre_acquire_request: 5B4B */
+/* function ia_css_isys_sp_backend_pre_acquire_request: 5B5B */
 
-/* function ia_css_ispctrl_sp_init_cs: 3855 */
+/* function ia_css_ispctrl_sp_init_cs: 3852 */
 
-/* function ia_css_spctrl_sp_init: 5AA1 */
+/* function ia_css_spctrl_sp_init: 5AB1 */
 
 /* function sp_event_proxy_init: 6C4 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ia_css_bufq_sp_pipe_private_previous_clock_tick
 #define HIVE_MEM_ia_css_bufq_sp_pipe_private_previous_clock_tick scalar_processor_2400_dmem
-#define HIVE_ADDR_ia_css_bufq_sp_pipe_private_previous_clock_tick 0x4E38
+#define HIVE_ADDR_ia_css_bufq_sp_pipe_private_previous_clock_tick 0x4FC4
 #define HIVE_SIZE_ia_css_bufq_sp_pipe_private_previous_clock_tick 40
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_ia_css_bufq_sp_pipe_private_previous_clock_tick scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_ia_css_bufq_sp_pipe_private_previous_clock_tick 0x4E38
+#define HIVE_ADDR_sp_ia_css_bufq_sp_pipe_private_previous_clock_tick 0x4FC4
 #define HIVE_SIZE_sp_ia_css_bufq_sp_pipe_private_previous_clock_tick 40
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sp_output
 #define HIVE_MEM_sp_output scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_output 0x4220
+#define HIVE_ADDR_sp_output 0x4370
 #define HIVE_SIZE_sp_output 16
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_sp_output scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_sp_output 0x4220
+#define HIVE_ADDR_sp_sp_output 0x4370
 #define HIVE_SIZE_sp_sp_output 16
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ia_css_bufq_sp_sems_for_host2sp_buf_queues
 #define HIVE_MEM_ia_css_bufq_sp_sems_for_host2sp_buf_queues scalar_processor_2400_dmem
-#define HIVE_ADDR_ia_css_bufq_sp_sems_for_host2sp_buf_queues 0x4E60
+#define HIVE_ADDR_ia_css_bufq_sp_sems_for_host2sp_buf_queues 0x4FEC
 #define HIVE_SIZE_ia_css_bufq_sp_sems_for_host2sp_buf_queues 800
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_ia_css_bufq_sp_sems_for_host2sp_buf_queues scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_ia_css_bufq_sp_sems_for_host2sp_buf_queues 0x4E60
+#define HIVE_ADDR_sp_ia_css_bufq_sp_sems_for_host2sp_buf_queues 0x4FEC
 #define HIVE_SIZE_sp_ia_css_bufq_sp_sems_for_host2sp_buf_queues 800
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
@@ -963,38 +963,38 @@ more details.
 #define HIVE_ADDR_sp_INPUT_FORMATTER_BASE 0x4C
 #define HIVE_SIZE_sp_INPUT_FORMATTER_BASE 16
 
-/* function sp_dma_proxy_reset_channels: 367B */
+/* function sp_dma_proxy_reset_channels: 3678 */
 
-/* function ia_css_isys_sp_backend_acquire: 5C56 */
+/* function ia_css_isys_sp_backend_acquire: 5C66 */
 
-/* function ia_css_tagger_sp_update_size: 2A8A */
+/* function ia_css_tagger_sp_update_size: 2A87 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ia_css_bufq_host_sp_queue
 #define HIVE_MEM_ia_css_bufq_host_sp_queue scalar_processor_2400_dmem
-#define HIVE_ADDR_ia_css_bufq_host_sp_queue 0x5180
+#define HIVE_ADDR_ia_css_bufq_host_sp_queue 0x530C
 #define HIVE_SIZE_ia_css_bufq_host_sp_queue 2008
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_ia_css_bufq_host_sp_queue scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_ia_css_bufq_host_sp_queue 0x5180
+#define HIVE_ADDR_sp_ia_css_bufq_host_sp_queue 0x530C
 #define HIVE_SIZE_sp_ia_css_bufq_host_sp_queue 2008
 
 /* function thread_fiber_sp_create: D9D */
 
-/* function ia_css_dmaproxy_sp_set_increments: 350D */
+/* function ia_css_dmaproxy_sp_set_increments: 350A */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sem_for_writing_cb_frame
 #define HIVE_MEM_sem_for_writing_cb_frame scalar_processor_2400_dmem
-#define HIVE_ADDR_sem_for_writing_cb_frame 0x47A4
+#define HIVE_ADDR_sem_for_writing_cb_frame 0x4930
 #define HIVE_SIZE_sem_for_writing_cb_frame 20
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_sem_for_writing_cb_frame scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_sem_for_writing_cb_frame 0x47A4
+#define HIVE_ADDR_sp_sem_for_writing_cb_frame 0x4930
 #define HIVE_SIZE_sp_sem_for_writing_cb_frame 20
 
 /* function receiver_reg_store: AD1 */
@@ -1002,13 +1002,13 @@ more details.
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sem_for_writing_cb_param
 #define HIVE_MEM_sem_for_writing_cb_param scalar_processor_2400_dmem
-#define HIVE_ADDR_sem_for_writing_cb_param 0x47B8
+#define HIVE_ADDR_sem_for_writing_cb_param 0x4944
 #define HIVE_SIZE_sem_for_writing_cb_param 20
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_sem_for_writing_cb_param scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_sem_for_writing_cb_param 0x47B8
+#define HIVE_ADDR_sp_sem_for_writing_cb_param 0x4944
 #define HIVE_SIZE_sp_sem_for_writing_cb_param 20
 
 /* function sp_start_isp_entry: 453 */
@@ -1019,51 +1019,51 @@ more details.
 #endif
 #define HIVE_ADDR_sp_sp_start_isp_entry 0x453
 
-/* function ia_css_tagger_buf_sp_unmark_all: 2D17 */
+/* function ia_css_tagger_buf_sp_unmark_all: 2D14 */
 
-/* function ia_css_tagger_buf_sp_unmark_from_start: 2D58 */
+/* function ia_css_tagger_buf_sp_unmark_from_start: 2D55 */
 
-/* function ia_css_dmaproxy_sp_channel_acquire: 36A7 */
+/* function ia_css_dmaproxy_sp_channel_acquire: 36A4 */
 
-/* function ia_css_rmgr_sp_add_num_vbuf: 65FD */
+/* function ia_css_rmgr_sp_add_num_vbuf: 660D */
 
-/* function ia_css_isys_sp_token_map_create: 620D */
+/* function ia_css_isys_sp_token_map_create: 621D */
 
-/* function __ia_css_dmaproxy_sp_wait_for_ack_text: 3362 */
+/* function __ia_css_dmaproxy_sp_wait_for_ack_text: 335F */
 
-/* function ia_css_tagger_sp_acquire_buf_elem: 202B */
+/* function ia_css_tagger_sp_acquire_buf_elem: 2028 */
 
-/* function ia_css_bufq_sp_is_dynamic_buffer: 320E */
+/* function ia_css_bufq_sp_is_dynamic_buffer: 320B */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sp_group
 #define HIVE_MEM_sp_group scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_group 0x4230
-#define HIVE_SIZE_sp_group 1184
+#define HIVE_ADDR_sp_group 0x4380
+#define HIVE_SIZE_sp_group 1244
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_sp_group scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_sp_group 0x4230
-#define HIVE_SIZE_sp_sp_group 1184
+#define HIVE_ADDR_sp_sp_group 0x4380
+#define HIVE_SIZE_sp_sp_group 1244
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sp_event_proxy_thread
 #define HIVE_MEM_sp_event_proxy_thread scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_event_proxy_thread 0x49B8
+#define HIVE_ADDR_sp_event_proxy_thread 0x4B44
 #define HIVE_SIZE_sp_event_proxy_thread 72
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_sp_event_proxy_thread scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_sp_event_proxy_thread 0x49B8
+#define HIVE_ADDR_sp_sp_event_proxy_thread 0x4B44
 #define HIVE_SIZE_sp_sp_event_proxy_thread 72
 
 /* function ia_css_thread_sp_kill: CCB */
 
-/* function ia_css_tagger_sp_create: 2A38 */
+/* function ia_css_tagger_sp_create: 2A35 */
 
-/* function tmpmem_acquire_dmem: 66AA */
+/* function tmpmem_acquire_dmem: 66BA */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_MMU_BASE
@@ -1077,41 +1077,41 @@ more details.
 #define HIVE_ADDR_sp_MMU_BASE 0x24
 #define HIVE_SIZE_sp_MMU_BASE 8
 
-/* function ia_css_dmaproxy_sp_channel_release: 3693 */
+/* function ia_css_dmaproxy_sp_channel_release: 3690 */
 
-/* function ia_css_dmaproxy_sp_is_idle: 3673 */
+/* function ia_css_dmaproxy_sp_is_idle: 3670 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sem_for_qos_start
 #define HIVE_MEM_sem_for_qos_start scalar_processor_2400_dmem
-#define HIVE_ADDR_sem_for_qos_start 0x47CC
+#define HIVE_ADDR_sem_for_qos_start 0x4958
 #define HIVE_SIZE_sem_for_qos_start 20
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_sem_for_qos_start scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_sem_for_qos_start 0x47CC
+#define HIVE_ADDR_sp_sem_for_qos_start 0x4958
 #define HIVE_SIZE_sp_sem_for_qos_start 20
 
 /* function isp_hmem_load: B4F */
 
-/* function ia_css_tagger_sp_release_buf_elem: 2007 */
+/* function ia_css_tagger_sp_release_buf_elem: 2004 */
 
-/* function ia_css_eventq_sp_send: 36E9 */
+/* function ia_css_eventq_sp_send: 36E6 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ia_css_isys_sp_error_cnt
 #define HIVE_MEM_ia_css_isys_sp_error_cnt scalar_processor_2400_dmem
-#define HIVE_ADDR_ia_css_isys_sp_error_cnt 0x6338
+#define HIVE_ADDR_ia_css_isys_sp_error_cnt 0x64C0
 #define HIVE_SIZE_ia_css_isys_sp_error_cnt 16
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_ia_css_isys_sp_error_cnt scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_ia_css_isys_sp_error_cnt 0x6338
+#define HIVE_ADDR_sp_ia_css_isys_sp_error_cnt 0x64C0
 #define HIVE_SIZE_sp_ia_css_isys_sp_error_cnt 16
 
-/* function ia_css_tagger_buf_sp_unlock_from_start: 2C47 */
+/* function ia_css_tagger_buf_sp_unlock_from_start: 2C44 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_debug_buffer_ddr_address
@@ -1127,35 +1127,35 @@ more details.
 
 /* function sp_isys_copy_request: 6A8 */
 
-/* function ia_css_rmgr_sp_refcount_retain_vbuf: 648D */
+/* function ia_css_rmgr_sp_refcount_retain_vbuf: 649D */
 
 /* function ia_css_thread_sp_set_priority: CC3 */
 
 /* function sizeof_hmem: BF6 */
 
-/* function tmpmem_release_dmem: 6699 */
+/* function tmpmem_release_dmem: 66A9 */
 
 /* function cnd_input_system_cfg: 392 */
 
-/* function __ia_css_sp_rawcopy_func_critical: 70D0 */
+/* function __ia_css_sp_rawcopy_func_critical: 70E0 */
 
-/* function __ia_css_dmaproxy_sp_process_text: 3306 */
+/* function __ia_css_dmaproxy_sp_process_text: 3303 */
 
-/* function ia_css_dmaproxy_sp_set_width_exception: 34F8 */
+/* function ia_css_dmaproxy_sp_set_width_exception: 34F5 */
 
 /* function sp_event_assert: 845 */
 
-/* function ia_css_flash_sp_init_internal_params: 2E32 */
+/* function ia_css_flash_sp_init_internal_params: 2E2F */
 
-/* function ia_css_tagger_buf_sp_pop_unmarked_and_unlocked: 2B4D */
+/* function ia_css_tagger_buf_sp_pop_unmarked_and_unlocked: 2B4A */
 
-/* function __modu: 6A3C */
+/* function __modu: 6A4C */
 
-/* function ia_css_dmaproxy_sp_init_isp_vector: 3368 */
+/* function ia_css_dmaproxy_sp_init_isp_vector: 3365 */
 
 /* function isp_vamem_store: 0 */
 
-/* function ia_css_tagger_sp_set_copy_pipe: 2A2F */
+/* function ia_css_tagger_sp_set_copy_pipe: 2A2C */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_GDC_BASE
@@ -1169,22 +1169,22 @@ more details.
 #define HIVE_ADDR_sp_GDC_BASE 0x44
 #define HIVE_SIZE_sp_GDC_BASE 8
 
-/* function ia_css_queue_local_init: 4E7A */
+/* function ia_css_queue_local_init: 4E75 */
 
-/* function sp_event_proxy_callout_func: 6B09 */
+/* function sp_event_proxy_callout_func: 6B19 */
 
-/* function qos_scheduler_schedule_stage: 671D */
+/* function qos_scheduler_schedule_stage: 672D */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ia_css_thread_sp_num_ready_threads
 #define HIVE_MEM_ia_css_thread_sp_num_ready_threads scalar_processor_2400_dmem
-#define HIVE_ADDR_ia_css_thread_sp_num_ready_threads 0x4A48
+#define HIVE_ADDR_ia_css_thread_sp_num_ready_threads 0x4BD4
 #define HIVE_SIZE_ia_css_thread_sp_num_ready_threads 4
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_ia_css_thread_sp_num_ready_threads scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_ia_css_thread_sp_num_ready_threads 0x4A48
+#define HIVE_ADDR_sp_ia_css_thread_sp_num_ready_threads 0x4BD4
 #define HIVE_SIZE_sp_ia_css_thread_sp_num_ready_threads 4
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
@@ -1199,31 +1199,31 @@ more details.
 #define HIVE_ADDR_sp_sp_threads_stack_size 0x180
 #define HIVE_SIZE_sp_sp_threads_stack_size 28
 
-/* function ia_css_ispctrl_sp_isp_done_row_striping: 4179 */
+/* function ia_css_ispctrl_sp_isp_done_row_striping: 4174 */
 
-/* function __ia_css_isys_sp_isr_text: 5F52 */
+/* function __ia_css_isys_sp_isr_text: 5F62 */
 
-/* function ia_css_queue_dequeue: 4CF8 */
+/* function ia_css_queue_dequeue: 4CF3 */
 
-/* function is_qos_standalone_mode: 66F8 */
+/* function is_qos_standalone_mode: 6708 */
 
-/* function ia_css_dmaproxy_sp_configure_channel: 6F9E */
+/* function ia_css_dmaproxy_sp_configure_channel: 6FAE */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_current_thread_fiber_sp
 #define HIVE_MEM_current_thread_fiber_sp scalar_processor_2400_dmem
-#define HIVE_ADDR_current_thread_fiber_sp 0x4A4C
+#define HIVE_ADDR_current_thread_fiber_sp 0x4BD8
 #define HIVE_SIZE_current_thread_fiber_sp 4
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_current_thread_fiber_sp scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_current_thread_fiber_sp 0x4A4C
+#define HIVE_ADDR_sp_current_thread_fiber_sp 0x4BD8
 #define HIVE_SIZE_sp_current_thread_fiber_sp 4
 
 /* function ia_css_circbuf_pop: FCD */
 
-/* function memset: 6ABB */
+/* function memset: 6ACB */
 
 /* function irq_raise_set_token: B6 */
 
@@ -1239,38 +1239,38 @@ more details.
 #define HIVE_ADDR_sp_GPIO_BASE 0x3C
 #define HIVE_SIZE_sp_GPIO_BASE 4
 
-/* function ia_css_pipeline_acc_stage_enable: 17FF */
+/* function ia_css_pipeline_acc_stage_enable: 17FD */
 
-/* function ia_css_tagger_sp_unlock_exp_id: 2078 */
+/* function ia_css_tagger_sp_unlock_exp_id: 2075 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_isp_ph
 #define HIVE_MEM_isp_ph scalar_processor_2400_dmem
-#define HIVE_ADDR_isp_ph 0x6348
+#define HIVE_ADDR_isp_ph 0x64D0
 #define HIVE_SIZE_isp_ph 28
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_isp_ph scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_isp_ph 0x6348
+#define HIVE_ADDR_sp_isp_ph 0x64D0
 #define HIVE_SIZE_sp_isp_ph 28
 
-/* function ia_css_isys_sp_token_map_flush: 6152 */
+/* function ia_css_isys_sp_token_map_flush: 6162 */
 
-/* function ia_css_ispctrl_sp_init_ds: 39E1 */
+/* function ia_css_ispctrl_sp_init_ds: 39DE */
 
-/* function get_xmem_base_addr_raw: 3D9C */
+/* function get_xmem_base_addr_raw: 3D99 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sp_all_cbs_param
 #define HIVE_MEM_sp_all_cbs_param scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_all_cbs_param 0x47E0
+#define HIVE_ADDR_sp_all_cbs_param 0x496C
 #define HIVE_SIZE_sp_all_cbs_param 16
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_sp_all_cbs_param scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_sp_all_cbs_param 0x47E0
+#define HIVE_ADDR_sp_sp_all_cbs_param 0x496C
 #define HIVE_SIZE_sp_sp_all_cbs_param 16
 
 /* function ia_css_circbuf_create: 101B */
@@ -1278,46 +1278,46 @@ more details.
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sem_for_sp_group
 #define HIVE_MEM_sem_for_sp_group scalar_processor_2400_dmem
-#define HIVE_ADDR_sem_for_sp_group 0x47F0
+#define HIVE_ADDR_sem_for_sp_group 0x497C
 #define HIVE_SIZE_sem_for_sp_group 20
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_sem_for_sp_group scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_sem_for_sp_group 0x47F0
+#define HIVE_ADDR_sp_sem_for_sp_group 0x497C
 #define HIVE_SIZE_sp_sem_for_sp_group 20
 
-/* function __ia_css_dmaproxy_sp_configure_channel_text: 34D7 */
+/* function __ia_css_dmaproxy_sp_configure_channel_text: 34D4 */
 
-/* function ia_css_framebuf_sp_wait_for_in_frame: 6628 */
+/* function ia_css_framebuf_sp_wait_for_in_frame: 6638 */
 
-/* function ia_css_sp_rawcopy_tag_frame: 57BE */
+/* function ia_css_sp_rawcopy_tag_frame: 57CE */
 
 /* function isp_hmem_clear: B1F */
 
-/* function ia_css_framebuf_sp_release_in_frame: 666B */
+/* function ia_css_framebuf_sp_release_in_frame: 667B */
 
-/* function ia_css_isys_sp_backend_snd_acquire_request: 5BA8 */
+/* function ia_css_isys_sp_backend_snd_acquire_request: 5BB8 */
 
-/* function ia_css_isys_sp_token_map_is_full: 5FD9 */
+/* function ia_css_isys_sp_token_map_is_full: 5FE9 */
 
 /* function input_system_acquisition_run: AF3 */
 
-/* function ia_css_ispctrl_sp_start_binary: 3833 */
+/* function ia_css_ispctrl_sp_start_binary: 3830 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ia_css_bufq_sp_h_pipe_private_ddr_ptrs
 #define HIVE_MEM_ia_css_bufq_sp_h_pipe_private_ddr_ptrs scalar_processor_2400_dmem
-#define HIVE_ADDR_ia_css_bufq_sp_h_pipe_private_ddr_ptrs 0x5958
+#define HIVE_ADDR_ia_css_bufq_sp_h_pipe_private_ddr_ptrs 0x5AE4
 #define HIVE_SIZE_ia_css_bufq_sp_h_pipe_private_ddr_ptrs 20
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_ia_css_bufq_sp_h_pipe_private_ddr_ptrs scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_ia_css_bufq_sp_h_pipe_private_ddr_ptrs 0x5958
+#define HIVE_ADDR_sp_ia_css_bufq_sp_h_pipe_private_ddr_ptrs 0x5AE4
 #define HIVE_SIZE_sp_ia_css_bufq_sp_h_pipe_private_ddr_ptrs 20
 
-/* function ia_css_eventq_sp_recv: 36BB */
+/* function ia_css_eventq_sp_recv: 36B8 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_isp_pool
@@ -1331,11 +1331,11 @@ more details.
 #define HIVE_ADDR_sp_isp_pool 0x308
 #define HIVE_SIZE_sp_isp_pool 4
 
-/* function ia_css_rmgr_sp_rel_gen: 635A */
+/* function ia_css_rmgr_sp_rel_gen: 636A */
 
-/* function ia_css_tagger_sp_unblock_clients: 2900 */
+/* function ia_css_tagger_sp_unblock_clients: 28FD */
 
-/* function css_get_frame_processing_time_end: 1FF7 */
+/* function css_get_frame_processing_time_end: 1FF4 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_event_any_pending_mask
@@ -1349,15 +1349,15 @@ more details.
 #define HIVE_ADDR_sp_event_any_pending_mask 0x320
 #define HIVE_SIZE_sp_event_any_pending_mask 8
 
-/* function ia_css_isys_sp_backend_push: 5B5F */
+/* function ia_css_isys_sp_backend_push: 5B6F */
 
 /* function sh_css_decode_tag_descr: 352 */
 
 /* function debug_enqueue_isp: 27B */
 
-/* function qos_scheduler_update_stage_budget: 6700 */
+/* function qos_scheduler_update_stage_budget: 6710 */
 
-/* function ia_css_spctrl_sp_uninit: 5A9A */
+/* function ia_css_spctrl_sp_uninit: 5AAA */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_HIVE_IF_SWITCH_CODE
@@ -1374,34 +1374,34 @@ more details.
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ia_css_bufq_sp_pipe_private_dis_bufs
 #define HIVE_MEM_ia_css_bufq_sp_pipe_private_dis_bufs scalar_processor_2400_dmem
-#define HIVE_ADDR_ia_css_bufq_sp_pipe_private_dis_bufs 0x596C
+#define HIVE_ADDR_ia_css_bufq_sp_pipe_private_dis_bufs 0x5AF8
 #define HIVE_SIZE_ia_css_bufq_sp_pipe_private_dis_bufs 140
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_ia_css_bufq_sp_pipe_private_dis_bufs scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_ia_css_bufq_sp_pipe_private_dis_bufs 0x596C
+#define HIVE_ADDR_sp_ia_css_bufq_sp_pipe_private_dis_bufs 0x5AF8
 #define HIVE_SIZE_sp_ia_css_bufq_sp_pipe_private_dis_bufs 140
 
-/* function ia_css_tagger_buf_sp_lock_from_start: 2C7B */
+/* function ia_css_tagger_buf_sp_lock_from_start: 2C78 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sem_for_isp_idle
 #define HIVE_MEM_sem_for_isp_idle scalar_processor_2400_dmem
-#define HIVE_ADDR_sem_for_isp_idle 0x4804
+#define HIVE_ADDR_sem_for_isp_idle 0x4990
 #define HIVE_SIZE_sem_for_isp_idle 20
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_sem_for_isp_idle scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_sem_for_isp_idle 0x4804
+#define HIVE_ADDR_sp_sem_for_isp_idle 0x4990
 #define HIVE_SIZE_sp_sem_for_isp_idle 20
 
-/* function ia_css_dmaproxy_sp_write_byte_addr: 33C5 */
+/* function ia_css_dmaproxy_sp_write_byte_addr: 33C2 */
 
-/* function ia_css_dmaproxy_sp_init: 333C */
+/* function ia_css_dmaproxy_sp_init: 3339 */
 
-/* function ia_css_bufq_sp_release_dynamic_buf_clock_tick: 2F04 */
+/* function ia_css_bufq_sp_release_dynamic_buf_clock_tick: 2F01 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ISP_VAMEM_BASE
@@ -1418,32 +1418,32 @@ more details.
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ia_css_rawcopy_sp_tagger
 #define HIVE_MEM_ia_css_rawcopy_sp_tagger scalar_processor_2400_dmem
-#define HIVE_ADDR_ia_css_rawcopy_sp_tagger 0x62F8
+#define HIVE_ADDR_ia_css_rawcopy_sp_tagger 0x6480
 #define HIVE_SIZE_ia_css_rawcopy_sp_tagger 24
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_ia_css_rawcopy_sp_tagger scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_ia_css_rawcopy_sp_tagger 0x62F8
+#define HIVE_ADDR_sp_ia_css_rawcopy_sp_tagger 0x6480
 #define HIVE_SIZE_sp_ia_css_rawcopy_sp_tagger 24
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ia_css_bufq_sp_pipe_private_exp_ids
 #define HIVE_MEM_ia_css_bufq_sp_pipe_private_exp_ids scalar_processor_2400_dmem
-#define HIVE_ADDR_ia_css_bufq_sp_pipe_private_exp_ids 0x59F8
+#define HIVE_ADDR_ia_css_bufq_sp_pipe_private_exp_ids 0x5B84
 #define HIVE_SIZE_ia_css_bufq_sp_pipe_private_exp_ids 70
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_ia_css_bufq_sp_pipe_private_exp_ids scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_ia_css_bufq_sp_pipe_private_exp_ids 0x59F8
+#define HIVE_ADDR_sp_ia_css_bufq_sp_pipe_private_exp_ids 0x5B84
 #define HIVE_SIZE_sp_ia_css_bufq_sp_pipe_private_exp_ids 70
 
-/* function ia_css_queue_item_load: 4F6C */
+/* function ia_css_queue_item_load: 4F67 */
 
-/* function ia_css_spctrl_sp_get_state: 5A85 */
+/* function ia_css_spctrl_sp_get_state: 5A95 */
 
-/* function ia_css_isys_sp_token_map_uninit: 616F */
+/* function ia_css_isys_sp_token_map_uninit: 617F */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_callout_sp_thread
@@ -1471,53 +1471,53 @@ more details.
 #define HIVE_ADDR_sp_SP_PMEM_BASE 0x0
 #define HIVE_SIZE_sp_SP_PMEM_BASE 4
 
-/* function ia_css_isys_sp_token_map_snd_acquire_req: 60DF */
+/* function ia_css_isys_sp_token_map_snd_acquire_req: 60EF */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sp_isp_input_stream_format
 #define HIVE_MEM_sp_isp_input_stream_format scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_isp_input_stream_format 0x4120
+#define HIVE_ADDR_sp_isp_input_stream_format 0x4270
 #define HIVE_SIZE_sp_isp_input_stream_format 20
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_sp_isp_input_stream_format scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_sp_isp_input_stream_format 0x4120
+#define HIVE_ADDR_sp_sp_isp_input_stream_format 0x4270
 #define HIVE_SIZE_sp_sp_isp_input_stream_format 20
 
-/* function __mod: 6A28 */
+/* function __mod: 6A38 */
 
-/* function ia_css_dmaproxy_sp_init_dmem_channel: 3426 */
+/* function ia_css_dmaproxy_sp_init_dmem_channel: 3423 */
 
 /* function ia_css_thread_sp_join: CF4 */
 
-/* function ia_css_dmaproxy_sp_add_command: 7090 */
+/* function ia_css_dmaproxy_sp_add_command: 70A0 */
 
-/* function ia_css_sp_metadata_thread_func: 595D */
+/* function ia_css_sp_metadata_thread_func: 596D */
 
-/* function __sp_event_proxy_func_critical: 6AF6 */
+/* function __sp_event_proxy_func_critical: 6B06 */
 
-/* function ia_css_sp_metadata_wait: 5A4C */
+/* function ia_css_sp_metadata_wait: 5A5C */
 
 /* function ia_css_circbuf_peek_from_start: EFD */
 
-/* function ia_css_event_sp_encode: 3746 */
+/* function ia_css_event_sp_encode: 3743 */
 
 /* function ia_css_thread_sp_run: D67 */
 
 /* function sp_isys_copy_func: 68A */
 
-/* function ia_css_isys_sp_backend_flush: 5BC8 */
+/* function ia_css_isys_sp_backend_flush: 5BD8 */
 
-/* function ia_css_isys_sp_backend_frame_exists: 5AE4 */
+/* function ia_css_isys_sp_backend_frame_exists: 5AF4 */
 
-/* function ia_css_sp_isp_param_init_isp_memories: 4A1F */
+/* function ia_css_sp_isp_param_init_isp_memories: 4A1A */
 
 /* function register_isr: 83D */
 
 /* function irq_raise: C8 */
 
-/* function ia_css_dmaproxy_sp_mmu_invalidate: 32CC */
+/* function ia_css_dmaproxy_sp_mmu_invalidate: 32C9 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_HIVE_IF_SRST_ADDRESS
@@ -1531,25 +1531,25 @@ more details.
 #define HIVE_ADDR_sp_HIVE_IF_SRST_ADDRESS 0x1B8
 #define HIVE_SIZE_sp_HIVE_IF_SRST_ADDRESS 16
 
-/* function pipeline_sp_initialize_stage: 1945 */
+/* function pipeline_sp_initialize_stage: 1943 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ia_css_isys_sp_frontend_states
 #define HIVE_MEM_ia_css_isys_sp_frontend_states scalar_processor_2400_dmem
-#define HIVE_ADDR_ia_css_isys_sp_frontend_states 0x632C
+#define HIVE_ADDR_ia_css_isys_sp_frontend_states 0x64B4
 #define HIVE_SIZE_ia_css_isys_sp_frontend_states 12
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_ia_css_isys_sp_frontend_states scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_ia_css_isys_sp_frontend_states 0x632C
+#define HIVE_ADDR_sp_ia_css_isys_sp_frontend_states 0x64B4
 #define HIVE_SIZE_sp_ia_css_isys_sp_frontend_states 12
 
-/* function ia_css_dmaproxy_sp_read_byte_addr_mmio: 6F70 */
+/* function ia_css_dmaproxy_sp_read_byte_addr_mmio: 6F80 */
 
-/* function ia_css_ispctrl_sp_done_ds: 39C8 */
+/* function ia_css_ispctrl_sp_done_ds: 39C5 */
 
-/* function ia_css_sp_isp_param_get_mem_inits: 49FA */
+/* function ia_css_sp_isp_param_get_mem_inits: 49F5 */
 
 /* function ia_css_parambuf_sp_init_buffer_queues: 13F1 */
 
@@ -1582,122 +1582,122 @@ more details.
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ia_css_bufq_sp_pipe_private_frames
 #define HIVE_MEM_ia_css_bufq_sp_pipe_private_frames scalar_processor_2400_dmem
-#define HIVE_ADDR_ia_css_bufq_sp_pipe_private_frames 0x5A40
+#define HIVE_ADDR_ia_css_bufq_sp_pipe_private_frames 0x5BCC
 #define HIVE_SIZE_ia_css_bufq_sp_pipe_private_frames 280
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_ia_css_bufq_sp_pipe_private_frames scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_ia_css_bufq_sp_pipe_private_frames 0x5A40
+#define HIVE_ADDR_sp_ia_css_bufq_sp_pipe_private_frames 0x5BCC
 #define HIVE_SIZE_sp_ia_css_bufq_sp_pipe_private_frames 280
 
-/* function qos_scheduler_init_stage_budget: 675E */
+/* function qos_scheduler_init_stage_budget: 676E */
 
-/* function ia_css_isys_sp_backend_release: 5C3D */
+/* function ia_css_isys_sp_backend_release: 5C4D */
 
-/* function ia_css_isys_sp_backend_destroy: 5C67 */
+/* function ia_css_isys_sp_backend_destroy: 5C77 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sp2host_buffer_queue_handle
 #define HIVE_MEM_sp2host_buffer_queue_handle scalar_processor_2400_dmem
-#define HIVE_ADDR_sp2host_buffer_queue_handle 0x5B58
+#define HIVE_ADDR_sp2host_buffer_queue_handle 0x5CE4
 #define HIVE_SIZE_sp2host_buffer_queue_handle 96
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_sp2host_buffer_queue_handle scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_sp2host_buffer_queue_handle 0x5B58
+#define HIVE_ADDR_sp_sp2host_buffer_queue_handle 0x5CE4
 #define HIVE_SIZE_sp_sp2host_buffer_queue_handle 96
 
-/* function ia_css_isys_sp_token_map_check_mipi_frame_size: 60A3 */
+/* function ia_css_isys_sp_token_map_check_mipi_frame_size: 60B3 */
 
-/* function ia_css_ispctrl_sp_init_isp_vars: 46EC */
+/* function ia_css_ispctrl_sp_init_isp_vars: 46E7 */
 
-/* function ia_css_isys_sp_frontend_has_empty_mipi_buffer_cb: 5CB9 */
+/* function ia_css_isys_sp_frontend_has_empty_mipi_buffer_cb: 5CC9 */
 
 /* function sp_warning: 870 */
 
-/* function ia_css_rmgr_sp_vbuf_enqueue: 644D */
+/* function ia_css_rmgr_sp_vbuf_enqueue: 645D */
 
-/* function ia_css_tagger_sp_tag_exp_id: 2192 */
+/* function ia_css_tagger_sp_tag_exp_id: 218F */
 
-/* function ia_css_dmaproxy_sp_write: 33DC */
+/* function ia_css_dmaproxy_sp_write: 33D9 */
 
 /* function ia_css_parambuf_sp_release_in_param: 1245 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_irq_sw_interrupt_token
 #define HIVE_MEM_irq_sw_interrupt_token scalar_processor_2400_dmem
-#define HIVE_ADDR_irq_sw_interrupt_token 0x411C
+#define HIVE_ADDR_irq_sw_interrupt_token 0x426C
 #define HIVE_SIZE_irq_sw_interrupt_token 4
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_irq_sw_interrupt_token scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_irq_sw_interrupt_token 0x411C
+#define HIVE_ADDR_sp_irq_sw_interrupt_token 0x426C
 #define HIVE_SIZE_sp_irq_sw_interrupt_token 4
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sp_isp_addresses
 #define HIVE_MEM_sp_isp_addresses scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_isp_addresses 0x5FAC
+#define HIVE_ADDR_sp_isp_addresses 0x6134
 #define HIVE_SIZE_sp_isp_addresses 172
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_sp_isp_addresses scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_sp_isp_addresses 0x5FAC
+#define HIVE_ADDR_sp_sp_isp_addresses 0x6134
 #define HIVE_SIZE_sp_sp_isp_addresses 172
 
-/* function ia_css_rmgr_sp_acq_gen: 6372 */
+/* function ia_css_rmgr_sp_acq_gen: 6382 */
 
 /* function receiver_reg_load: ACA */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_isps
 #define HIVE_MEM_isps scalar_processor_2400_dmem
-#define HIVE_ADDR_isps 0x6364
+#define HIVE_ADDR_isps 0x64EC
 #define HIVE_SIZE_isps 28
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_isps scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_isps 0x6364
+#define HIVE_ADDR_sp_isps 0x64EC
 #define HIVE_SIZE_sp_isps 28
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_host_sp_queues_initialized
 #define HIVE_MEM_host_sp_queues_initialized scalar_processor_2400_dmem
-#define HIVE_ADDR_host_sp_queues_initialized 0x4134
+#define HIVE_ADDR_host_sp_queues_initialized 0x4284
 #define HIVE_SIZE_host_sp_queues_initialized 4
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_host_sp_queues_initialized scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_host_sp_queues_initialized 0x4134
+#define HIVE_ADDR_sp_host_sp_queues_initialized 0x4284
 #define HIVE_SIZE_sp_host_sp_queues_initialized 4
 
-/* function ia_css_queue_uninit: 4E38 */
+/* function ia_css_queue_uninit: 4E33 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ia_css_ispctrl_sp_isp_started
 #define HIVE_MEM_ia_css_ispctrl_sp_isp_started scalar_processor_2400_dmem
-#define HIVE_ADDR_ia_css_ispctrl_sp_isp_started 0x5C60
+#define HIVE_ADDR_ia_css_ispctrl_sp_isp_started 0x5DEC
 #define HIVE_SIZE_ia_css_ispctrl_sp_isp_started 4
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_ia_css_ispctrl_sp_isp_started scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_ia_css_ispctrl_sp_isp_started 0x5C60
+#define HIVE_ADDR_sp_ia_css_ispctrl_sp_isp_started 0x5DEC
 #define HIVE_SIZE_sp_ia_css_ispctrl_sp_isp_started 4
 
-/* function ia_css_bufq_sp_release_dynamic_buf: 2F70 */
+/* function ia_css_bufq_sp_release_dynamic_buf: 2F6D */
 
-/* function ia_css_dmaproxy_sp_set_height_exception: 34E9 */
+/* function ia_css_dmaproxy_sp_set_height_exception: 34E6 */
 
-/* function ia_css_dmaproxy_sp_init_vmem_channel: 345A */
+/* function ia_css_dmaproxy_sp_init_vmem_channel: 3457 */
 
-/* function ia_css_dmaproxy_sp_write_byte_addr_mmio: 33AE */
+/* function ia_css_dmaproxy_sp_write_byte_addr_mmio: 33AB */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_vbuf_spref
@@ -1714,66 +1714,66 @@ more details.
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sp_metadata_thread
 #define HIVE_MEM_sp_metadata_thread scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_metadata_thread 0x4A00
+#define HIVE_ADDR_sp_metadata_thread 0x4B8C
 #define HIVE_SIZE_sp_metadata_thread 72
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_sp_metadata_thread scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_sp_metadata_thread 0x4A00
+#define HIVE_ADDR_sp_sp_metadata_thread 0x4B8C
 #define HIVE_SIZE_sp_sp_metadata_thread 72
 
-/* function ia_css_queue_enqueue: 4D82 */
+/* function ia_css_queue_enqueue: 4D7D */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ia_css_flash_sp_request
 #define HIVE_MEM_ia_css_flash_sp_request scalar_processor_2400_dmem
-#define HIVE_ADDR_ia_css_flash_sp_request 0x4AFC
+#define HIVE_ADDR_ia_css_flash_sp_request 0x4C88
 #define HIVE_SIZE_ia_css_flash_sp_request 4
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_ia_css_flash_sp_request scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_ia_css_flash_sp_request 0x4AFC
+#define HIVE_ADDR_sp_ia_css_flash_sp_request 0x4C88
 #define HIVE_SIZE_sp_ia_css_flash_sp_request 4
 
-/* function ia_css_dmaproxy_sp_vmem_write: 337F */
+/* function ia_css_dmaproxy_sp_vmem_write: 337C */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_tagger_frames
 #define HIVE_MEM_tagger_frames scalar_processor_2400_dmem
-#define HIVE_ADDR_tagger_frames 0x4A50
+#define HIVE_ADDR_tagger_frames 0x4BDC
 #define HIVE_SIZE_tagger_frames 168
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_tagger_frames scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_tagger_frames 0x4A50
+#define HIVE_ADDR_sp_tagger_frames 0x4BDC
 #define HIVE_SIZE_sp_tagger_frames 168
 
-/* function ia_css_isys_sp_token_map_snd_capture_req: 6101 */
+/* function ia_css_isys_sp_token_map_snd_capture_req: 6111 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sem_for_reading_if
 #define HIVE_MEM_sem_for_reading_if scalar_processor_2400_dmem
-#define HIVE_ADDR_sem_for_reading_if 0x4818
+#define HIVE_ADDR_sem_for_reading_if 0x49A4
 #define HIVE_SIZE_sem_for_reading_if 20
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_sem_for_reading_if scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_sem_for_reading_if 0x4818
+#define HIVE_ADDR_sp_sem_for_reading_if 0x49A4
 #define HIVE_SIZE_sp_sem_for_reading_if 20
 
 /* function sp_generate_interrupts: 8EF */
 
-/* function ia_css_pipeline_sp_start: 1858 */
+/* function ia_css_pipeline_sp_start: 1856 */
 
-/* function ia_css_thread_default_callout: 6BF1 */
+/* function ia_css_thread_default_callout: 6C01 */
 
-/* function ia_css_sp_rawcopy_init: 535F */
+/* function ia_css_sp_rawcopy_init: 536F */
 
-/* function tmr_clock_read: 66DF */
+/* function tmr_clock_read: 66EF */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ISP_BAMEM_BASE
@@ -1787,32 +1787,32 @@ more details.
 #define HIVE_ADDR_sp_ISP_BAMEM_BASE 0x318
 #define HIVE_SIZE_sp_ISP_BAMEM_BASE 4
 
-/* function ia_css_isys_sp_frontend_rcv_capture_ack: 5D68 */
+/* function ia_css_isys_sp_frontend_rcv_capture_ack: 5D78 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ia_css_bufq_sp_sems_for_sp2host_buf_queues
 #define HIVE_MEM_ia_css_bufq_sp_sems_for_sp2host_buf_queues scalar_processor_2400_dmem
-#define HIVE_ADDR_ia_css_bufq_sp_sems_for_sp2host_buf_queues 0x5BB8
+#define HIVE_ADDR_ia_css_bufq_sp_sems_for_sp2host_buf_queues 0x5D44
 #define HIVE_SIZE_ia_css_bufq_sp_sems_for_sp2host_buf_queues 160
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_ia_css_bufq_sp_sems_for_sp2host_buf_queues scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_ia_css_bufq_sp_sems_for_sp2host_buf_queues 0x5BB8
+#define HIVE_ADDR_sp_ia_css_bufq_sp_sems_for_sp2host_buf_queues 0x5D44
 #define HIVE_SIZE_sp_ia_css_bufq_sp_sems_for_sp2host_buf_queues 160
 
-/* function css_get_frame_processing_time_start: 1FFF */
+/* function css_get_frame_processing_time_start: 1FFC */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sp_all_cbs_frame
 #define HIVE_MEM_sp_all_cbs_frame scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_all_cbs_frame 0x482C
+#define HIVE_ADDR_sp_all_cbs_frame 0x49B8
 #define HIVE_SIZE_sp_all_cbs_frame 16
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_sp_all_cbs_frame scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_sp_all_cbs_frame 0x482C
+#define HIVE_ADDR_sp_sp_all_cbs_frame 0x49B8
 #define HIVE_SIZE_sp_sp_all_cbs_frame 16
 
 /* function thread_sp_queue_print: D84 */
@@ -1822,18 +1822,18 @@ more details.
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sem_for_str2mem
 #define HIVE_MEM_sem_for_str2mem scalar_processor_2400_dmem
-#define HIVE_ADDR_sem_for_str2mem 0x483C
+#define HIVE_ADDR_sem_for_str2mem 0x49C8
 #define HIVE_SIZE_sem_for_str2mem 20
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_sem_for_str2mem scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_sem_for_str2mem 0x483C
+#define HIVE_ADDR_sp_sem_for_str2mem 0x49C8
 #define HIVE_SIZE_sp_sem_for_str2mem 20
 
-/* function ia_css_tagger_buf_sp_is_marked_from_start: 2CE3 */
+/* function ia_css_tagger_buf_sp_is_marked_from_start: 2CE0 */
 
-/* function ia_css_bufq_sp_acquire_dynamic_buf: 3128 */
+/* function ia_css_bufq_sp_acquire_dynamic_buf: 3125 */
 
 /* function ia_css_circbuf_destroy: 1012 */
 
@@ -1849,43 +1849,43 @@ more details.
 #define HIVE_ADDR_sp_ISP_PMEM_BASE 0xC
 #define HIVE_SIZE_sp_ISP_PMEM_BASE 4
 
-/* function ia_css_sp_isp_param_mem_load: 498D */
+/* function ia_css_sp_isp_param_mem_load: 4988 */
 
-/* function ia_css_tagger_buf_sp_pop_from_start: 2ACF */
+/* function ia_css_tagger_buf_sp_pop_from_start: 2ACC */
 
-/* function __div: 69E0 */
+/* function __div: 69F0 */
 
-/* function ia_css_isys_sp_frontend_create: 5F39 */
+/* function ia_css_isys_sp_frontend_create: 5F49 */
 
-/* function ia_css_rmgr_sp_refcount_release_vbuf: 646C */
+/* function ia_css_rmgr_sp_refcount_release_vbuf: 647C */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ia_css_flash_sp_in_use
 #define HIVE_MEM_ia_css_flash_sp_in_use scalar_processor_2400_dmem
-#define HIVE_ADDR_ia_css_flash_sp_in_use 0x4B00
+#define HIVE_ADDR_ia_css_flash_sp_in_use 0x4C8C
 #define HIVE_SIZE_ia_css_flash_sp_in_use 4
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_ia_css_flash_sp_in_use scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_ia_css_flash_sp_in_use 0x4B00
+#define HIVE_ADDR_sp_ia_css_flash_sp_in_use 0x4C8C
 #define HIVE_SIZE_sp_ia_css_flash_sp_in_use 4
 
-/* function ia_css_thread_sem_sp_wait: 6CC5 */
+/* function ia_css_thread_sem_sp_wait: 6CD5 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sp_sleep_mode
 #define HIVE_MEM_sp_sleep_mode scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_sleep_mode 0x4138
+#define HIVE_ADDR_sp_sleep_mode 0x4288
 #define HIVE_SIZE_sp_sleep_mode 4
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_sp_sleep_mode scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_sp_sleep_mode 0x4138
+#define HIVE_ADDR_sp_sp_sleep_mode 0x4288
 #define HIVE_SIZE_sp_sp_sleep_mode 4
 
-/* function ia_css_tagger_buf_sp_push: 2BDE */
+/* function ia_css_tagger_buf_sp_push: 2BDB */
 
 /* function mmu_invalidate_cache: D3 */
 
@@ -1901,18 +1901,18 @@ more details.
 #define HIVE_ADDR_sp_sp_max_cb_elems 0x148
 #define HIVE_SIZE_sp_sp_max_cb_elems 8
 
-/* function ia_css_queue_remote_init: 4E5A */
+/* function ia_css_queue_remote_init: 4E55 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_isp_stop_req
 #define HIVE_MEM_isp_stop_req scalar_processor_2400_dmem
-#define HIVE_ADDR_isp_stop_req 0x46D0
+#define HIVE_ADDR_isp_stop_req 0x485C
 #define HIVE_SIZE_isp_stop_req 4
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_isp_stop_req scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_isp_stop_req 0x46D0
+#define HIVE_ADDR_sp_isp_stop_req 0x485C
 #define HIVE_SIZE_sp_isp_stop_req 4
 
 
diff --git a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/css_2401_csi2p_system/spmem_dump.c b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/css_2401_csi2p_system/spmem_dump.c
index 5e28eb8..e775642 100644
--- a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/css_2401_csi2p_system/spmem_dump.c
+++ b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/css_2401_csi2p_system/spmem_dump.c
@@ -21,9 +21,9 @@ more details.
 
 #define _hrt_cell_load_program_sp(proc) _hrt_cell_load_program_embedded(proc, sp)
 
-/* function longjmp: 6A19 */
+/* function longjmp: 6A2D */
 
-/* function tmpmem_init_dmem: 672C */
+/* function tmpmem_init_dmem: 6740 */
 
 /* function ia_css_dmaproxy_sp_set_addr_B: 3DC5 */
 
@@ -49,7 +49,7 @@ more details.
 
 /* function ia_css_queue_load: 59ED */
 
-/* function setjmp: 6A22 */
+/* function setjmp: 6A36 */
 
 /* function ia_css_pipeline_sp_sfi_get_current_frame: 2790 */
 
@@ -65,9 +65,9 @@ more details.
 #define HIVE_ADDR_sp_sem_for_sp2host_isys_event_queue 0x5804
 #define HIVE_SIZE_sp_sem_for_sp2host_isys_event_queue 20
 
-/* function ia_css_dmaproxy_sp_wait_for_ack: 7005 */
+/* function ia_css_dmaproxy_sp_wait_for_ack: 7019 */
 
-/* function ia_css_sp_rawcopy_func: 5B58 */
+/* function ia_css_sp_rawcopy_func: 5B6C */
 
 /* function ia_css_tagger_buf_sp_pop_marked: 345C */
 
@@ -107,7 +107,7 @@ more details.
 #define HIVE_ADDR_sp_vbuf_raw 0x39C
 #define HIVE_SIZE_sp_vbuf_raw 4
 
-/* function ia_css_sp_bin_copy_func: 5B39 */
+/* function ia_css_sp_bin_copy_func: 5B4D */
 
 /* function ia_css_queue_item_store: 573B */
 
@@ -295,7 +295,7 @@ more details.
 #define HIVE_ADDR_sp_sp_init_dmem_data 0x73FC
 #define HIVE_SIZE_sp_sp_init_dmem_data 24
 
-/* function ia_css_sp_metadata_start: 5EC1 */
+/* function ia_css_sp_metadata_start: 5ED5 */
 
 /* function ia_css_bufq_sp_init_buffer_queues: 36E2 */
 
@@ -347,7 +347,7 @@ more details.
 #define HIVE_ADDR_sp_sp_per_frame_data 0x3F50
 #define HIVE_SIZE_sp_sp_per_frame_data 4
 
-/* function ia_css_rmgr_sp_vbuf_dequeue: 6480 */
+/* function ia_css_rmgr_sp_vbuf_dequeue: 6494 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_host2sp_psys_event_queue_handle
@@ -377,7 +377,7 @@ more details.
 
 /* function ia_css_pipeline_sp_run: 1A61 */
 
-/* function memcpy: 6AC2 */
+/* function memcpy: 6AD6 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_N_ISYS2401_DMA_CHANNEL_PROCS
@@ -417,11 +417,11 @@ more details.
 
 /* function stream2mmio_send_command: E04 */
 
-/* function ia_css_uds_sp_scale_params: 67CB */
+/* function ia_css_uds_sp_scale_params: 67DF */
 
 /* function ia_css_circbuf_increase_size: 1452 */
 
-/* function __divu: 6A40 */
+/* function __divu: 6A54 */
 
 /* function ia_css_thread_sp_get_state: 1295 */
 
@@ -465,9 +465,9 @@ more details.
 
 /* function ia_css_parambuf_sp_handle_parameter_sets: 18B5 */
 
-/* function ia_css_spctrl_sp_set_state: 5EDD */
+/* function ia_css_spctrl_sp_set_state: 5EF1 */
 
-/* function ia_css_thread_sem_sp_signal: 6D26 */
+/* function ia_css_thread_sem_sp_signal: 6D3A */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_IRQ_BASE
@@ -481,7 +481,7 @@ more details.
 #define HIVE_ADDR_sp_IRQ_BASE 0x2C
 #define HIVE_SIZE_sp_IRQ_BASE 16
 
-/* function ia_css_virtual_isys_sp_isr_init: 5F7E */
+/* function ia_css_virtual_isys_sp_isr_init: 5F92 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_TIMED_CTRL_BASE
@@ -495,11 +495,11 @@ more details.
 #define HIVE_ADDR_sp_TIMED_CTRL_BASE 0x40
 #define HIVE_SIZE_sp_TIMED_CTRL_BASE 4
 
-/* function ia_css_isys_sp_generate_exp_id: 6310 */
+/* function ia_css_isys_sp_generate_exp_id: 6324 */
 
-/* function ia_css_rmgr_sp_init: 637B */
+/* function ia_css_rmgr_sp_init: 638F */
 
-/* function ia_css_thread_sem_sp_init: 6DF5 */
+/* function ia_css_thread_sem_sp_init: 6E09 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sem_for_reading_cb_frame
@@ -529,7 +529,7 @@ more details.
 
 /* function csi_rx_backend_rst: CE0 */
 
-/* function ia_css_queue_is_empty: 7152 */
+/* function ia_css_queue_is_empty: 7166 */
 
 /* function ia_css_pipeline_sp_has_stopped: 1FB0 */
 
@@ -549,13 +549,13 @@ more details.
 #define HIVE_ADDR_sp_current_sp_thread 0x274
 #define HIVE_SIZE_sp_current_sp_thread 4
 
-/* function ia_css_spctrl_sp_get_spid: 5EE4 */
+/* function ia_css_spctrl_sp_get_spid: 5EF8 */
 
 /* function ia_css_bufq_sp_reset_buffers: 3769 */
 
-/* function ia_css_dmaproxy_sp_read_byte_addr: 7033 */
+/* function ia_css_dmaproxy_sp_read_byte_addr: 7047 */
 
-/* function ia_css_rmgr_sp_uninit: 6374 */
+/* function ia_css_rmgr_sp_uninit: 6388 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sp_threads_stack
@@ -661,7 +661,7 @@ more details.
 #define HIVE_ADDR_sp_tmp_heap 0x7160
 #define HIVE_SIZE_sp_tmp_heap 640
 
-/* function ia_css_rmgr_sp_get_num_vbuf: 6684 */
+/* function ia_css_rmgr_sp_get_num_vbuf: 6698 */
 
 /* function ia_css_ispctrl_sp_output_compute_dma_info: 4A2E */
 
@@ -697,7 +697,7 @@ more details.
 #define HIVE_ADDR_sp_ia_css_rmgr_sp_mipi_frame_sem 0x7818
 #define HIVE_SIZE_sp_ia_css_rmgr_sp_mipi_frame_sem 60
 
-/* function ia_css_rmgr_sp_refcount_dump: 645B */
+/* function ia_css_rmgr_sp_refcount_dump: 646F */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ia_css_bufq_sp_pipe_private_isp_parameters_id
@@ -739,7 +739,7 @@ more details.
 #define HIVE_ADDR_sp_host2sp_isys_event_queue_handle 0x5D28
 #define HIVE_SIZE_sp_host2sp_isys_event_queue_handle 12
 
-/* function ia_css_thread_sp_yield: 6CA4 */
+/* function ia_css_thread_sp_yield: 6CB8 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sp_all_cbs_param_desc
@@ -789,9 +789,9 @@ more details.
 
 /* function ia_css_thread_sp_init: 134E */
 
-/* function qos_scheduler_update_fps: 67BB */
+/* function qos_scheduler_update_fps: 67CF */
 
-/* function ia_css_isys_sp_reset_exp_id: 6307 */
+/* function ia_css_isys_sp_reset_exp_id: 631B */
 
 /* function ia_css_ispctrl_sp_set_stream_base_addr: 5122 */
 
@@ -825,7 +825,7 @@ more details.
 
 /* function ia_css_dmaproxy_sp_read: 3CB1 */
 
-/* function virtual_isys_stream_is_capture_done: 5FA2 */
+/* function virtual_isys_stream_is_capture_done: 5FB6 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_raw_copy_line_count
@@ -913,9 +913,9 @@ more details.
 
 /* function debug_enqueue_ddr: EE */
 
-/* function ia_css_rmgr_sp_refcount_init_vbuf: 6416 */
+/* function ia_css_rmgr_sp_refcount_init_vbuf: 642A */
 
-/* function dmaproxy_sp_read_write: 70D1 */
+/* function dmaproxy_sp_read_write: 70E5 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ia_css_dmaproxy_isp_dma_cmd_buffer
@@ -953,13 +953,13 @@ more details.
 #define HIVE_ADDR_sp_ia_css_flash_sp_in_service 0x307C
 #define HIVE_SIZE_sp_ia_css_flash_sp_in_service 4
 
-/* function ia_css_dmaproxy_sp_process: 6E1D */
+/* function ia_css_dmaproxy_sp_process: 6E31 */
 
 /* function ia_css_tagger_buf_sp_mark_from_end: 3656 */
 
 /* function ia_css_ispctrl_sp_init_cs: 40FA */
 
-/* function ia_css_spctrl_sp_init: 5EF2 */
+/* function ia_css_spctrl_sp_init: 5F06 */
 
 /* function sp_event_proxy_init: 736 */
 
@@ -1073,7 +1073,7 @@ more details.
 
 /* function pixelgen_tpg_is_done: F07 */
 
-/* function ia_css_isys_stream_capture_indication: 60E5 */
+/* function ia_css_isys_stream_capture_indication: 60F9 */
 
 /* function sp_start_isp_entry: 392 */
 #ifndef HIVE_MULTIPLE_PROGRAMS
@@ -1089,11 +1089,11 @@ more details.
 
 /* function ia_css_dmaproxy_sp_channel_acquire: 3F4C */
 
-/* function ia_css_rmgr_sp_add_num_vbuf: 6660 */
+/* function ia_css_rmgr_sp_add_num_vbuf: 6674 */
 
 /* function ibuf_ctrl_config: D85 */
 
-/* function ia_css_isys_stream_stop: 6202 */
+/* function ia_css_isys_stream_stop: 6216 */
 
 /* function __ia_css_dmaproxy_sp_wait_for_ack_text: 3C07 */
 
@@ -1129,7 +1129,7 @@ more details.
 
 /* function ia_css_tagger_sp_create: 32FB */
 
-/* function tmpmem_acquire_dmem: 670D */
+/* function tmpmem_acquire_dmem: 6721 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_MMU_BASE
@@ -1183,7 +1183,7 @@ more details.
 
 /* function sp_isys_copy_request: 681 */
 
-/* function ia_css_rmgr_sp_refcount_retain_vbuf: 64F0 */
+/* function ia_css_rmgr_sp_refcount_retain_vbuf: 6504 */
 
 /* function ia_css_thread_sp_set_priority: 12E0 */
 
@@ -1193,7 +1193,7 @@ more details.
 
 /* function pixelgen_tpg_stop: EF5 */
 
-/* function tmpmem_release_dmem: 66FC */
+/* function tmpmem_release_dmem: 6710 */
 
 /* function __ia_css_dmaproxy_sp_process_text: 3BAB */
 
@@ -1205,7 +1205,7 @@ more details.
 
 /* function ia_css_tagger_buf_sp_pop_unmarked_and_unlocked: 3410 */
 
-/* function __modu: 6A86 */
+/* function __modu: 6A9A */
 
 /* function ia_css_dmaproxy_sp_init_isp_vector: 3C0D */
 
@@ -1229,9 +1229,9 @@ more details.
 
 /* function ia_css_queue_local_init: 5715 */
 
-/* function sp_event_proxy_callout_func: 6B53 */
+/* function sp_event_proxy_callout_func: 6B67 */
 
-/* function qos_scheduler_schedule_stage: 6767 */
+/* function qos_scheduler_schedule_stage: 677B */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ia_css_thread_sp_num_ready_threads
@@ -1259,13 +1259,13 @@ more details.
 
 /* function ia_css_ispctrl_sp_isp_done_row_striping: 4A14 */
 
-/* function __ia_css_virtual_isys_sp_isr_text: 5F5C */
+/* function __ia_css_virtual_isys_sp_isr_text: 5F70 */
 
 /* function ia_css_queue_dequeue: 5593 */
 
-/* function is_qos_standalone_mode: 6742 */
+/* function is_qos_standalone_mode: 6756 */
 
-/* function ia_css_dmaproxy_sp_configure_channel: 704A */
+/* function ia_css_dmaproxy_sp_configure_channel: 705E */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_current_thread_fiber_sp
@@ -1281,7 +1281,7 @@ more details.
 
 /* function ia_css_circbuf_pop: 15EA */
 
-/* function memset: 6B05 */
+/* function memset: 6B19 */
 
 /* function irq_raise_set_token: B6 */
 
@@ -1351,17 +1351,17 @@ more details.
 
 /* function __ia_css_dmaproxy_sp_configure_channel_text: 3D7C */
 
-/* function ia_css_framebuf_sp_wait_for_in_frame: 668B */
+/* function ia_css_framebuf_sp_wait_for_in_frame: 669F */
 
-/* function ia_css_isys_stream_open: 62B7 */
+/* function ia_css_isys_stream_open: 62CB */
 
-/* function ia_css_sp_rawcopy_tag_frame: 5E43 */
+/* function ia_css_sp_rawcopy_tag_frame: 5E57 */
 
 /* function input_system_channel_configure: 11D8 */
 
 /* function isp_hmem_clear: B2D */
 
-/* function ia_css_framebuf_sp_release_in_frame: 66CE */
+/* function ia_css_framebuf_sp_release_in_frame: 66E2 */
 
 /* function stream2mmio_config: E15 */
 
@@ -1395,7 +1395,7 @@ more details.
 #define HIVE_ADDR_sp_isp_pool 0x390
 #define HIVE_SIZE_sp_isp_pool 4
 
-/* function ia_css_rmgr_sp_rel_gen: 63BD */
+/* function ia_css_rmgr_sp_rel_gen: 63D1 */
 
 /* function ia_css_tagger_sp_unblock_clients: 31C3 */
 
@@ -1419,9 +1419,9 @@ more details.
 
 /* function debug_enqueue_isp: 27B */
 
-/* function qos_scheduler_update_stage_budget: 674A */
+/* function qos_scheduler_update_stage_budget: 675E */
 
-/* function ia_css_spctrl_sp_uninit: 5EEB */
+/* function ia_css_spctrl_sp_uninit: 5EFF */
 
 /* function csi_rx_backend_run: C62 */
 
@@ -1469,7 +1469,7 @@ more details.
 #define HIVE_ADDR_sp_ISP_VAMEM_BASE 0x14
 #define HIVE_SIZE_sp_ISP_VAMEM_BASE 12
 
-/* function input_system_channel_sync: 6C1E */
+/* function input_system_channel_sync: 6C32 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ia_css_rawcopy_sp_tagger
@@ -1497,7 +1497,7 @@ more details.
 
 /* function ia_css_queue_item_load: 5807 */
 
-/* function ia_css_spctrl_sp_get_state: 5ED6 */
+/* function ia_css_spctrl_sp_get_state: 5EEA */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_callout_sp_thread
@@ -1537,21 +1537,21 @@ more details.
 #define HIVE_ADDR_sp_sp_isp_input_stream_format 0x3E58
 #define HIVE_SIZE_sp_sp_isp_input_stream_format 20
 
-/* function __mod: 6A72 */
+/* function __mod: 6A86 */
 
 /* function ia_css_dmaproxy_sp_init_dmem_channel: 3CCB */
 
 /* function ia_css_thread_sp_join: 1311 */
 
-/* function ia_css_dmaproxy_sp_add_command: 713C */
+/* function ia_css_dmaproxy_sp_add_command: 7150 */
 
-/* function ia_css_sp_metadata_thread_func: 5ECF */
+/* function ia_css_sp_metadata_thread_func: 5EE3 */
 
-/* function __sp_event_proxy_func_critical: 6B40 */
+/* function __sp_event_proxy_func_critical: 6B54 */
 
-/* function ia_css_pipeline_sp_wait_for_isys_stream_N: 6082 */
+/* function ia_css_pipeline_sp_wait_for_isys_stream_N: 6096 */
 
-/* function ia_css_sp_metadata_wait: 5EC8 */
+/* function ia_css_sp_metadata_wait: 5EDC */
 
 /* function ia_css_circbuf_peek_from_start: 151A */
 
@@ -1585,7 +1585,7 @@ more details.
 #define HIVE_ADDR_sp_N_CSI_RX_FE_CTRL_DLANES 0x1C4
 #define HIVE_SIZE_sp_N_CSI_RX_FE_CTRL_DLANES 12
 
-/* function ia_css_dmaproxy_sp_read_byte_addr_mmio: 701C */
+/* function ia_css_dmaproxy_sp_read_byte_addr_mmio: 7030 */
 
 /* function ia_css_ispctrl_sp_done_ds: 426D */
 
@@ -1631,7 +1631,7 @@ more details.
 #define HIVE_ADDR_sp_ia_css_bufq_sp_pipe_private_frames 0x6B28
 #define HIVE_SIZE_sp_ia_css_bufq_sp_pipe_private_frames 280
 
-/* function qos_scheduler_init_stage_budget: 67A8 */
+/* function qos_scheduler_init_stage_budget: 67BC */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sp2host_buffer_queue_handle
@@ -1647,11 +1647,11 @@ more details.
 
 /* function ia_css_ispctrl_sp_init_isp_vars: 4F87 */
 
-/* function ia_css_isys_stream_start: 6195 */
+/* function ia_css_isys_stream_start: 61A9 */
 
 /* function sp_warning: 8E8 */
 
-/* function ia_css_rmgr_sp_vbuf_enqueue: 64B0 */
+/* function ia_css_rmgr_sp_vbuf_enqueue: 64C4 */
 
 /* function ia_css_tagger_sp_tag_exp_id: 2A55 */
 
@@ -1659,7 +1659,7 @@ more details.
 
 /* function ia_css_dmaproxy_sp_write: 3C81 */
 
-/* function ia_css_isys_stream_start_async: 625E */
+/* function ia_css_isys_stream_start_async: 6272 */
 
 /* function ia_css_parambuf_sp_release_in_param: 187B */
 
@@ -1687,7 +1687,7 @@ more details.
 #define HIVE_ADDR_sp_sp_isp_addresses 0x7094
 #define HIVE_SIZE_sp_sp_isp_addresses 172
 
-/* function ia_css_rmgr_sp_acq_gen: 63D5 */
+/* function ia_css_rmgr_sp_acq_gen: 63E9 */
 
 /* function input_system_input_port_open: 10E7 */
 
@@ -1795,11 +1795,11 @@ more details.
 
 /* function ia_css_pipeline_sp_start: 1FC2 */
 
-/* function ia_css_thread_default_callout: 6C9D */
+/* function ia_css_thread_default_callout: 6CB1 */
 
 /* function csi_rx_backend_enable: C3F */
 
-/* function ia_css_sp_rawcopy_init: 5B40 */
+/* function ia_css_sp_rawcopy_init: 5B54 */
 
 /* function input_system_input_port_configure: 1139 */
 
@@ -1857,7 +1857,7 @@ more details.
 #define HIVE_ADDR_sp_sp_all_cbs_frame 0x595C
 #define HIVE_SIZE_sp_sp_all_cbs_frame 16
 
-/* function ia_css_virtual_isys_sp_isr: 717C */
+/* function ia_css_virtual_isys_sp_isr: 7190 */
 
 /* function thread_sp_queue_print: 13A1 */
 
@@ -1899,9 +1899,9 @@ more details.
 
 /* function ia_css_tagger_buf_sp_pop_from_start: 3392 */
 
-/* function __div: 6A2A */
+/* function __div: 6A3E */
 
-/* function ia_css_rmgr_sp_refcount_release_vbuf: 64CF */
+/* function ia_css_rmgr_sp_refcount_release_vbuf: 64E3 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ia_css_flash_sp_in_use
@@ -1915,7 +1915,7 @@ more details.
 #define HIVE_ADDR_sp_ia_css_flash_sp_in_use 0x5BE8
 #define HIVE_SIZE_sp_ia_css_flash_sp_in_use 4
 
-/* function ia_css_thread_sem_sp_wait: 6D71 */
+/* function ia_css_thread_sem_sp_wait: 6D85 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sp_sleep_mode
diff --git a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/css_2401_system/spmem_dump.c b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/css_2401_system/spmem_dump.c
index f98ac14..1fc1f81 100644
--- a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/css_2401_system/spmem_dump.c
+++ b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/css_2401_system/spmem_dump.c
@@ -23,7 +23,7 @@ more details.
 
 /* function input_system_acquisition_stop: AD8 */
 
-/* function longjmp: 69CF */
+/* function longjmp: 69E3 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_HIVE_IF_SRST_MASK
@@ -37,9 +37,9 @@ more details.
 #define HIVE_ADDR_sp_HIVE_IF_SRST_MASK 0x1C8
 #define HIVE_SIZE_sp_HIVE_IF_SRST_MASK 16
 
-/* function tmpmem_init_dmem: 66E2 */
+/* function tmpmem_init_dmem: 66F6 */
 
-/* function ia_css_isys_sp_token_map_receive_ack: 6026 */
+/* function ia_css_isys_sp_token_map_receive_ack: 603A */
 
 /* function ia_css_dmaproxy_sp_set_addr_B: 3539 */
 
@@ -67,7 +67,7 @@ more details.
 
 /* function ia_css_queue_load: 516B */
 
-/* function setjmp: 69D8 */
+/* function setjmp: 69EC */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sem_for_sp2host_isys_event_queue
@@ -81,9 +81,9 @@ more details.
 #define HIVE_ADDR_sp_sem_for_sp2host_isys_event_queue 0x46D4
 #define HIVE_SIZE_sp_sem_for_sp2host_isys_event_queue 20
 
-/* function ia_css_dmaproxy_sp_wait_for_ack: 6F59 */
+/* function ia_css_dmaproxy_sp_wait_for_ack: 6F6D */
 
-/* function ia_css_sp_rawcopy_func: 5390 */
+/* function ia_css_sp_rawcopy_func: 53A4 */
 
 /* function ia_css_tagger_buf_sp_pop_marked: 2BB2 */
 
@@ -111,7 +111,7 @@ more details.
 #define HIVE_ADDR_sp_vbuf_raw 0x314
 #define HIVE_SIZE_sp_vbuf_raw 4
 
-/* function ia_css_sp_bin_copy_func: 52B7 */
+/* function ia_css_sp_bin_copy_func: 52CB */
 
 /* function ia_css_queue_item_store: 4EB9 */
 
@@ -213,7 +213,7 @@ more details.
 
 /* function ia_css_sp_flash_register: 2DE7 */
 
-/* function ia_css_isys_sp_backend_create: 5C99 */
+/* function ia_css_isys_sp_backend_create: 5CAD */
 
 /* function ia_css_pipeline_sp_init: 1886 */
 
@@ -299,7 +299,7 @@ more details.
 #define HIVE_ADDR_sp_sp_init_dmem_data 0x6314
 #define HIVE_SIZE_sp_sp_init_dmem_data 24
 
-/* function ia_css_sp_metadata_start: 5A76 */
+/* function ia_css_sp_metadata_start: 5A8A */
 
 /* function ia_css_bufq_sp_init_buffer_queues: 2E56 */
 
@@ -327,7 +327,7 @@ more details.
 #define HIVE_ADDR_sp_sp_per_frame_data 0x4218
 #define HIVE_SIZE_sp_sp_per_frame_data 4
 
-/* function ia_css_rmgr_sp_vbuf_dequeue: 6436 */
+/* function ia_css_rmgr_sp_vbuf_dequeue: 644A */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_host2sp_psys_event_queue_handle
@@ -357,7 +357,7 @@ more details.
 
 /* function ia_css_pipeline_sp_run: 143D */
 
-/* function memcpy: 6A78 */
+/* function memcpy: 6A8C */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_GP_DEVICE_BASE
@@ -385,13 +385,13 @@ more details.
 
 /* function input_system_reg_store: B18 */
 
-/* function ia_css_isys_sp_frontend_start: 5EAF */
+/* function ia_css_isys_sp_frontend_start: 5EC3 */
 
-/* function ia_css_uds_sp_scale_params: 6781 */
+/* function ia_css_uds_sp_scale_params: 6795 */
 
 /* function ia_css_circbuf_increase_size: E35 */
 
-/* function __divu: 69F6 */
+/* function __divu: 6A0A */
 
 /* function ia_css_thread_sp_get_state: C78 */
 
@@ -423,9 +423,9 @@ more details.
 
 /* function ia_css_parambuf_sp_handle_parameter_sets: 127F */
 
-/* function ia_css_spctrl_sp_set_state: 5AA5 */
+/* function ia_css_spctrl_sp_set_state: 5AB9 */
 
-/* function ia_css_thread_sem_sp_signal: 6C7A */
+/* function ia_css_thread_sem_sp_signal: 6C8E */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_IRQ_BASE
@@ -451,13 +451,13 @@ more details.
 #define HIVE_ADDR_sp_TIMED_CTRL_BASE 0x40
 #define HIVE_SIZE_sp_TIMED_CTRL_BASE 4
 
-/* function ia_css_isys_sp_isr: 7147 */
+/* function ia_css_isys_sp_isr: 715B */
 
-/* function ia_css_isys_sp_generate_exp_id: 6247 */
+/* function ia_css_isys_sp_generate_exp_id: 625B */
 
-/* function ia_css_rmgr_sp_init: 6331 */
+/* function ia_css_rmgr_sp_init: 6345 */
 
-/* function ia_css_thread_sem_sp_init: 6D49 */
+/* function ia_css_thread_sem_sp_init: 6D5D */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sem_for_reading_cb_frame
@@ -485,7 +485,7 @@ more details.
 
 /* function ia_css_dmaproxy_sp_execute: 340F */
 
-/* function ia_css_queue_is_empty: 70A6 */
+/* function ia_css_queue_is_empty: 70BA */
 
 /* function ia_css_pipeline_sp_has_stopped: 185F */
 
@@ -505,13 +505,13 @@ more details.
 #define HIVE_ADDR_sp_current_sp_thread 0x1DC
 #define HIVE_SIZE_sp_current_sp_thread 4
 
-/* function ia_css_spctrl_sp_get_spid: 5AAC */
+/* function ia_css_spctrl_sp_get_spid: 5AC0 */
 
 /* function ia_css_bufq_sp_reset_buffers: 2EDD */
 
-/* function ia_css_dmaproxy_sp_read_byte_addr: 6F87 */
+/* function ia_css_dmaproxy_sp_read_byte_addr: 6F9B */
 
-/* function ia_css_rmgr_sp_uninit: 632A */
+/* function ia_css_rmgr_sp_uninit: 633E */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sp_threads_stack
@@ -529,7 +529,7 @@ more details.
 
 /* function ia_css_parambuf_sp_wait_for_in_param: 1048 */
 
-/* function ia_css_isys_sp_token_map_get_exp_id: 610F */
+/* function ia_css_isys_sp_token_map_get_exp_id: 6123 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sp_all_cb_elems_param
@@ -607,7 +607,7 @@ more details.
 #define HIVE_ADDR_sp_tmp_heap 0x6078
 #define HIVE_SIZE_sp_tmp_heap 640
 
-/* function ia_css_rmgr_sp_get_num_vbuf: 663A */
+/* function ia_css_rmgr_sp_get_num_vbuf: 664E */
 
 /* function ia_css_ispctrl_sp_output_compute_dma_info: 41AC */
 
@@ -629,7 +629,7 @@ more details.
 
 /* function debug_buffer_init_isp: E4 */
 
-/* function ia_css_isys_sp_frontend_uninit: 5E69 */
+/* function ia_css_isys_sp_frontend_uninit: 5E7D */
 
 /* function ia_css_tagger_sp_exp_id_is_locked: 206C */
 
@@ -645,7 +645,7 @@ more details.
 #define HIVE_ADDR_sp_ia_css_rmgr_sp_mipi_frame_sem 0x674C
 #define HIVE_SIZE_sp_ia_css_rmgr_sp_mipi_frame_sem 60
 
-/* function ia_css_rmgr_sp_refcount_dump: 6411 */
+/* function ia_css_rmgr_sp_refcount_dump: 6425 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ia_css_bufq_sp_pipe_private_isp_parameters_id
@@ -685,7 +685,7 @@ more details.
 #define HIVE_ADDR_sp_host2sp_isys_event_queue_handle 0x4C40
 #define HIVE_SIZE_sp_host2sp_isys_event_queue_handle 12
 
-/* function ia_css_thread_sp_yield: 6BF8 */
+/* function ia_css_thread_sp_yield: 6C0C */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sp_all_cbs_param_desc
@@ -717,7 +717,7 @@ more details.
 
 /* function ia_css_dmaproxy_sp_vmem_read: 33AF */
 
-/* function ia_css_ifmtr_sp_init: 6298 */
+/* function ia_css_ifmtr_sp_init: 62AC */
 
 /* function initialize_sp_group: 668 */
 
@@ -725,9 +725,9 @@ more details.
 
 /* function ia_css_thread_sp_init: D31 */
 
-/* function ia_css_isys_sp_reset_exp_id: 623F */
+/* function ia_css_isys_sp_reset_exp_id: 6253 */
 
-/* function qos_scheduler_update_fps: 6771 */
+/* function qos_scheduler_update_fps: 6785 */
 
 /* function ia_css_ispctrl_sp_set_stream_base_addr: 48A0 */
 
@@ -823,13 +823,13 @@ more details.
 
 /* function encode_and_post_sp_event_non_blocking: A0C */
 
-/* function ia_css_isys_sp_frontend_destroy: 5F41 */
+/* function ia_css_isys_sp_frontend_destroy: 5F55 */
 
 /* function is_ddr_debug_buffer_full: 2CC */
 
-/* function ia_css_isys_sp_frontend_stop: 5E81 */
+/* function ia_css_isys_sp_frontend_stop: 5E95 */
 
-/* function ia_css_isys_sp_token_map_init: 61DD */
+/* function ia_css_isys_sp_token_map_init: 61F1 */
 
 /* function ia_css_tagger_buf_sp_get_oldest_marked_offset: 2B24 */
 
@@ -849,9 +849,9 @@ more details.
 
 /* function debug_enqueue_ddr: EE */
 
-/* function ia_css_rmgr_sp_refcount_init_vbuf: 63CC */
+/* function ia_css_rmgr_sp_refcount_init_vbuf: 63E0 */
 
-/* function dmaproxy_sp_read_write: 7025 */
+/* function dmaproxy_sp_read_write: 7039 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ia_css_dmaproxy_isp_dma_cmd_buffer
@@ -889,17 +889,17 @@ more details.
 #define HIVE_ADDR_sp_ia_css_flash_sp_in_service 0x31A0
 #define HIVE_SIZE_sp_ia_css_flash_sp_in_service 4
 
-/* function ia_css_dmaproxy_sp_process: 6D71 */
+/* function ia_css_dmaproxy_sp_process: 6D85 */
 
 /* function ia_css_tagger_buf_sp_mark_from_end: 2DAC */
 
-/* function ia_css_isys_sp_backend_rcv_acquire_ack: 5B4E */
+/* function ia_css_isys_sp_backend_rcv_acquire_ack: 5B62 */
 
-/* function ia_css_isys_sp_backend_pre_acquire_request: 5B64 */
+/* function ia_css_isys_sp_backend_pre_acquire_request: 5B78 */
 
 /* function ia_css_ispctrl_sp_init_cs: 386E */
 
-/* function ia_css_spctrl_sp_init: 5ABA */
+/* function ia_css_spctrl_sp_init: 5ACE */
 
 /* function sp_event_proxy_init: 6C4 */
 
@@ -965,7 +965,7 @@ more details.
 
 /* function sp_dma_proxy_reset_channels: 3694 */
 
-/* function ia_css_isys_sp_backend_acquire: 5C6F */
+/* function ia_css_isys_sp_backend_acquire: 5C83 */
 
 /* function ia_css_tagger_sp_update_size: 2AA3 */
 
@@ -1025,9 +1025,9 @@ more details.
 
 /* function ia_css_dmaproxy_sp_channel_acquire: 36C0 */
 
-/* function ia_css_rmgr_sp_add_num_vbuf: 6616 */
+/* function ia_css_rmgr_sp_add_num_vbuf: 662A */
 
-/* function ia_css_isys_sp_token_map_create: 6226 */
+/* function ia_css_isys_sp_token_map_create: 623A */
 
 /* function __ia_css_dmaproxy_sp_wait_for_ack_text: 337B */
 
@@ -1063,7 +1063,7 @@ more details.
 
 /* function ia_css_tagger_sp_create: 2A51 */
 
-/* function tmpmem_acquire_dmem: 66C3 */
+/* function tmpmem_acquire_dmem: 66D7 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_MMU_BASE
@@ -1127,17 +1127,17 @@ more details.
 
 /* function sp_isys_copy_request: 6A8 */
 
-/* function ia_css_rmgr_sp_refcount_retain_vbuf: 64A6 */
+/* function ia_css_rmgr_sp_refcount_retain_vbuf: 64BA */
 
 /* function ia_css_thread_sp_set_priority: CC3 */
 
 /* function sizeof_hmem: BF6 */
 
-/* function tmpmem_release_dmem: 66B2 */
+/* function tmpmem_release_dmem: 66C6 */
 
 /* function cnd_input_system_cfg: 392 */
 
-/* function __ia_css_sp_rawcopy_func_critical: 70D0 */
+/* function __ia_css_sp_rawcopy_func_critical: 70E4 */
 
 /* function __ia_css_dmaproxy_sp_process_text: 331F */
 
@@ -1149,7 +1149,7 @@ more details.
 
 /* function ia_css_tagger_buf_sp_pop_unmarked_and_unlocked: 2B66 */
 
-/* function __modu: 6A3C */
+/* function __modu: 6A50 */
 
 /* function ia_css_dmaproxy_sp_init_isp_vector: 3381 */
 
@@ -1171,9 +1171,9 @@ more details.
 
 /* function ia_css_queue_local_init: 4E93 */
 
-/* function sp_event_proxy_callout_func: 6B09 */
+/* function sp_event_proxy_callout_func: 6B1D */
 
-/* function qos_scheduler_schedule_stage: 671D */
+/* function qos_scheduler_schedule_stage: 6731 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ia_css_thread_sp_num_ready_threads
@@ -1201,13 +1201,13 @@ more details.
 
 /* function ia_css_ispctrl_sp_isp_done_row_striping: 4192 */
 
-/* function __ia_css_isys_sp_isr_text: 5F6B */
+/* function __ia_css_isys_sp_isr_text: 5F7F */
 
 /* function ia_css_queue_dequeue: 4D11 */
 
-/* function is_qos_standalone_mode: 66F8 */
+/* function is_qos_standalone_mode: 670C */
 
-/* function ia_css_dmaproxy_sp_configure_channel: 6F9E */
+/* function ia_css_dmaproxy_sp_configure_channel: 6FB2 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_current_thread_fiber_sp
@@ -1223,7 +1223,7 @@ more details.
 
 /* function ia_css_circbuf_pop: FCD */
 
-/* function memset: 6ABB */
+/* function memset: 6ACF */
 
 /* function irq_raise_set_token: B6 */
 
@@ -1255,7 +1255,7 @@ more details.
 #define HIVE_ADDR_sp_isp_ph 0x6348
 #define HIVE_SIZE_sp_isp_ph 28
 
-/* function ia_css_isys_sp_token_map_flush: 616B */
+/* function ia_css_isys_sp_token_map_flush: 617F */
 
 /* function ia_css_ispctrl_sp_init_ds: 39FA */
 
@@ -1289,17 +1289,17 @@ more details.
 
 /* function __ia_css_dmaproxy_sp_configure_channel_text: 34F0 */
 
-/* function ia_css_framebuf_sp_wait_for_in_frame: 6641 */
+/* function ia_css_framebuf_sp_wait_for_in_frame: 6655 */
 
-/* function ia_css_sp_rawcopy_tag_frame: 57D7 */
+/* function ia_css_sp_rawcopy_tag_frame: 57EB */
 
 /* function isp_hmem_clear: B1F */
 
-/* function ia_css_framebuf_sp_release_in_frame: 6684 */
+/* function ia_css_framebuf_sp_release_in_frame: 6698 */
 
-/* function ia_css_isys_sp_backend_snd_acquire_request: 5BC1 */
+/* function ia_css_isys_sp_backend_snd_acquire_request: 5BD5 */
 
-/* function ia_css_isys_sp_token_map_is_full: 5FF2 */
+/* function ia_css_isys_sp_token_map_is_full: 6006 */
 
 /* function input_system_acquisition_run: AF3 */
 
@@ -1331,7 +1331,7 @@ more details.
 #define HIVE_ADDR_sp_isp_pool 0x308
 #define HIVE_SIZE_sp_isp_pool 4
 
-/* function ia_css_rmgr_sp_rel_gen: 6373 */
+/* function ia_css_rmgr_sp_rel_gen: 6387 */
 
 /* function ia_css_tagger_sp_unblock_clients: 2919 */
 
@@ -1349,15 +1349,15 @@ more details.
 #define HIVE_ADDR_sp_event_any_pending_mask 0x320
 #define HIVE_SIZE_sp_event_any_pending_mask 8
 
-/* function ia_css_isys_sp_backend_push: 5B78 */
+/* function ia_css_isys_sp_backend_push: 5B8C */
 
 /* function sh_css_decode_tag_descr: 352 */
 
 /* function debug_enqueue_isp: 27B */
 
-/* function qos_scheduler_update_stage_budget: 6700 */
+/* function qos_scheduler_update_stage_budget: 6714 */
 
-/* function ia_css_spctrl_sp_uninit: 5AB3 */
+/* function ia_css_spctrl_sp_uninit: 5AC7 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_HIVE_IF_SWITCH_CODE
@@ -1441,9 +1441,9 @@ more details.
 
 /* function ia_css_queue_item_load: 4F85 */
 
-/* function ia_css_spctrl_sp_get_state: 5A9E */
+/* function ia_css_spctrl_sp_get_state: 5AB2 */
 
-/* function ia_css_isys_sp_token_map_uninit: 6188 */
+/* function ia_css_isys_sp_token_map_uninit: 619C */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_callout_sp_thread
@@ -1471,7 +1471,7 @@ more details.
 #define HIVE_ADDR_sp_SP_PMEM_BASE 0x0
 #define HIVE_SIZE_sp_SP_PMEM_BASE 4
 
-/* function ia_css_isys_sp_token_map_snd_acquire_req: 60F8 */
+/* function ia_css_isys_sp_token_map_snd_acquire_req: 610C */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sp_isp_input_stream_format
@@ -1485,19 +1485,19 @@ more details.
 #define HIVE_ADDR_sp_sp_isp_input_stream_format 0x4120
 #define HIVE_SIZE_sp_sp_isp_input_stream_format 20
 
-/* function __mod: 6A28 */
+/* function __mod: 6A3C */
 
 /* function ia_css_dmaproxy_sp_init_dmem_channel: 343F */
 
 /* function ia_css_thread_sp_join: CF4 */
 
-/* function ia_css_dmaproxy_sp_add_command: 7090 */
+/* function ia_css_dmaproxy_sp_add_command: 70A4 */
 
-/* function ia_css_sp_metadata_thread_func: 5976 */
+/* function ia_css_sp_metadata_thread_func: 598A */
 
-/* function __sp_event_proxy_func_critical: 6AF6 */
+/* function __sp_event_proxy_func_critical: 6B0A */
 
-/* function ia_css_sp_metadata_wait: 5A65 */
+/* function ia_css_sp_metadata_wait: 5A79 */
 
 /* function ia_css_circbuf_peek_from_start: EFD */
 
@@ -1507,9 +1507,9 @@ more details.
 
 /* function sp_isys_copy_func: 68A */
 
-/* function ia_css_isys_sp_backend_flush: 5BE1 */
+/* function ia_css_isys_sp_backend_flush: 5BF5 */
 
-/* function ia_css_isys_sp_backend_frame_exists: 5AFD */
+/* function ia_css_isys_sp_backend_frame_exists: 5B11 */
 
 /* function ia_css_sp_isp_param_init_isp_memories: 4A38 */
 
@@ -1545,7 +1545,7 @@ more details.
 #define HIVE_ADDR_sp_ia_css_isys_sp_frontend_states 0x632C
 #define HIVE_SIZE_sp_ia_css_isys_sp_frontend_states 12
 
-/* function ia_css_dmaproxy_sp_read_byte_addr_mmio: 6F70 */
+/* function ia_css_dmaproxy_sp_read_byte_addr_mmio: 6F84 */
 
 /* function ia_css_ispctrl_sp_done_ds: 39E1 */
 
@@ -1591,11 +1591,11 @@ more details.
 #define HIVE_ADDR_sp_ia_css_bufq_sp_pipe_private_frames 0x5A40
 #define HIVE_SIZE_sp_ia_css_bufq_sp_pipe_private_frames 280
 
-/* function qos_scheduler_init_stage_budget: 675E */
+/* function qos_scheduler_init_stage_budget: 6772 */
 
-/* function ia_css_isys_sp_backend_release: 5C56 */
+/* function ia_css_isys_sp_backend_release: 5C6A */
 
-/* function ia_css_isys_sp_backend_destroy: 5C80 */
+/* function ia_css_isys_sp_backend_destroy: 5C94 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sp2host_buffer_queue_handle
@@ -1609,15 +1609,15 @@ more details.
 #define HIVE_ADDR_sp_sp2host_buffer_queue_handle 0x5B58
 #define HIVE_SIZE_sp_sp2host_buffer_queue_handle 96
 
-/* function ia_css_isys_sp_token_map_check_mipi_frame_size: 60BC */
+/* function ia_css_isys_sp_token_map_check_mipi_frame_size: 60D0 */
 
 /* function ia_css_ispctrl_sp_init_isp_vars: 4705 */
 
-/* function ia_css_isys_sp_frontend_has_empty_mipi_buffer_cb: 5CD2 */
+/* function ia_css_isys_sp_frontend_has_empty_mipi_buffer_cb: 5CE6 */
 
 /* function sp_warning: 870 */
 
-/* function ia_css_rmgr_sp_vbuf_enqueue: 6466 */
+/* function ia_css_rmgr_sp_vbuf_enqueue: 647A */
 
 /* function ia_css_tagger_sp_tag_exp_id: 21AB */
 
@@ -1649,7 +1649,7 @@ more details.
 #define HIVE_ADDR_sp_sp_isp_addresses 0x5FAC
 #define HIVE_SIZE_sp_sp_isp_addresses 172
 
-/* function ia_css_rmgr_sp_acq_gen: 638B */
+/* function ia_css_rmgr_sp_acq_gen: 639F */
 
 /* function receiver_reg_load: ACA */
 
@@ -1751,7 +1751,7 @@ more details.
 #define HIVE_ADDR_sp_tagger_frames 0x4A50
 #define HIVE_SIZE_sp_tagger_frames 168
 
-/* function ia_css_isys_sp_token_map_snd_capture_req: 611A */
+/* function ia_css_isys_sp_token_map_snd_capture_req: 612E */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sem_for_reading_if
@@ -1769,9 +1769,9 @@ more details.
 
 /* function ia_css_pipeline_sp_start: 1871 */
 
-/* function ia_css_thread_default_callout: 6BF1 */
+/* function ia_css_thread_default_callout: 6C05 */
 
-/* function ia_css_sp_rawcopy_init: 5378 */
+/* function ia_css_sp_rawcopy_init: 538C */
 
 /* function tmr_clock_read: 1412 */
 
@@ -1787,7 +1787,7 @@ more details.
 #define HIVE_ADDR_sp_ISP_BAMEM_BASE 0x318
 #define HIVE_SIZE_sp_ISP_BAMEM_BASE 4
 
-/* function ia_css_isys_sp_frontend_rcv_capture_ack: 5D81 */
+/* function ia_css_isys_sp_frontend_rcv_capture_ack: 5D95 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ia_css_bufq_sp_sems_for_sp2host_buf_queues
@@ -1853,11 +1853,11 @@ more details.
 
 /* function ia_css_tagger_buf_sp_pop_from_start: 2AE8 */
 
-/* function __div: 69E0 */
+/* function __div: 69F4 */
 
-/* function ia_css_isys_sp_frontend_create: 5F52 */
+/* function ia_css_isys_sp_frontend_create: 5F66 */
 
-/* function ia_css_rmgr_sp_refcount_release_vbuf: 6485 */
+/* function ia_css_rmgr_sp_refcount_release_vbuf: 6499 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ia_css_flash_sp_in_use
@@ -1871,7 +1871,7 @@ more details.
 #define HIVE_ADDR_sp_ia_css_flash_sp_in_use 0x4B00
 #define HIVE_SIZE_sp_ia_css_flash_sp_in_use 4
 
-/* function ia_css_thread_sem_sp_wait: 6CC5 */
+/* function ia_css_thread_sem_sp_wait: 6CD9 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sp_sleep_mode
diff --git a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/ia_css.h b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/ia_css.h
index 6a73620..252ccd4 100644
--- a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/ia_css.h
+++ b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/ia_css.h
@@ -1,4 +1,4 @@
-/* Release Version: irci_ecr-master_20160125_1250 */
+/* Release Version: irci_ecr-master_20160201_0200 */
 /**
 Support for Intel Camera Imaging ISP subsystem.
 Copyright (c) 2010 - 2015, Intel Corporation.
diff --git a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/ia_css_pipe.h b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/ia_css_pipe.h
index 9e85cea..323534c 100644
--- a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/ia_css_pipe.h
+++ b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/ia_css_pipe.h
@@ -55,7 +55,8 @@ struct ia_css_capture_settings {
 	 * the computation load is too high to fit in one single binary. */
 	struct ia_css_binary primary_binary[MAX_NUM_PRIMARY_STAGES];
 	unsigned int num_primary_stage;
-	struct ia_css_binary pre_isp_binary;
+	struct ia_css_binary pre_isp_binary[MAX_NUM_PRE_DE_STAGES];
+	unsigned int num_pre_de_stage;
 	struct ia_css_binary anr_gdc_binary;
 	struct ia_css_binary post_isp_binary;
 	struct ia_css_binary capture_pp_binary;
@@ -72,7 +73,8 @@ struct ia_css_capture_settings {
 	IA_CSS_BINARY_DEFAULT_SETTINGS,	/* copy_binary */\
 	{IA_CSS_BINARY_DEFAULT_SETTINGS},	/* primary_binary */\
 	0,				/* num_primary_stage */\
-	IA_CSS_BINARY_DEFAULT_SETTINGS,	/* pre_isp_binary */\
+	{IA_CSS_BINARY_DEFAULT_SETTINGS},	/* pre_isp_binary */\
+	1,				/* num_pre_de_stage */\
 	IA_CSS_BINARY_DEFAULT_SETTINGS,	/* anr_gdc_binary */\
 	IA_CSS_BINARY_DEFAULT_SETTINGS,	/* post_isp_binary */\
 	IA_CSS_BINARY_DEFAULT_SETTINGS,	/* capture_pp_binary */\
diff --git a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/ia_css_types.h b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/ia_css_types.h
index 3d30409..7d89d72 100644
--- a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/ia_css_types.h
+++ b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/ia_css_types.h
@@ -1,4 +1,4 @@
-/* Release Version: irci_ecr-master_20160125_1250 */
+/* Release Version: irci_ecr-master_20160201_0200 */
 /**
 Support for Intel Camera Imaging ISP subsystem.
 Copyright (c) 2010 - 2015, Intel Corporation.
diff --git a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/ia_css_version_data.h b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/ia_css_version_data.h
index f49ae40..507327d 100644
--- a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/ia_css_version_data.h
+++ b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/ia_css_version_data.h
@@ -22,7 +22,7 @@ more details.
 #define __IA_CSS_VERSION_DATA_H
 
 
-#define CSS_VERSION_STRING "REL:20160125_04.1_1840; API:2.1.21.0; GIT:irci___#4923fff34777f286fac2188e945b1cf3914c9809; SDK:; USER:viedifw; "
+#define CSS_VERSION_STRING "REL:20160201_05.1_0706; API:2.1.21.0; GIT:irci___#09dd1c081bd713156857f504b396669f7415e397; SDK:; USER:viedifw; "
 
 
 #endif
diff --git a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/runtime/binary/interface/ia_css_binary.h b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/runtime/binary/interface/ia_css_binary.h
index 5eff9e2..a761c00 100644
--- a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/runtime/binary/interface/ia_css_binary.h
+++ b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/runtime/binary/interface/ia_css_binary.h
@@ -51,6 +51,10 @@ more details.
 #define NUM_PRIMARY_HQ27_STAGES 4 /* number of primary stages for ISP2.7 high quality pipe */
 #define NUM_PRIMARY_STAGES     1  /* number of primary satges for ISP1/ISP2.2 pipe */
 
+#define NUM_PRE_DE_STAGES       1 /* number of pre-de binaries can be loaded on non-ISP2.7 pipe */
+#define NUM_PRE_DE_ISP27_STAGES 2 /* number of pre-de binaries can be loaded on ISP2.7 pipe */
+#define MAX_NUM_PRE_DE_STAGES   NUM_PRE_DE_ISP27_STAGES
+
 /* Indicate where binaries can read input from */
 #define IA_CSS_BINARY_INPUT_SENSOR   0
 #define IA_CSS_BINARY_INPUT_MEMORY   1
diff --git a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/runtime/pipeline/src/pipeline.c b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/runtime/pipeline/src/pipeline.c
index 0a75c26..cd777c5 100644
--- a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/runtime/pipeline/src/pipeline.c
+++ b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/runtime/pipeline/src/pipeline.c
@@ -891,6 +891,8 @@ get_shared_stage_buffer_size(unsigned int width, unsigned int height, unsigned b
 	/* On ISP 2.7 capture Pipe stages are constructed with required memory size as following
 	 * PRE_DE #0 (RAW format):        2 frames (of padded input-res)
 	 *         frame * 2 raw_bit_depth
+	 * PRE_DE #1 (RAW format):        2 frames (of padded input-res)
+	 *         frame * 2 raw_bit_depth
 	 * PRIMARY #0 (EED, YCgCo444_16): 6 frames (of padded inupt-res)
 	 *         frame * 3 YUV * 2 bytes/elem
 	 * PRIMARY #1 (IEFD, YUV420_16) : 3 frames (of padded input-res)
@@ -902,13 +904,20 @@ get_shared_stage_buffer_size(unsigned int width, unsigned int height, unsigned b
 	 * ...
 	 * To ensure shared_frames are sufficiently allocated for 2 largest of stage buffers,
 	 * we'll allocate
-	 *   buf_idx0 : 3 frames (PRE_DE, PRIM #1, PRIM #3)
-	 *   buf_idx1 : 6 frames (PRIM #0, PRIM #2 ..)
+	 *   buf_idx0 : 6 frames (PRE_DE #0, PRIM #0, PRIM #2 ..)
+	 *   buf_idx1 : 3 frames (PRE_DE #1, PRIM #1, PRIM #3 ..)
 	 */
-	switch (buf_idx) {
-		case 0:  return 3*frame;
-		case 1:  return 6*frame;
-		default: return 0;
-	}
 
+	/* PRIMARY #0 requires the largest buffer, PRIMARY #1 requires the second largest */
+	unsigned int prim0_idx = NUM_PRE_DE_ISP27_STAGES % NUM_SHARED_STAGE_BUFFERS;
+	unsigned int prim0_size = frame * 3 * 2; /* 3 planes, 2 bytes/elem */
+	unsigned int prim1_idx = prim0_idx ^ 0x1;
+	unsigned int prim1_size = frame * 3 ; /* (1 Y plane + 0.5 UV plane) * 2 bytes/elem */
+
+	if (buf_idx == prim0_idx)
+		return prim0_size;
+	else if (buf_idx == prim1_idx)
+		return prim1_size;
+	else
+		return 0;
 }
\ No newline at end of file
diff --git a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/runtime/queue/src/queue_access.c b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/runtime/queue/src/queue_access.c
index 7f2e2b1..999d36a 100644
--- a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/runtime/queue/src/queue_access.c
+++ b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/runtime/queue/src/queue_access.c
@@ -30,22 +30,11 @@ int ia_css_queue_load(
 	if (rdesc->location == IA_CSS_QUEUE_LOC_SP) {
 		assert(ignore_desc_flags <= QUEUE_IGNORE_DESC_FLAGS_MAX);
 
-		if (0 == (ignore_desc_flags & QUEUE_IGNORE_SIZE_FLAG)) {
+		if (0 == (ignore_desc_flags & QUEUE_IGNORE_SIZE_FLAG))
 			cb_desc->size = sp_dmem_load_uint8(rdesc->proc_id,
 				rdesc->desc.remote.cb_desc_addr
 				+ offsetof(ia_css_circbuf_desc_t, size));
 
-			if (0 == cb_desc->size) {
-				/* Adding back the workaround which was removed
-				   while refactoring queues. When reading size
-				   through sp_dmem_load_*, sometimes we get back
-				   the value as zero. This causes division by 0
-				   exception as the size is used in a modular
-				   division operation. */
-				return EDOM;
-			}
-		}
-
 		if (0 == (ignore_desc_flags & QUEUE_IGNORE_START_FLAG))
 			cb_desc->start = sp_dmem_load_uint8(rdesc->proc_id,
 				rdesc->desc.remote.cb_desc_addr
@@ -71,6 +60,13 @@ int ia_css_queue_load(
 		return ENOTSUP;
 	}
 
+	if ((0 == (ignore_desc_flags & QUEUE_IGNORE_SIZE_FLAG)) && (0 == cb_desc->size)) {
+	        /* Adding back the workaround which was removed while refactoring
+		   queues. When reading size through sp_dmem_load_*, sometimes we
+		   get back the value as zero. This causes division by 0 exception
+		   as the size is used in a modular division operation. */
+		return EDOM;
+	}
 	return 0;
 }
 
diff --git a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/sh_css.c b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/sh_css.c
index 64ac4ba..1bb5c05 100644
--- a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/sh_css.c
+++ b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/sh_css.c
@@ -225,6 +225,8 @@ ia_css_reset_defaults(struct sh_css* css);
 static void
 sh_css_init_host_sp_control_vars(void);
 
+static enum ia_css_err set_num_pre_de_stages(unsigned int *num,
+	enum ia_css_pipe_version version);
 static enum ia_css_err set_num_primary_stages(unsigned int *num,
 	enum ia_css_pipe_version version, struct ia_css_frame_info *pipe_out_info,
 	uint32_t xnr);
@@ -6103,6 +6105,31 @@ static bool need_capt_ldc(
 	return (pipe->extra_config.enable_dvs_6axis) ? true:false;
 }
 
+static enum ia_css_err set_num_pre_de_stages(unsigned int *num,
+	enum ia_css_pipe_version version)
+{
+	enum ia_css_err err = IA_CSS_SUCCESS;
+
+	if (num == NULL)
+		return IA_CSS_ERR_INVALID_ARGUMENTS;
+
+	switch (version) {
+	case IA_CSS_PIPE_VERSION_2_7:
+		*num = NUM_PRE_DE_ISP27_STAGES;
+		break;
+	case IA_CSS_PIPE_VERSION_2_2:
+	case IA_CSS_PIPE_VERSION_1:
+		*num = NUM_PRE_DE_STAGES;
+		break;
+	default:
+		*num = 0;
+		err = IA_CSS_ERR_INVALID_ARGUMENTS;
+		break;
+	}
+
+	return err;
+}
+
 static enum ia_css_err set_num_primary_stages(unsigned int *num,
 	enum ia_css_pipe_version version, struct ia_css_frame_info *pipe_out_info,
 	uint32_t xnr)
@@ -6211,28 +6238,38 @@ static enum ia_css_err load_primary_binaries(
 	if (need_pre_de) {
 		struct ia_css_frame_info pre_de_in_info;
 		struct ia_css_frame_info pre_de_out_info;
-		struct ia_css_binary_descr pre_de_descr;
-		if (!pipe->pipe_settings.capture.pre_isp_binary.info) {
+		struct ia_css_binary_descr pre_de_descr[MAX_NUM_PRE_DE_STAGES];
+		enum ia_css_err err = IA_CSS_SUCCESS;
 
-			/* Temporary assign RAW output format for pre_de lookup.
-			 * It will be restored at the end of this block.
-			 */
-			pre_de_out_info = *pipe_out_info;
-			pre_de_out_info.format = IA_CSS_FRAME_FORMAT_RAW;
-			pre_de_out_info.res.width = pipe->config.input_effective_res.width;
-			pre_de_out_info.res.height = pipe->config.input_effective_res.height;
-			ia_css_frame_info_set_width(&pre_de_out_info,
-						pipe->config.input_effective_res.width, 0);
-			ia_css_pipe_get_pre_de_binarydesc(pipe, &pre_de_descr,
-						&pre_de_in_info,
-						&pre_de_out_info);
-
-			err = ia_css_binary_find(&pre_de_descr,
-						&pipe->pipe_settings.capture.pre_isp_binary);
+		err = set_num_pre_de_stages(&mycs->num_pre_de_stage, pipe->config.isp_pipe_version);
+		if (err != IA_CSS_SUCCESS) {
+			IA_CSS_LEAVE_ERR_PRIVATE(err);
+			return err;
+		}
 
-			if (err != IA_CSS_SUCCESS) {
-				IA_CSS_LEAVE_ERR_PRIVATE(err);
-				return err;
+		for (i = 0; i < mycs->num_pre_de_stage; i++) {
+			if (!pipe->pipe_settings.capture.pre_isp_binary[i].info) {
+
+				/* Temporary assign RAW output format for pre_de lookup.
+				* It will be restored at the end of this block.
+				*/
+				pre_de_out_info = *pipe_out_info;
+				pre_de_out_info.format = IA_CSS_FRAME_FORMAT_RAW;
+				pre_de_out_info.res.width = pipe->config.input_effective_res.width;
+				pre_de_out_info.res.height = pipe->config.input_effective_res.height;
+				ia_css_frame_info_set_width(&pre_de_out_info,
+							pipe->config.input_effective_res.width, 0);
+				ia_css_pipe_get_pre_de_binarydesc(pipe, &pre_de_descr[i],
+							&pre_de_in_info,
+							&pre_de_out_info, i);
+
+				err = ia_css_binary_find(&pre_de_descr[i],
+							&pipe->pipe_settings.capture.pre_isp_binary[i]);
+
+				if (err != IA_CSS_SUCCESS) {
+					IA_CSS_LEAVE_ERR_PRIVATE(err);
+					return err;
+				}
 			}
 		}
 	}
@@ -6625,7 +6662,7 @@ static enum ia_css_err load_advanced_binaries(
 
 	assert(pipe != NULL);
 	assert(pipe->mode == IA_CSS_PIPE_ID_CAPTURE || pipe->mode == IA_CSS_PIPE_ID_COPY);
-	if (pipe->pipe_settings.capture.pre_isp_binary.info)
+	if (pipe->pipe_settings.capture.pre_isp_binary[0].info)
 		return IA_CSS_SUCCESS;
 	pipe_out_info = &pipe->output_info[0];
 	pipe_vf_out_info = &pipe->vf_output_info[0];
@@ -6687,11 +6724,11 @@ static enum ia_css_err load_advanced_binaries(
 		ia_css_pipe_get_pre_gdc_binarydesc(pipe, &pre_gdc_descr, &pre_in_info,
 				   &pipe->pipe_settings.capture.anr_gdc_binary.in_frame_info);
 		err = ia_css_binary_find(&pre_gdc_descr,
-					 &pipe->pipe_settings.capture.pre_isp_binary);
+					 &pipe->pipe_settings.capture.pre_isp_binary[0]);
 		if (err != IA_CSS_SUCCESS)
 			return err;
 	}
-	pipe->pipe_settings.capture.pre_isp_binary.left_padding =
+	pipe->pipe_settings.capture.pre_isp_binary[0].left_padding =
 		pipe->pipe_settings.capture.anr_gdc_binary.left_padding;
 
 	/* Viewfinder post-processing */
@@ -6722,7 +6759,7 @@ static enum ia_css_err load_advanced_binaries(
 	if (need_isp_copy)
 		load_copy_binary(pipe,
 			       &pipe->pipe_settings.capture.copy_binary,
-			       &pipe->pipe_settings.capture.pre_isp_binary);
+			       &pipe->pipe_settings.capture.pre_isp_binary[0]);
 
 	return err;
 }
@@ -6732,30 +6769,36 @@ static enum ia_css_err load_bayer_isp_binaries(
 {
 	struct ia_css_frame_info pre_isp_in_info, *pipe_out_info;
 	enum ia_css_err err = IA_CSS_SUCCESS;
-	struct ia_css_binary_descr pre_de_descr;
+	struct ia_css_binary_descr pre_de_descr[MAX_NUM_PRE_DE_STAGES];
 	bool need_isp_copy_binary = false;
 	bool online = false;
 	bool memory = false;
 	bool continuous = false;
+	unsigned int i;
+	struct ia_css_capture_settings *mycs;
 
 	IA_CSS_ENTER_PRIVATE("");
 	assert(pipe != NULL);
 	assert(pipe->mode == IA_CSS_PIPE_ID_CAPTURE || pipe->mode == IA_CSS_PIPE_ID_COPY);
 	pipe_out_info = &pipe->output_info[0];
+	mycs = &pipe->pipe_settings.capture;
 
-	if (pipe->pipe_settings.capture.pre_isp_binary.info)
+	if (pipe->pipe_settings.capture.pre_isp_binary[0].info)
 		return IA_CSS_SUCCESS;
 
 	err = ia_css_frame_check_info(pipe_out_info);
 	if (err != IA_CSS_SUCCESS)
 		return err;
 
-	ia_css_pipe_get_pre_de_binarydesc(pipe, &pre_de_descr,
-				&pre_isp_in_info,
-				pipe_out_info);
+	err = set_num_pre_de_stages(&mycs->num_pre_de_stage, pipe->config.isp_pipe_version);
+	for (i = 0; i < mycs->num_pre_de_stage; i++) {
+		ia_css_pipe_get_pre_de_binarydesc(pipe, &pre_de_descr[i],
+						  &pre_isp_in_info,
+						  pipe_out_info, i);
 
-	err = ia_css_binary_find(&pre_de_descr,
-				 &pipe->pipe_settings.capture.pre_isp_binary);
+		err = ia_css_binary_find(&pre_de_descr[i],
+					 &pipe->pipe_settings.capture.pre_isp_binary[i]);
+	}
 
 	if (pipe->config.isp_pipe_version == IA_CSS_PIPE_VERSION_2_7) {
 		online = pipe->stream->config.online;
@@ -6766,7 +6809,7 @@ static enum ia_css_err load_bayer_isp_binaries(
 		if (need_isp_copy_binary) {
 			err = load_copy_binary(pipe,
 					&pipe->pipe_settings.capture.copy_binary,
-					&pipe->pipe_settings.capture.pre_isp_binary);
+					&pipe->pipe_settings.capture.pre_isp_binary[0]);
 			if (err != IA_CSS_SUCCESS) {
 				IA_CSS_LEAVE_ERR_PRIVATE(err);
 				return err;
@@ -6792,7 +6835,7 @@ static enum ia_css_err load_low_light_binaries(
 	assert(pipe != NULL);
 	assert(pipe->mode == IA_CSS_PIPE_ID_CAPTURE || pipe->mode == IA_CSS_PIPE_ID_COPY);
 
-	if (pipe->pipe_settings.capture.pre_isp_binary.info)
+	if (pipe->pipe_settings.capture.pre_isp_binary[0].info)
 		return IA_CSS_SUCCESS;
 	pipe_vf_out_info = &pipe->vf_output_info[0];
 	pipe_out_info = &pipe->output_info[0];
@@ -6855,11 +6898,11 @@ static enum ia_css_err load_low_light_binaries(
 		ia_css_pipe_get_pre_anr_binarydesc(pipe, &pre_anr_descr, &pre_in_info,
 				   &pipe->pipe_settings.capture.anr_gdc_binary.in_frame_info);
 		err = ia_css_binary_find(&pre_anr_descr,
-				&pipe->pipe_settings.capture.pre_isp_binary);
+				&pipe->pipe_settings.capture.pre_isp_binary[0]);
 		if (err != IA_CSS_SUCCESS)
 			return err;
 	}
-	pipe->pipe_settings.capture.pre_isp_binary.left_padding =
+	pipe->pipe_settings.capture.pre_isp_binary[0].left_padding =
 		pipe->pipe_settings.capture.anr_gdc_binary.left_padding;
 
 	/* Viewfinder post-processing */
@@ -6890,7 +6933,7 @@ static enum ia_css_err load_low_light_binaries(
 	if (need_isp_copy)
 		err = load_copy_binary(pipe,
 			       &pipe->pipe_settings.capture.copy_binary,
-			       &pipe->pipe_settings.capture.pre_isp_binary);
+			       &pipe->pipe_settings.capture.pre_isp_binary[0]);
 
 	return err;
 }
@@ -6995,7 +7038,8 @@ unload_capture_binaries(struct ia_css_pipe *pipe)
 	ia_css_binary_unload(&pipe->pipe_settings.capture.copy_binary);
 	for (i = 0; i < MAX_NUM_PRIMARY_STAGES; i++)
 		ia_css_binary_unload(&pipe->pipe_settings.capture.primary_binary[i]);
-	ia_css_binary_unload(&pipe->pipe_settings.capture.pre_isp_binary);
+	for (i = 0; i < MAX_NUM_PRE_DE_STAGES; i++)
+		ia_css_binary_unload(&pipe->pipe_settings.capture.pre_isp_binary[i]);
 	ia_css_binary_unload(&pipe->pipe_settings.capture.anr_gdc_binary);
 	ia_css_binary_unload(&pipe->pipe_settings.capture.post_isp_binary);
 	ia_css_binary_unload(&pipe->pipe_settings.capture.capture_pp_binary);
@@ -8020,7 +8064,7 @@ create_host_regular_capture_pipeline(struct ia_css_pipe *pipe)
 	struct ia_css_binary *copy_binary,
 			     *primary_binary[MAX_NUM_PRIMARY_STAGES],
 			     *vf_pp_binary,
-			     *pre_isp_binary,
+			     *pre_isp_binary[MAX_NUM_PRE_DE_STAGES],
 			     *anr_gdc_binary,
 			     *post_isp_binary,
 			     *yuv_scaler_binary,
@@ -8042,7 +8086,7 @@ create_host_regular_capture_pipeline(struct ia_css_pipe *pipe)
 	bool online = false;
 	bool continuous = false;
 #endif
-	unsigned int i, num_yuv_scaler, num_primary_stage;
+	unsigned int i, num_yuv_scaler, num_primary_stage, num_pre_de_stage;
 	bool need_yuv_pp = false;
 	bool *is_output_stage = NULL;
 	bool need_ldc = false;
@@ -8110,6 +8154,7 @@ create_host_regular_capture_pipeline(struct ia_css_pipe *pipe)
 
 	copy_binary       = &pipe->pipe_settings.capture.copy_binary;
 	num_primary_stage = pipe->pipe_settings.capture.num_primary_stage;
+	num_pre_de_stage = pipe->pipe_settings.capture.num_pre_de_stage;
 	if ((num_primary_stage == 0) && (mode == IA_CSS_CAPTURE_MODE_PRIMARY)) {
 		IA_CSS_LEAVE_ERR_PRIVATE(IA_CSS_ERR_INTERNAL_ERROR);
 		return IA_CSS_ERR_INTERNAL_ERROR;
@@ -8117,8 +8162,10 @@ create_host_regular_capture_pipeline(struct ia_css_pipe *pipe)
 	for (i = 0; i < num_primary_stage; i++) {
 		primary_binary[i] = &pipe->pipe_settings.capture.primary_binary[i];
 	}
+	for (i = 0; i < num_pre_de_stage; i++) {
+		pre_isp_binary[i] = &pipe->pipe_settings.capture.pre_isp_binary[i];
+	}
 	vf_pp_binary      = &pipe->pipe_settings.capture.vf_pp_binary;
-	pre_isp_binary    = &pipe->pipe_settings.capture.pre_isp_binary;
 	anr_gdc_binary    = &pipe->pipe_settings.capture.anr_gdc_binary;
 	post_isp_binary   = &pipe->pipe_settings.capture.post_isp_binary;
 	capture_pp_binary = &pipe->pipe_settings.capture.capture_pp_binary;
@@ -8172,14 +8219,16 @@ create_host_regular_capture_pipeline(struct ia_css_pipe *pipe)
 		struct ia_css_frame *local_out_frame = NULL;
 
 		if (need_pre_de) {
-			ia_css_pipe_util_set_output_frames(out_frames, 0, NULL);
-			ia_css_pipe_get_generic_stage_desc(&stage_desc, pre_isp_binary,
-				out_frames, in_frame, NULL);
-			err = ia_css_pipeline_create_and_add_stage(me,
-					&stage_desc, NULL);
-			if (err != IA_CSS_SUCCESS) {
-				IA_CSS_LEAVE_ERR_PRIVATE(err);
-				return err;
+			for (i = 0; i < num_pre_de_stage; i++) {
+				ia_css_pipe_util_set_output_frames(out_frames, 0, NULL);
+				ia_css_pipe_get_generic_stage_desc(&stage_desc, pre_isp_binary[i],
+					out_frames, (i == 0) ? in_frame : NULL, NULL);
+				err = ia_css_pipeline_create_and_add_stage(me,
+						&stage_desc, NULL);
+				if (err != IA_CSS_SUCCESS) {
+					IA_CSS_LEAVE_ERR_PRIVATE(err);
+					return err;
+				}
 			}
 		}
 
@@ -8241,8 +8290,12 @@ create_host_regular_capture_pipeline(struct ia_css_pipe *pipe)
 		current_stage->args.copy_output = current_stage->args.copy_vf;
 	} else if (mode == IA_CSS_CAPTURE_MODE_ADVANCED ||
 	           mode == IA_CSS_CAPTURE_MODE_LOW_LIGHT) {
+		if (num_pre_de_stage <= 0) {
+			IA_CSS_LEAVE_ERR_PRIVATE(err);
+			return err;
+		}
 		ia_css_pipe_util_set_output_frames(out_frames, 0, NULL);
-		ia_css_pipe_get_generic_stage_desc(&stage_desc, pre_isp_binary,
+		ia_css_pipe_get_generic_stage_desc(&stage_desc, pre_isp_binary[0],
 			out_frames, in_frame, NULL);
 		err = ia_css_pipeline_create_and_add_stage(me,
 				&stage_desc, NULL);
@@ -8277,15 +8330,18 @@ create_host_regular_capture_pipeline(struct ia_css_pipe *pipe)
 			return err;
 		}
 	} else if (mode == IA_CSS_CAPTURE_MODE_BAYER) {
-		ia_css_pipe_util_set_output_frames(out_frames, 0, out_frame);
-		ia_css_pipe_get_generic_stage_desc(&stage_desc, pre_isp_binary,
-			out_frames, in_frame, NULL);
-		err = ia_css_pipeline_create_and_add_stage(me,
-			&stage_desc,
-			NULL);
-		if (err != IA_CSS_SUCCESS) {
-			IA_CSS_LEAVE_ERR_PRIVATE(err);
-			return err;
+		for (i = 0; i < num_pre_de_stage; i++) {
+			ia_css_pipe_util_set_output_frames(out_frames, 0,
+							   (i == num_pre_de_stage - 1) ? out_frame : NULL);
+			ia_css_pipe_get_generic_stage_desc(&stage_desc, pre_isp_binary[i],
+				out_frames, (i == 0) ? in_frame : NULL, NULL);
+			err = ia_css_pipeline_create_and_add_stage(me,
+				&stage_desc,
+				NULL);
+			if (err != IA_CSS_SUCCESS) {
+				IA_CSS_LEAVE_ERR_PRIVATE(err);
+				return err;
+			}
 		}
 	}
 
@@ -10324,12 +10380,20 @@ ia_css_pipe_get_shading_correction_binary(const struct ia_css_pipe *pipe)
 				}
 			}
 		}
-		else if (pipe->config.default_capture_config.mode == IA_CSS_CAPTURE_MODE_BAYER)
-			binary = (struct ia_css_binary *)&pipe->pipe_settings.capture.pre_isp_binary;
+		else if (pipe->config.default_capture_config.mode == IA_CSS_CAPTURE_MODE_BAYER) {
+			unsigned int i;
+
+			for (i = 0; i < pipe->pipe_settings.capture.num_pre_de_stage; i++) {
+				if (pipe->pipe_settings.capture.pre_isp_binary[i].info->sp.enable.sc) {
+					binary = (struct ia_css_binary *)&pipe->pipe_settings.capture.pre_isp_binary[i];
+					break;
+				}
+			}
+		}
 		else if (pipe->config.default_capture_config.mode == IA_CSS_CAPTURE_MODE_ADVANCED ||
 			 pipe->config.default_capture_config.mode == IA_CSS_CAPTURE_MODE_LOW_LIGHT) {
 			if (pipe->config.isp_pipe_version == IA_CSS_PIPE_VERSION_1)
-				binary = (struct ia_css_binary *)&pipe->pipe_settings.capture.pre_isp_binary;
+				binary = (struct ia_css_binary *)&pipe->pipe_settings.capture.pre_isp_binary[0];
 			else if (pipe->config.isp_pipe_version == IA_CSS_PIPE_VERSION_2_2)
 				binary = (struct ia_css_binary *)&pipe->pipe_settings.capture.post_isp_binary;
 		}
@@ -10368,12 +10432,19 @@ ia_css_pipe_get_s3a_binary(const struct ia_css_pipe *pipe)
 					}
 				}
 			}
-			else if (pipe->config.default_capture_config.mode == IA_CSS_CAPTURE_MODE_BAYER)
-				binary = (struct ia_css_binary *)&pipe->pipe_settings.capture.pre_isp_binary;
+			else if (pipe->config.default_capture_config.mode == IA_CSS_CAPTURE_MODE_BAYER) {
+				unsigned int i;
+				for (i = 0; i < pipe->pipe_settings.capture.num_pre_de_stage; i++) {
+					if (pipe->pipe_settings.capture.pre_isp_binary[i].info->sp.enable.s3a) {
+						binary = (struct ia_css_binary *)&pipe->pipe_settings.capture.pre_isp_binary[i];
+						break;
+					}
+				}
+			}
 			else if (pipe->config.default_capture_config.mode == IA_CSS_CAPTURE_MODE_ADVANCED ||
 				 pipe->config.default_capture_config.mode == IA_CSS_CAPTURE_MODE_LOW_LIGHT) {
 				if (pipe->config.isp_pipe_version == IA_CSS_PIPE_VERSION_1)
-					binary = (struct ia_css_binary *)&pipe->pipe_settings.capture.pre_isp_binary;
+					binary = (struct ia_css_binary *)&pipe->pipe_settings.capture.pre_isp_binary[0];
 				else if (pipe->config.isp_pipe_version == IA_CSS_PIPE_VERSION_2_2)
 					binary = (struct ia_css_binary *)&pipe->pipe_settings.capture.post_isp_binary;
 				else
@@ -10838,8 +10909,8 @@ void ia_css_pipe_map_queue(struct ia_css_pipe *pipe, bool map)
 		} else if (pipe->config.default_capture_config.mode == IA_CSS_CAPTURE_MODE_ADVANCED ||
 				 pipe->config.default_capture_config.mode == IA_CSS_CAPTURE_MODE_LOW_LIGHT ||
 				 pipe->config.default_capture_config.mode == IA_CSS_CAPTURE_MODE_BAYER) {
-			if (pipe->pipe_settings.capture.pre_isp_binary.info &&
-				pipe->pipe_settings.capture.pre_isp_binary.info->sp.enable.s3a)
+			if (pipe->pipe_settings.capture.pre_isp_binary[0].info &&
+				pipe->pipe_settings.capture.pre_isp_binary[0].info->sp.enable.s3a)
 				ia_css_queue_map(thread_id, IA_CSS_BUFFER_TYPE_3A_STATISTICS, map);
 		}
 	} else if (pipe->mode == IA_CSS_PIPE_ID_VIDEO) {
diff --git a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/sh_css_defs.h b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/sh_css_defs.h
index 72b70e7..25df326 100644
--- a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/sh_css_defs.h
+++ b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/sh_css_defs.h
@@ -399,7 +399,17 @@ RGB[0,8191],coef[-8192,8191] -> RGB[0,8191]
 #ifdef IS_ISP_2500_SYSTEM
 #define SH_CSS_MAX_STAGES 3 /* 2 stages for split isp pipelin, 1 for scaling */
 #else
-#define SH_CSS_MAX_STAGES 8 /* primary_stage[1-6], capture_pp, vf_pp */
+#if !defined(USE_INPUT_SYSTEM_VERSION_2401) && !defined(IS_ISP_2401_MAMOIADA)
+/* ISP2.7: primary_stage[1-4], capture_pp, vf_pp,
+ * yuv_scale[1-2], pre_de[1-2], copy
+ *
+ * IS_ISP_2401_MAMOIADA needs to check to ensure sh_css_internal.h obtain
+ * value correctly
+ */
+#define SH_CSS_MAX_STAGES 11
+#else
+#define SH_CSS_MAX_STAGES 8 /* ISP2.2: primary_stage[1-6], capture_pp, vf_pp */
+#endif
 #endif
 
 /* For CSI2+ input system, it requires extra paddinga from vmem */
diff --git a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/sh_css_firmware.c b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/sh_css_firmware.c
index 44463f9..1c7228d 100644
--- a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/sh_css_firmware.c
+++ b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/sh_css_firmware.c
@@ -47,10 +47,10 @@ struct fw_param {
 /* Warning: same order as SH_CSS_BINARY_ID_* */
 static struct firmware_header *firmware_header;
 
-/* The string STR(irci_ecr-master_20160125_1250) is a place holder
+/* The string STR(irci_ecr-master_20160201_0200) is a place holder
  * which will be replaced with the actual RELEASE_VERSION
  * during package generation. Please do not modify  */
-static const char *release_version = STR(irci_ecr-master_20160125_1250);
+static const char *release_version = STR(irci_ecr-master_20160201_0200);
 
 #define MAX_FW_REL_VER_NAME	300
 static char FW_rel_ver_name[MAX_FW_REL_VER_NAME] = "---";
diff --git a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/sh_css_param_shading.c b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/sh_css_param_shading.c
index fe7ff61..d055c66 100644
--- a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/sh_css_param_shading.c
+++ b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/sh_css_param_shading.c
@@ -99,6 +99,14 @@ crop_and_interpolate(unsigned int cropped_width,
 	sensor_height = in_table->sensor_height;
 	table_width   = in_table->width;
 	table_height  = in_table->height;
+
+	/* although in_table->width ranges from [0 - 81], the caller
+	   should not crop and interpolate for 0 and 1 */
+	if (table_width <= 1) {
+		assert(table_width > 1);
+		return;
+	}
+
 	in_ptr = in_table->data[color];
 	out_ptr = out_table->data[color];
 
@@ -245,7 +253,7 @@ prepare_shading_table(const struct ia_css_shading_table *in_table,
 	assert(target_table != NULL);
 	assert(binary != NULL);
 
-	if (!in_table) {
+	if (!in_table || in_table->width <= 1) {
 		sh_css_params_shading_id_table_generate(target_table,
 			binary->sctbl_legacy_width_per_color, binary->sctbl_legacy_height);
 		return;
-- 
1.9.1

