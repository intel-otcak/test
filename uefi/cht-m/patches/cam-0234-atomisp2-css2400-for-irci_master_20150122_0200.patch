From c5f9fe8477b7c9a36a43dcab8c57efc7f1395598 Mon Sep 17 00:00:00 2001
From: Pengpeng Cui <pengpengx.cui@intel.com>
Date: Fri, 23 Jan 2015 17:36:19 +0800
Subject: [PATCH 234/236] atomisp2: css2400 for irci_master_20150122_0200

Merge CSS2.1 for css2400  for
irci_master_20150122_0200 firmware

Change-Id: I9370ce3c33e7b0b67c685dd4fb2e077eee625b68
Tracked-On: https://jira01.devtools.intel.com/browse/IMINAN-18515
Signed-off-by: Pengpeng Cui <pengpengx.cui@intel.com>
Reviewed-on: https://icggerrit.ir.intel.com/37659
Approver: Wei Tao <wei.tao@intel.com>
Reviewed-by: Wei Tao <wei.tao@intel.com>
---
 .../ia_css_isp_params.c                            |   4 +-
 .../media/pci/atomisp2/css2400b0_v21/ia_css.h      |   4 +-
 .../pci/atomisp2/css2400b0_v21/ia_css_host_data.h  |   4 +-
 .../pci/atomisp2/css2400b0_v21/ia_css_types.h      |   4 +-
 .../atomisp2/css2400b0_v21/ia_css_version_data.h   |   2 +-
 .../isp/kernels/bnlm/ia_css_bnlm.host.c            | 142 ++++-
 .../isp/kernels/bnlm/ia_css_bnlm.host.h            |   9 +-
 .../isp/kernels/bnlm/ia_css_bnlm_default.host.c    |  71 +++
 .../isp/kernels/bnlm/ia_css_bnlm_default.host.h    |  22 +
 .../isp/kernels/bnlm/ia_css_bnlm_param.h           |  45 +-
 .../isp/kernels/bnlm/ia_css_bnlm_types.h           |  53 +-
 .../conversion_1.0/ia_css_conversion.host.c        |   2 +-
 .../conversion_1.0/ia_css_conversion_types.h       |   2 +-
 .../isp/kernels/hdr/ia_css_hdr.host.c              |   4 +-
 .../isp/kernels/hdr/ia_css_hdr.host.h              |   4 +-
 .../isp/kernels/hdr/ia_css_hdr_param.h             |   4 +-
 .../isp/kernels/hdr/ia_css_hdr_types.h             |   4 +-
 .../iterator/iterator_1.0/ia_css_iterator.host.c   |  28 +-
 .../iterator/iterator_1.0/ia_css_iterator.host.h   |  28 +-
 .../iterator/iterator_1.0/ia_css_iterator_param.h  |  28 +-
 .../isp/kernels/xnr/xnrvideo4/ia_css_xnr4.host.c   |  22 +-
 .../xnr/xnrvideo4/ia_css_xnr4_downsample.host.c    |  53 ++
 .../xnr/xnrvideo4/ia_css_xnr4_downsample.host.h    |  38 ++
 .../xnr/xnrvideo4/ia_css_xnr4_downsample_param.h   |   4 +-
 .../xnr/xnrvideo4/ia_css_xnr4_downsample_types.h   |   6 +-
 .../isp/kernels/xnr/xnrvideo4/ia_css_xnr4_param.h  |  10 +-
 .../xnr/xnrvideo4/ia_css_xnr4_radial_metric.host.c |  57 ++
 .../xnr/xnrvideo4/ia_css_xnr4_radial_metric.host.h |  38 ++
 .../xnrvideo4/ia_css_xnr4_radial_metric_param.h    |  53 ++
 .../xnrvideo4/ia_css_xnr4_radial_metric_types.h    |  40 ++
 .../isp/kernels/xnr/xnrvideo4/ia_css_xnr4_types.h  |  10 +-
 .../xnr/xnrvideo4/ia_css_xnr4_upsample_param.h     |  70 +++
 .../css2400b0_v21/isp/modes/interface/isp_const.h  |  16 -
 .../media/pci/atomisp2/css2400b0_v21/sh_css.c      |  69 ++-
 .../pci/atomisp2/css2400b0_v21/sh_css_firmware.c   |   4 +-
 .../media/pci/atomisp2/css2400b0_v21/spmem_dump.c  | 588 ++++++++++-----------
 36 files changed, 1130 insertions(+), 412 deletions(-)
 create mode 100644 drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/bnlm/ia_css_bnlm_default.host.c
 create mode 100644 drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/bnlm/ia_css_bnlm_default.host.h
 create mode 100644 drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/xnr/xnrvideo4/ia_css_xnr4_downsample.host.c
 create mode 100644 drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/xnr/xnrvideo4/ia_css_xnr4_downsample.host.h
 create mode 100644 drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/xnr/xnrvideo4/ia_css_xnr4_radial_metric.host.c
 create mode 100644 drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/xnr/xnrvideo4/ia_css_xnr4_radial_metric.host.h
 create mode 100644 drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/xnr/xnrvideo4/ia_css_xnr4_radial_metric_param.h
 create mode 100644 drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/xnr/xnrvideo4/ia_css_xnr4_radial_metric_types.h
 create mode 100644 drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/xnr/xnrvideo4/ia_css_xnr4_upsample_param.h

diff --git a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/hive_isp_css_2400_system_generated/ia_css_isp_params.c b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/hive_isp_css_2400_system_generated/ia_css_isp_params.c
index 33fbc80..c5c85ac 100644
--- a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/hive_isp_css_2400_system_generated/ia_css_isp_params.c
+++ b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/hive_isp_css_2400_system_generated/ia_css_isp_params.c
@@ -39,6 +39,7 @@
 #include "isp/kernels/ob/ob_1.0/ia_css_ob.host.h"
 #include "isp/kernels/ob/ob2/ia_css_ob2.host.h"
 #include "isp/kernels/output/output_1.0/ia_css_output.host.h"
+#include "isp/kernels/iefd2_6/ia_css_iefd2_6.host.h"
 #include "isp/kernels/raw_aa_binning/raw_aa_binning_1.0/ia_css_raa.host.h"
 #include "isp/kernels/s3a/s3a_1.0/ia_css_s3a.host.h"
 #include "isp/kernels/sc/sc_1.0/ia_css_sc.host.h"
@@ -51,12 +52,13 @@
 #include "isp/kernels/xnr/xnr_3.0/ia_css_xnr3.host.h"
 #include "isp/kernels/xnr/xnrvideo4/ia_css_xnrvideo4.host.h"
 #include "isp/kernels/xnr/xnrvideo4/ia_css_xnr4.host.h"
+#include "isp/kernels/xnr/xnrvideo4/ia_css_xnr4_downsample.host.h"
+#include "isp/kernels/xnr/xnrvideo4/ia_css_xnr4_radial_metric.host.h"
 #include "isp/kernels/ynr/ynr_1.0/ia_css_ynr.host.h"
 #include "isp/kernels/ynr/ynr_2/ia_css_ynr2.host.h"
 #include "isp/kernels/tdf/tdf_1.0/ia_css_tdf.host.h"
 #include "isp/kernels/dpc2/ia_css_dpc2.host.h"
 #include "isp/kernels/eed1_8/ia_css_eed1_8.host.h"
-#include "isp/kernels/iefd2_6/ia_css_iefd2_6.host.h"
 #include "isp/kernels/bnlm/ia_css_bnlm.host.h"
 #include "isp/kernels/io_ls/bayer_io_ls/ia_css_bayer_io.host.h"
 #include "isp/kernels/conversion/conversion_1.0/ia_css_conversion.host.h"
diff --git a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/ia_css.h b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/ia_css.h
index eb257d4..7291d90 100644
--- a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/ia_css.h
+++ b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/ia_css.h
@@ -1,5 +1,5 @@
-/* Release Version: irci_master_20150119_1500 */
-/* Release Version: irci_master_20150119_1500 */
+/* Release Version: irci_master_20150122_0200 */
+/* Release Version: irci_master_20150122_0200 */
 /*
  * Support for Intel Camera Imaging ISP subsystem.
  * Copyright (c) 2015, Intel Corporation.
diff --git a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/ia_css_host_data.h b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/ia_css_host_data.h
index 2be7af5..b4c2c02 100644
--- a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/ia_css_host_data.h
+++ b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/ia_css_host_data.h
@@ -1,5 +1,5 @@
-/* Release Version: irci_master_20150119_1500 */
-/* Release Version: irci_master_20150119_1500 */
+/* Release Version: irci_master_20150122_0200 */
+/* Release Version: irci_master_20150122_0200 */
 /*
  * Support for Intel Camera Imaging ISP subsystem.
  * Copyright (c) 2015, Intel Corporation.
diff --git a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/ia_css_types.h b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/ia_css_types.h
index 05b8b37..6f804b3 100644
--- a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/ia_css_types.h
+++ b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/ia_css_types.h
@@ -1,5 +1,5 @@
-/* Release Version: irci_master_20150119_1500 */
-/* Release Version: irci_master_20150119_1500 */
+/* Release Version: irci_master_20150122_0200 */
+/* Release Version: irci_master_20150122_0200 */
 /*
  * Support for Intel Camera Imaging ISP subsystem.
  * Copyright (c) 2015, Intel Corporation.
diff --git a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/ia_css_version_data.h b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/ia_css_version_data.h
index 20d2732..674306b 100644
--- a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/ia_css_version_data.h
+++ b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/ia_css_version_data.h
@@ -22,7 +22,7 @@
 #define __IA_CSS_VERSION_DATA_H
 
 
-#define CSS_VERSION_STRING "REL:20150119_04.1_1536; API:2.1.10.5; GIT:scci_20150118_1844_#0ba30a3cc5eb5b853ee4189407c2b7f1d195895d; SDK:/nfs/iir/disks/iir_hivepackages_003/iir_hivepkgs_disk017/Css_Mizuchi/packages/Css_Mizuchi/int_css_mizuchi_20140829_1053; USER:viedifw; "
+#define CSS_VERSION_STRING "REL:20150122_04.4_0257; API:2.1.10.5; GIT:irci_20150121_1500__b6e2cf#b6e2cf097b446439a5d3733cc823f130ce5d882b; SDK:/nfs/iir/disks/iir_hivepackages_003/iir_hivepkgs_disk017/Css_Mizuchi/packages/Css_Mizuchi/int_css_mizuchi_20140829_1053; USER:viedifw; "
 
 
 #endif
diff --git a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/bnlm/ia_css_bnlm.host.c b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/bnlm/ia_css_bnlm.host.c
index 0eb02c9..df88292 100644
--- a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/bnlm/ia_css_bnlm.host.c
+++ b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/bnlm/ia_css_bnlm.host.c
@@ -18,23 +18,107 @@
 #ifndef IA_CSS_NO_DEBUG
 #include "ia_css_debug.h" /* ia_css_debug_dtrace() */
 #endif
+#include <assert_support.h>
 
-/* ToDo: add all the parameters of BNLM
- * Presently only few parameters are added, as other parameter names are not
- * clear in KFS and prm files. */
+/* Encodes a look-up table from BNLM public parameters to vmem parameters.
+ * Input:
+ *	lut	:	bnlm_lut struct containing encoded vmem parameters look-up table
+ *	lut_thr	:	array containing threshold values for lut
+ *	lut_val	:	array containing output values related to lut_thr
+ *	lut_size:	Size of lut_val array
+ *	*/
+static inline void
+bnlm_lut_encode(struct bnlm_lut *lut, const int32_t *lut_thr, const int32_t *lut_val, const uint32_t lut_size)
+{
+	int blk, i;
+	const int block_size = 16;
+	const int total_blocks = (ISP_VEC_NELEMS / block_size);
+
+	/* Create VMEM LUTs from the threshold and value arrays.
+	 *
+	 * Max size of the LUT is 16 entries, so that the LUT can fit into a
+	 * single group of 16 elements inside a vector.
+	 * Then these elements are copied into other groups inside the same
+	 * vector. If the LUT size is less than 16, then remaining elements are
+	 * set to 0.
+	 * */
+	assert(lut_size <= block_size);
+	/* array lut_thr has (lut_size-1) entries */
+	for (i = 0; i < lut_size-2; i++) {
+		/* Check if the lut_thr is monotonically increasing */
+		assert(lut_thr[i] <= lut_thr[i+1]);
+	}
+
+	/* Intialize */
+	for (i = 0; i < total_blocks * block_size; i++) {
+		lut->thr[0][i] = 0;
+		lut->val[0][i] = 0;
+	}
 
-/* Default kernel parameters. */
-const struct ia_css_bnlm_config default_bnlm_config = {
-	0,
-	0,
-	0,
-	0,
-	0
-};
+	/* Copy all data */
+	for (i = 0; i < lut_size - 1; i++) {
+		lut->thr[0][i] = lut_thr[i];
+		lut->val[0][i] = lut_val[i];
+	}
+	lut->val[0][i] = lut_val[i]; /* val has one more element than thr */
 
+	/* Copy data from first block to all blocks */
+	for (blk = 1; blk < total_blocks; blk++) {
+		uint32_t blk_offset = blk * block_size;
+		for (i = 1; i < lut_size; i++) {
+			lut->thr[0][blk_offset + i] = lut->thr[0][i];
+			lut->val[0][blk_offset + i] = lut->val[0][i];
+		}
+	}
+}
+
+/*
+ * - Encodes BNLM public parameters into VMEM parameters
+ * - Generates VMEM parameters which will needed internally ISP
+ * */
+void
+ia_css_bnlm_vmem_encode(
+			struct bnlm_vmem_params *to,
+			const struct ia_css_bnlm_config *from,
+			size_t size)
+{
+	(void)size;
+	int i;
+
+	/* Initialize LUTs in VMEM parameters */
+	bnlm_lut_encode(&to->mu_root_lut, from->mu_root_lut_thr, from->mu_root_lut_val, 16);
+	bnlm_lut_encode(&to->sad_norm_lut, from->sad_norm_lut_thr, from->sad_norm_lut_val, 16);
+	bnlm_lut_encode(&to->sig_detail_lut, from->sig_detail_lut_thr, from->sig_detail_lut_val, 16);
+	bnlm_lut_encode(&to->sig_rad_lut, from->sig_rad_lut_thr, from->sig_rad_lut_val, 16);
+	bnlm_lut_encode(&to->rad_pow_lut, from->rad_pow_lut_thr, from->rad_pow_lut_val, 16);
+	bnlm_lut_encode(&to->nl_0_lut, from->nl_0_lut_thr, from->nl_0_lut_val, 16);
+	bnlm_lut_encode(&to->nl_1_lut, from->nl_1_lut_thr, from->nl_1_lut_val, 16);
+	bnlm_lut_encode(&to->nl_2_lut, from->nl_2_lut_thr, from->nl_2_lut_val, 16);
+	bnlm_lut_encode(&to->nl_3_lut, from->nl_3_lut_thr, from->nl_3_lut_val, 16);
+
+	/* Initialize arrays in VMEM parameters */
+	memset(to->nl_th, 0, sizeof(to->nl_th));
+	memcpy(to->nl_th, from->nl_th, sizeof(from->nl_th));
+
+	memset(to->match_quality_max_idx, 0, sizeof(to->match_quality_max_idx));
+	memcpy(to->match_quality_max_idx, from->match_quality_max_idx, sizeof(from->match_quality_max_idx));
+
+	/* ToDo: Clean up below parameters using new implementation from ATE */
+	memset(&to->exp_lut, 0, sizeof(to->exp_lut));
+	memset(to->div_lut_thr, 0, sizeof(to->div_lut_thr));
+	memset(to->div_lut_nearests, 0, sizeof(to->div_lut_nearests));
+	memset(to->div_lut_slopes, 0, sizeof(to->div_lut_slopes));
+	memset(to->div_lut_intercepts, 0, sizeof(to->div_lut_intercepts));
+	memset(to->power_of_2, 0, sizeof(to->power_of_2));
+	for (i = 0; i < (ISP_VEC_ELEMBITS-1); i++) {
+		to->power_of_2[0][i] = 1 << i;
+	}
+}
+
+/* - Encodes BNLM public parameters into DMEM parameters */
 void
 ia_css_bnlm_encode(
-	struct sh_css_isp_bnlm_params *to,
+	struct bnlm_dmem_params *to,
 	const struct ia_css_bnlm_config *from,
 	size_t size)
 {
@@ -43,23 +127,37 @@ ia_css_bnlm_encode(
 	to->rad_x_origin = from->rad_x_origin;
 	to->rad_y_origin = from->rad_y_origin;
 	to->avg_min_th = from->avg_min_th;
-	to->avg_max_th = from->avg_max_th;
+	to->max_min_th = from->max_min_th;
+
+	to->exp_coeff_a = from->exp_coeff_a;
+	to->exp_coeff_b = from->exp_coeff_b;
+	to->exp_coeff_c = from->exp_coeff_c;
+	to->exp_exponent = from->exp_exponent;
 }
 
-#ifndef IA_CSS_NO_DEBUG
+/* Prints debug traces for BNLM public parameters */
 void
 ia_css_bnlm_debug_trace(
-	const struct ia_css_bnlm_config *bnlm,
+	const struct ia_css_bnlm_config *config,
 	unsigned level)
 {
-	if (!bnlm)
+	if (!config)
 		return;
 
+#ifndef IA_CSS_NO_DEBUG
 	ia_css_debug_dtrace(level, "BNLM:\n");
-	ia_css_debug_dtrace(level, "\t%-32s = %d\n", "rad_enable", bnlm->rad_enable);
-	ia_css_debug_dtrace(level, "\t%-32s = %d\n", "rad_x_origin", bnlm->rad_x_origin);
-	ia_css_debug_dtrace(level, "\t%-32s = %d\n", "rad_y_origin", bnlm->rad_y_origin);
-	ia_css_debug_dtrace(level, "\t%-32s = %d\n", "avg_min_th", bnlm->avg_min_th);
-	ia_css_debug_dtrace(level, "\t%-32s = %d\n", "avg_max_th", bnlm->avg_max_th);
-}
+	ia_css_debug_dtrace(level, "\t%-32s = %d\n", "rad_enable", config->rad_enable);
+	ia_css_debug_dtrace(level, "\t%-32s = %d\n", "rad_x_origin", config->rad_x_origin);
+	ia_css_debug_dtrace(level, "\t%-32s = %d\n", "rad_y_origin", config->rad_y_origin);
+	ia_css_debug_dtrace(level, "\t%-32s = %d\n", "avg_min_th", config->avg_min_th);
+	ia_css_debug_dtrace(level, "\t%-32s = %d\n", "max_min_th", config->max_min_th);
+
+	ia_css_debug_dtrace(level, "\t%-32s = %d\n", "exp_coeff_a", config->exp_coeff_a);
+	ia_css_debug_dtrace(level, "\t%-32s = %d\n", "exp_coeff_b", config->exp_coeff_b);
+	ia_css_debug_dtrace(level, "\t%-32s = %d\n", "exp_coeff_c", config->exp_coeff_c);
+	ia_css_debug_dtrace(level, "\t%-32s = %d\n", "exp_exponent", config->exp_exponent);
+
+	/* ToDo: print traces for LUTs */
 #endif /* IA_CSS_NO_DEBUG */
+
+}
diff --git a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/bnlm/ia_css_bnlm.host.h b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/bnlm/ia_css_bnlm.host.h
index aa94a1f..b99c064 100644
--- a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/bnlm/ia_css_bnlm.host.h
+++ b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/bnlm/ia_css_bnlm.host.h
@@ -17,12 +17,17 @@
 
 #include "ia_css_bnlm_types.h"
 #include "ia_css_bnlm_param.h"
+#include "ia_css_bnlm_default.host.h"
 
-extern const struct ia_css_bnlm_config default_bnlm_config;
+void
+ia_css_bnlm_vmem_encode(
+			struct bnlm_vmem_params *to,
+			const struct ia_css_bnlm_config *from,
+			size_t size);
 
 void
 ia_css_bnlm_encode(
-	struct sh_css_isp_bnlm_params *to,
+	struct bnlm_dmem_params *to,
 	const struct ia_css_bnlm_config *from,
 	size_t size);
 
diff --git a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/bnlm/ia_css_bnlm_default.host.c b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/bnlm/ia_css_bnlm_default.host.c
new file mode 100644
index 0000000..e2eb88c
--- /dev/null
+++ b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/bnlm/ia_css_bnlm_default.host.c
@@ -0,0 +1,71 @@
+/*
+ * Support for Intel Camera Imaging ISP subsystem.
+ * Copyright (c) 2015, Intel Corporation.
+ *
+ * This program is free software; you can redistribute it and/or modify it
+ * under the terms and conditions of the GNU General Public License,
+ * version 2, as published by the Free Software Foundation.
+ *
+ * This program is distributed in the hope it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for
+ * more details.
+ */
+
+#include "ia_css_bnlm_types.h"
+
+const struct ia_css_bnlm_config default_bnlm_config = {
+
+	.rad_enable = true,
+	.rad_x_origin = 0,
+	.rad_y_origin = 0,
+	.avg_min_th = 127,
+	.max_min_th = 2047,
+
+	.exp_coeff_a = 6048,
+	.exp_coeff_b = 7828,
+	.exp_coeff_c = 0,
+	.exp_exponent = 3,
+
+	.nl_th = {2252, 2251, 2250},
+	.match_quality_max_idx = {2, 3, 3, 1},
+
+	.mu_root_lut_thr = {
+		26, 56, 128, 216, 462, 626, 932, 1108, 1480, 1564, 1824, 1896, 2368, 3428, 4560},
+	.mu_root_lut_val = {
+		384, 320, 320, 264, 248, 240, 224, 192, 192, 160, 160, 160, 136, 130, 96, 80},
+	.sad_norm_lut_thr = {
+		236, 328, 470, 774, 964, 1486, 2294, 3244, 4844, 6524, 6524, 6524, 6524, 6524, 6524},
+	.sad_norm_lut_val = {
+		8064, 7680, 7168, 6144, 5120, 3840, 2560, 2304, 1984, 1792, 1792, 1792, 1792, 1792, 1792, 1792},
+	.sig_detail_lut_thr = {
+		2936, 3354, 3943, 4896, 5230, 5682, 5996, 7299, 7299, 7299, 7299, 7299, 7299, 7299, 7299},
+	.sig_detail_lut_val = {
+		8191, 7680, 7168, 6144, 5120, 4608, 4224, 4032, 4032, 4032, 4032, 4032, 4032, 4032, 4032, 4032},
+	.sig_rad_lut_thr = {
+		18, 19, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20},
+	.sig_rad_lut_val = {
+		2560, 7168, 8188, 8188, 8188, 8188, 8188, 8188, 8188, 8188, 8188, 8188, 8188, 8188, 8188, 8188},
+	.rad_pow_lut_thr = {
+		0, 7013, 7013, 7013, 7013, 7013, 7013, 7013, 7013, 7013, 7013, 7013, 7013, 7013, 7013},
+	.rad_pow_lut_val = {
+		8191, 8191, 8191, 8191, 8191, 8191, 8191, 8191, 8191, 8191, 8191, 8191, 8191, 8191, 8191, 8191},
+	.nl_0_lut_thr = {
+		1072, 7000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000, 8000},
+	.nl_0_lut_val = {
+		2560, 3072, 5120, 5120, 5120, 5120, 5120, 5120, 5120, 5120, 5120, 5120, 5120, 5120, 5120, 5120},
+	.nl_1_lut_thr = {
+		624, 3224, 3392, 7424, 7424, 7424, 7424, 7424, 7424, 7424, 7424, 7424, 7424, 7424, 7424},
+	.nl_1_lut_val = {
+		3584, 4608, 5120, 6144, 6144, 6144, 6144, 6144, 6144, 6144, 6144, 6144, 6144, 6144, 6144, 6144},
+	.nl_2_lut_thr = {
+		745, 2896, 3720, 6535, 7696, 8040, 8040, 8040, 8040, 8040, 8040, 8040, 8040, 8040, 8040},
+	.nl_2_lut_val = {
+		3584, 4608, 6144, 7168, 7936, 8191, 8191, 8191, 8191, 8191, 8191, 8191, 8191, 8191, 8191, 8191},
+	.nl_3_lut_thr = {
+		4848, 4984, 5872, 6000, 6517, 6960, 7944, 8088, 8161, 8161, 8161, 8161, 8161, 8161, 8161},
+	.nl_3_lut_val = {
+		3072, 4104, 4608, 5120, 6144, 7168, 7680, 8128, 8191, 8191, 8191, 8191, 8191, 8191, 8191, 8191},
+
+};
+
diff --git a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/bnlm/ia_css_bnlm_default.host.h b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/bnlm/ia_css_bnlm_default.host.h
new file mode 100644
index 0000000..f18c807
--- /dev/null
+++ b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/bnlm/ia_css_bnlm_default.host.h
@@ -0,0 +1,22 @@
+/*
+ * Support for Intel Camera Imaging ISP subsystem.
+ * Copyright (c) 2015, Intel Corporation.
+ *
+ * This program is free software; you can redistribute it and/or modify it
+ * under the terms and conditions of the GNU General Public License,
+ * version 2, as published by the Free Software Foundation.
+ *
+ * This program is distributed in the hope it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for
+ * more details.
+ */
+
+#ifndef __IA_CSS_BNLM_DEFAULT_HOST_H
+#define __IA_CSS_BNLM_DEFAULT_HOST_H
+
+#include "ia_css_bnlm_types.h"
+extern const struct ia_css_bnlm_config default_bnlm_config;
+
+#endif /* __IA_CSS_BNLM_DEFAULT_HOST_H */
+
diff --git a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/bnlm/ia_css_bnlm_param.h b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/bnlm/ia_css_bnlm_param.h
index 529dd5d..85095ba 100644
--- a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/bnlm/ia_css_bnlm_param.h
+++ b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/bnlm/ia_css_bnlm_param.h
@@ -16,14 +16,51 @@
 #define __IA_CSS_BNLM_PARAM_H
 
 #include "type_support.h"
+#include "vmem.h" /* needed for VMEM_ARRAY */
+
+struct bnlm_lut {
+	VMEM_ARRAY(thr, ISP_VEC_NELEMS); /* thresholds */
+	VMEM_ARRAY(val, ISP_VEC_NELEMS); /* values */
+};
+
+struct bnlm_vmem_params {
+	VMEM_ARRAY(nl_th, ISP_VEC_NELEMS);
+	VMEM_ARRAY(match_quality_max_idx, ISP_VEC_NELEMS);
+	struct bnlm_lut mu_root_lut;
+	struct bnlm_lut sad_norm_lut;
+	struct bnlm_lut sig_detail_lut;
+	struct bnlm_lut sig_rad_lut;
+	struct bnlm_lut rad_pow_lut;
+	struct bnlm_lut nl_0_lut;
+	struct bnlm_lut nl_1_lut;
+	struct bnlm_lut nl_2_lut;
+	struct bnlm_lut nl_3_lut;
+
+	/* ToDo: Remove this after implementing coefficients based aprroximtaion */
+	struct bnlm_lut exp_lut;
+	/* ToDo: Remove div tables after using new ATE implementation */
+	VMEM_ARRAY(div_lut_thr, ISP_VEC_NELEMS);
+	VMEM_ARRAY(div_lut_nearests, ISP_VEC_NELEMS);
+	VMEM_ARRAY(div_lut_slopes, ISP_VEC_NELEMS);
+	VMEM_ARRAY(div_lut_intercepts, ISP_VEC_NELEMS);
+	/* 240x does not have an ISP instruction to left shift each element of a
+	 * vector by different shift value. Hence it will be simulated by multiplying
+	 * the elements by required 2^shift. */
+	VMEM_ARRAY(power_of_2, ISP_VEC_NELEMS);
+};
 
 /* BNLM ISP parameters */
-struct sh_css_isp_bnlm_params {
-	int32_t	rad_enable;
+struct bnlm_dmem_params {
+	bool rad_enable;
 	int32_t rad_x_origin;
 	int32_t rad_y_origin;
-	uint32_t avg_min_th;
-	uint32_t avg_max_th;
+	int32_t avg_min_th;
+	int32_t max_min_th;
+
+	int32_t exp_coeff_a;
+	uint32_t exp_coeff_b;
+	int32_t exp_coeff_c;
+	uint32_t exp_exponent;
 };
 
 #endif /* __IA_CSS_BNLM_PARAM_H */
diff --git a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/bnlm/ia_css_bnlm_types.h b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/bnlm/ia_css_bnlm_types.h
index e57f988..6ab6a95 100644
--- a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/bnlm/ia_css_bnlm_types.h
+++ b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/bnlm/ia_css_bnlm_types.h
@@ -23,11 +23,54 @@
  * from the CSS API.
  */
 struct ia_css_bnlm_config {
-	int32_t	rad_enable;
-	int32_t rad_x_origin;
-	int32_t rad_y_origin;
-	uint32_t avg_min_th;
-	uint32_t avg_max_th;
+	bool rad_enable; /* Enable a radial dependency in a weight calculation */
+	int32_t rad_x_origin; /* Initial x coordinate for a radius calculation */
+	int32_t rad_y_origin; /* Initial x coordinate for a radius calculation */
+	/* a threshold for average of weights if this < Th, do not denoise pixel */
+	int32_t avg_min_th;
+	/* minimum weight for denoising if max < th, do not denoise pixel */
+	int32_t max_min_th;
+
+	/* Coefficient for approximation, in the form of (1 + x / N)^N,
+	 * that fits the first-order exp() to default exp_lut in BNLM sheet
+	 * */
+	int32_t exp_coeff_a;
+	uint32_t exp_coeff_b;
+	int32_t exp_coeff_c;
+	uint32_t exp_exponent;
+
+	int32_t nl_th[3]; /* detail thresholds */
+	/* Index for n-th maximum candidate weight for each detail group */
+	int32_t match_quality_max_idx[4];
+
+	/* A lookup table for 1/sqrt(1+mu) approximation */
+	int32_t mu_root_lut_thr[15];
+	int32_t mu_root_lut_val[16];
+	/* A lookup table for SAD normalization */
+	int32_t sad_norm_lut_thr[15];
+	int32_t sad_norm_lut_val[16];
+	/* A lookup table that models a weight's dependency on textures */
+	int32_t sig_detail_lut_thr[15];
+	int32_t sig_detail_lut_val[16];
+	/* A lookup table that models a weight's dependency on a pixel's radial distance */
+	int32_t sig_rad_lut_thr[15];
+	int32_t sig_rad_lut_val[16];
+	/* A lookup table to control denoise power depending on a pixel's radial distance */
+	int32_t rad_pow_lut_thr[15];
+	int32_t rad_pow_lut_val[16];
+	/* Non linear transfer functions to calculate the blending coefficient depending on detail group */
+	/* detail group 0 */
+	int32_t nl_0_lut_thr[15];
+	int32_t nl_0_lut_val[16];
+	/* detail group 1 */
+	int32_t nl_1_lut_thr[15];
+	int32_t nl_1_lut_val[16];
+	/* detail group 2 */
+	int32_t nl_2_lut_thr[15];
+	int32_t nl_2_lut_val[16];
+	/* detail group 3 */
+	int32_t nl_3_lut_thr[15];
+	int32_t nl_3_lut_val[16];
 };
 
 #endif /* __IA_CSS_BNLM_TYPES_H */
diff --git a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/conversion/conversion_1.0/ia_css_conversion.host.c b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/conversion/conversion_1.0/ia_css_conversion.host.c
index c787dcd..8f25ee1 100644
--- a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/conversion/conversion_1.0/ia_css_conversion.host.c
+++ b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/conversion/conversion_1.0/ia_css_conversion.host.c
@@ -29,7 +29,7 @@ ia_css_conversion_encode(
 	unsigned size)
 {
 	(void)size;
-	to->en = from->en;
+	to->en     = from->en;
 	to->dummy0 = from->dummy0;
 	to->dummy1 = from->dummy1;
 	to->dummy2 = from->dummy2;
diff --git a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/conversion/conversion_1.0/ia_css_conversion_types.h b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/conversion/conversion_1.0/ia_css_conversion_types.h
index 79710cb..3f11442 100644
--- a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/conversion/conversion_1.0/ia_css_conversion_types.h
+++ b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/conversion/conversion_1.0/ia_css_conversion_types.h
@@ -19,7 +19,7 @@
  *  Conversion Kernel parameters.
  *  Deinterleave bayer quad into isys format
  *
- *  ISP block: CONVOLUTION
+ *  ISP block: CONVERSION
  *
  */
 struct ia_css_conversion_config {
diff --git a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/hdr/ia_css_hdr.host.c b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/hdr/ia_css_hdr.host.c
index 41498a8..9cccd3b 100644
--- a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/hdr/ia_css_hdr.host.c
+++ b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/hdr/ia_css_hdr.host.c
@@ -1,5 +1,5 @@
-/* Release Version: irci_master_20150119_1500 */
-/* Release Version: irci_master_20150119_1500 */
+/* Release Version: irci_master_20150122_0200 */
+/* Release Version: irci_master_20150122_0200 */
 /*
  * INTEL CONFIDENTIAL
  *
diff --git a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/hdr/ia_css_hdr.host.h b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/hdr/ia_css_hdr.host.h
index bfe9371..81ae9c1 100644
--- a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/hdr/ia_css_hdr.host.h
+++ b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/hdr/ia_css_hdr.host.h
@@ -1,5 +1,5 @@
-/* Release Version: irci_master_20150119_1500 */
-/* Release Version: irci_master_20150119_1500 */
+/* Release Version: irci_master_20150122_0200 */
+/* Release Version: irci_master_20150122_0200 */
 /*
  * Support for Intel Camera Imaging ISP subsystem.
  * Copyright (c) 2015, Intel Corporation.
diff --git a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/hdr/ia_css_hdr_param.h b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/hdr/ia_css_hdr_param.h
index 351b8e6..5f8f61d3 100644
--- a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/hdr/ia_css_hdr_param.h
+++ b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/hdr/ia_css_hdr_param.h
@@ -1,5 +1,5 @@
-/* Release Version: irci_master_20150119_1500 */
-/* Release Version: irci_master_20150119_1500 */
+/* Release Version: irci_master_20150122_0200 */
+/* Release Version: irci_master_20150122_0200 */
 /*
  * Support for Intel Camera Imaging ISP subsystem.
  * Copyright (c) 2015, Intel Corporation.
diff --git a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/hdr/ia_css_hdr_types.h b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/hdr/ia_css_hdr_types.h
index df5696c..8d61340 100644
--- a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/hdr/ia_css_hdr_types.h
+++ b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/hdr/ia_css_hdr_types.h
@@ -1,5 +1,5 @@
-/* Release Version: irci_master_20150119_1500 */
-/* Release Version: irci_master_20150119_1500 */
+/* Release Version: irci_master_20150122_0200 */
+/* Release Version: irci_master_20150122_0200 */
 /*
  * Support for Intel Camera Imaging ISP subsystem.
  * Copyright (c) 2015, Intel Corporation.
diff --git a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/iterator/iterator_1.0/ia_css_iterator.host.c b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/iterator/iterator_1.0/ia_css_iterator.host.c
index eeea148..c17917d 100644
--- a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/iterator/iterator_1.0/ia_css_iterator.host.c
+++ b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/iterator/iterator_1.0/ia_css_iterator.host.c
@@ -1,15 +1,25 @@
 /*
- * Support for Intel Camera Imaging ISP subsystem.
- * Copyright (c) 2015, Intel Corporation.
+ * INTEL CONFIDENTIAL
  *
- * This program is free software; you can redistribute it and/or modify it
- * under the terms and conditions of the GNU General Public License,
- * version 2, as published by the Free Software Foundation.
+ * Copyright (C) 2010 - 2015 Intel Corporation.
+ * All Rights Reserved.
  *
- * This program is distributed in the hope it will be useful, but WITHOUT
- * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
- * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for
- * more details.
+ * The source code contained or described herein and all documents
+ * related to the source code ("Material") are owned by Intel Corporation
+ * or licensors. Title to the Material remains with Intel
+ * Corporation or its licensors. The Material contains trade
+ * secrets and proprietary and confidential information of Intel or its
+ * licensors. The Material is protected by worldwide copyright
+ * and trade secret laws and treaty provisions. No part of the Material may
+ * be used, copied, reproduced, modified, published, uploaded, posted,
+ * transmitted, distributed, or disclosed in any way without Intel's prior
+ * express written permission.
+ *
+ * No License under any patent, copyright, trade secret or other intellectual
+ * property right is granted to or conferred upon you by disclosure or
+ * delivery of the Materials, either expressly, by implication, inducement,
+ * estoppel or otherwise. Any license under such intellectual property rights
+ * must be express and approved by Intel in writing.
  */
 
 #include "ia_css_iterator.host.h"
diff --git a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/iterator/iterator_1.0/ia_css_iterator.host.h b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/iterator/iterator_1.0/ia_css_iterator.host.h
index d8f249c..a436a4d 100644
--- a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/iterator/iterator_1.0/ia_css_iterator.host.h
+++ b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/iterator/iterator_1.0/ia_css_iterator.host.h
@@ -1,15 +1,25 @@
 /*
- * Support for Intel Camera Imaging ISP subsystem.
- * Copyright (c) 2015, Intel Corporation.
+ * INTEL CONFIDENTIAL
  *
- * This program is free software; you can redistribute it and/or modify it
- * under the terms and conditions of the GNU General Public License,
- * version 2, as published by the Free Software Foundation.
+ * Copyright (C) 2010 - 2015 Intel Corporation.
+ * All Rights Reserved.
  *
- * This program is distributed in the hope it will be useful, but WITHOUT
- * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
- * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for
- * more details.
+ * The source code contained or described herein and all documents
+ * related to the source code ("Material") are owned by Intel Corporation
+ * or licensors. Title to the Material remains with Intel
+ * Corporation or its licensors. The Material contains trade
+ * secrets and proprietary and confidential information of Intel or its
+ * licensors. The Material is protected by worldwide copyright
+ * and trade secret laws and treaty provisions. No part of the Material may
+ * be used, copied, reproduced, modified, published, uploaded, posted,
+ * transmitted, distributed, or disclosed in any way without Intel's prior
+ * express written permission.
+ *
+ * No License under any patent, copyright, trade secret or other intellectual
+ * property right is granted to or conferred upon you by disclosure or
+ * delivery of the Materials, either expressly, by implication, inducement,
+ * estoppel or otherwise. Any license under such intellectual property rights
+ * must be express and approved by Intel in writing.
  */
 
 #ifndef __IA_CSS_ITERATOR_HOST_H
diff --git a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/iterator/iterator_1.0/ia_css_iterator_param.h b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/iterator/iterator_1.0/ia_css_iterator_param.h
index d308126..01b1cfd 100644
--- a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/iterator/iterator_1.0/ia_css_iterator_param.h
+++ b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/iterator/iterator_1.0/ia_css_iterator_param.h
@@ -1,15 +1,25 @@
 /*
- * Support for Intel Camera Imaging ISP subsystem.
- * Copyright (c) 2015, Intel Corporation.
+ * INTEL CONFIDENTIAL
  *
- * This program is free software; you can redistribute it and/or modify it
- * under the terms and conditions of the GNU General Public License,
- * version 2, as published by the Free Software Foundation.
+ * Copyright (C) 2010 - 2015 Intel Corporation.
+ * All Rights Reserved.
  *
- * This program is distributed in the hope it will be useful, but WITHOUT
- * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
- * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for
- * more details.
+ * The source code contained or described herein and all documents
+ * related to the source code ("Material") are owned by Intel Corporation
+ * or licensors. Title to the Material remains with Intel
+ * Corporation or its licensors. The Material contains trade
+ * secrets and proprietary and confidential information of Intel or its
+ * licensors. The Material is protected by worldwide copyright
+ * and trade secret laws and treaty provisions. No part of the Material may
+ * be used, copied, reproduced, modified, published, uploaded, posted,
+ * transmitted, distributed, or disclosed in any way without Intel's prior
+ * express written permission.
+ *
+ * No License under any patent, copyright, trade secret or other intellectual
+ * property right is granted to or conferred upon you by disclosure or
+ * delivery of the Materials, either expressly, by implication, inducement,
+ * estoppel or otherwise. Any license under such intellectual property rights
+ * must be express and approved by Intel in writing.
  */
 
 #ifndef __IA_CSS_ITERATOR_PARAM_H
diff --git a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/xnr/xnrvideo4/ia_css_xnr4.host.c b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/xnr/xnrvideo4/ia_css_xnr4.host.c
index cea4444..59a4c2d 100644
--- a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/xnr/xnrvideo4/ia_css_xnr4.host.c
+++ b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/xnr/xnrvideo4/ia_css_xnr4.host.c
@@ -1,7 +1,7 @@
 /*
  * INTEL CONFIDENTIAL
  *
- * Copyright (C) 2010 - 2014 Intel Corporation.
+ * Copyright (C) 2010 - 2015 Intel Corporation.
  * All Rights Reserved.
  *
  * The source code contained or described herein and all documents
@@ -30,11 +30,9 @@
 #include "sh_css_frac.h"
 
 #include "ia_css_xnr4.host.h"
+#include "ia_css_xnr4_downsample.host.h"
+#include "ia_css_xnr4_radial_metric.host.h"
 
-const struct ia_css_xnr4_config default_xnr4_config = {
-	{ 123, 106, 64, 23}, /* down sample filter coefficients -luma */
-	{ 204, 154} /* down sample filter coefficients -chroma */
-};
 
 void
 ia_css_xnr4_encode(
@@ -43,12 +41,14 @@ ia_css_xnr4_encode(
 	unsigned size)
 {
 	(void)size;
-	to->m_ds4_coeffs[0] = from->m_ds4_coeffs[0];
-	to->m_ds4_coeffs[1] = from->m_ds4_coeffs[1];
-	to->m_ds4_coeffs[2] = from->m_ds4_coeffs[2];
-	to->m_ds4_coeffs[3] = from->m_ds4_coeffs[3];
-	to->m_ds2_coeffs[0] = from->m_ds2_coeffs[0];
-	to->m_ds2_coeffs[1] = from->m_ds2_coeffs[1];
+	/* encode down sample parameters */
+	ia_css_xnr4_downsample_encode(&to->xnr4_downsample,
+				      &from->xnr4_downsample_config,
+				      sizeof(struct ia_css_xnr4_downsample_config));
+	/* encode radial metric parameters */
+	ia_css_xnr4_radial_metric_encode(&to->xnr4_radial_metric,
+					 &from->xnr4_radial_metric_config,
+					 sizeof(struct ia_css_xnr4_radial_metric_config));
 }
 
 
diff --git a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/xnr/xnrvideo4/ia_css_xnr4_downsample.host.c b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/xnr/xnrvideo4/ia_css_xnr4_downsample.host.c
new file mode 100644
index 0000000..6a8bdc0
--- /dev/null
+++ b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/xnr/xnrvideo4/ia_css_xnr4_downsample.host.c
@@ -0,0 +1,53 @@
+/*
+ * INTEL CONFIDENTIAL
+ *
+ * Copyright (C) 2010 - 2015 Intel Corporation.
+ * All Rights Reserved.
+ *
+ * The source code contained or described herein and all documents
+ * related to the source code ("Material") are owned by Intel Corporation
+ * or licensors. Title to the Material remains with Intel
+ * Corporation or its licensors. The Material contains trade
+ * secrets and proprietary and confidential information of Intel or its
+ * licensors. The Material is protected by worldwide copyright
+ * and trade secret laws and treaty provisions. No part of the Material may
+ * be used, copied, reproduced, modified, published, uploaded, posted,
+ * transmitted, distributed, or disclosed in any way without Intel's prior
+ * express written permission.
+ *
+ * No License under any patent, copyright, trade secret or other intellectual
+ * property right is granted to or conferred upon you by disclosure or
+ * delivery of the Materials, either expressly, by implication, inducement,
+ * estoppel or otherwise. Any license under such intellectual property rights
+ * must be express and approved by Intel in writing.
+ */
+
+#include "ia_css_types.h"
+#include "sh_css_defs.h"
+#ifndef IA_CSS_NO_DEBUG
+#include "ia_css_debug.h"
+#endif
+#include "sh_css_frac.h"
+
+#include "ia_css_xnr4_downsample.host.h"
+
+const struct ia_css_xnr4_downsample_config default_xnr4_downsample_config = {
+	{ 123, 106, 64, 23}, /* down sample filter coefficients -luma */
+	{ 204, 154} /* down sample filter coefficients -chroma */
+};
+
+void ia_css_xnr4_downsample_encode(
+	struct sh_css_isp_xnr4_downsample_params *to,
+	const struct ia_css_xnr4_downsample_config *from,
+	unsigned size)
+{
+	(void)size;
+	to->m_ds4_coeffs[0] = from->m_ds4_coeffs[0];
+	to->m_ds4_coeffs[1] = from->m_ds4_coeffs[1];
+	to->m_ds4_coeffs[2] = from->m_ds4_coeffs[2];
+	to->m_ds4_coeffs[3] = from->m_ds4_coeffs[3];
+	to->m_ds2_coeffs[0] = from->m_ds2_coeffs[0];
+	to->m_ds2_coeffs[1] = from->m_ds2_coeffs[1];
+}
+
+
diff --git a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/xnr/xnrvideo4/ia_css_xnr4_downsample.host.h b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/xnr/xnrvideo4/ia_css_xnr4_downsample.host.h
new file mode 100644
index 0000000..ede7628
--- /dev/null
+++ b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/xnr/xnrvideo4/ia_css_xnr4_downsample.host.h
@@ -0,0 +1,38 @@
+/*
+ * INTEL CONFIDENTIAL
+ *
+ * Copyright (C) 2010 - 2015 Intel Corporation.
+ * All Rights Reserved.
+ *
+ * The source code contained or described herein and all documents
+ * related to the source code ("Material") are owned by Intel Corporation
+ * or licensors. Title to the Material remains with Intel
+ * Corporation or its licensors. The Material contains trade
+ * secrets and proprietary and confidential information of Intel or its
+ * licensors. The Material is protected by worldwide copyright
+ * and trade secret laws and treaty provisions. No part of the Material may
+ * be used, copied, reproduced, modified, published, uploaded, posted,
+ * transmitted, distributed, or disclosed in any way without Intel's prior
+ * express written permission.
+ *
+ * No License under any patent, copyright, trade secret or other intellectual
+ * property right is granted to or conferred upon you by disclosure or
+ * delivery of the Materials, either expressly, by implication, inducement,
+ * estoppel or otherwise. Any license under such intellectual property rights
+ * must be express and approved by Intel in writing.
+ */
+#ifndef __IA_CSS_XNR4_DOWNSAMPLE_HOST_H
+#define __IA_CSS_XNR4_DOWNSAMPLE_HOST_H
+
+#include "ia_css_xnr4_downsample_types.h"
+#include "ia_css_xnr4_downsample_param.h"
+
+extern const struct ia_css_xnr4_downsample_config default_xnr4_downsample_config;
+
+void
+ia_css_xnr4_downsample_encode(
+	struct sh_css_isp_xnr4_downsample_params *to,
+	const struct ia_css_xnr4_downsample_config *from,
+	unsigned size);
+
+#endif /* __IA_CSS_XNR4_DOWNSAMPLE_HOST_H */
diff --git a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/xnr/xnrvideo4/ia_css_xnr4_downsample_param.h b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/xnr/xnrvideo4/ia_css_xnr4_downsample_param.h
index 751042e..d0ad8f1 100644
--- a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/xnr/xnrvideo4/ia_css_xnr4_downsample_param.h
+++ b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/xnr/xnrvideo4/ia_css_xnr4_downsample_param.h
@@ -1,7 +1,7 @@
 /*
  * INTEL CONFIDENTIAL
  *
- * Copyright (C) 2010 - 2014 Intel Corporation.
+ * Copyright (C) 2010 - 2015 Intel Corporation.
  * All Rights Reserved.
  *
  * The source code contained or described herein and all documents
@@ -37,7 +37,7 @@
 
 
 /* XNR4 DS Parameters */
-struct sh_css_isp_xnr4_params {
+struct sh_css_isp_xnr4_downsample_params {
 	uint8_t m_ds4_coeffs[(XNR4_LUMA_FILTER_TAP/2)+1];
 	uint8_t m_ds2_coeffs[(XNR4_CHROMA_FILTER_TAP/2)+1];
 };
diff --git a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/xnr/xnrvideo4/ia_css_xnr4_downsample_types.h b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/xnr/xnrvideo4/ia_css_xnr4_downsample_types.h
index 75539d0..7a598b3 100644
--- a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/xnr/xnrvideo4/ia_css_xnr4_downsample_types.h
+++ b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/xnr/xnrvideo4/ia_css_xnr4_downsample_types.h
@@ -1,7 +1,7 @@
 /*
  * INTEL CONFIDENTIAL
  *
- * Copyright (C) 2010 - 2014 Intel Corporation.
+ * Copyright (C) 2010 - 2015 Intel Corporation.
  * All Rights Reserved.
  *
  * The source code contained or described herein and all documents
@@ -31,8 +31,8 @@
 */
 
 
-/** XNR4 configuration .  */
-struct ia_css_xnr4_config {
+/** XNR4 downsample configuration .  */
+struct ia_css_xnr4_downsample_config {
 	uint8_t m_ds4_coeffs[(XNR4_LUMA_FILTER_TAP/2)+1]; /** < Down sample filter coefficients,
 				       used for symmetric 7tab filtering of luma
 				       u[integer_bits].[8-integer_bits], [0,255] */
diff --git a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/xnr/xnrvideo4/ia_css_xnr4_param.h b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/xnr/xnrvideo4/ia_css_xnr4_param.h
index b7cbebf..8b0396b 100644
--- a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/xnr/xnrvideo4/ia_css_xnr4_param.h
+++ b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/xnr/xnrvideo4/ia_css_xnr4_param.h
@@ -1,7 +1,7 @@
 /*
  * INTEL CONFIDENTIAL
  *
- * Copyright (C) 2010 - 2014 Intel Corporation.
+ * Copyright (C) 2010 - 2015 Intel Corporation.
  * All Rights Reserved.
  *
  * The source code contained or described herein and all documents
@@ -25,6 +25,14 @@
 #define __IA_CSS_XNR4_PARAM_H
 
 #include "isp/kernels/xnr/xnrvideo4/ia_css_xnr4_downsample_param.h"
+#include "isp/kernels/xnr/xnrvideo4/ia_css_xnr4_upsample_param.h"
 #include "isp/kernels/xnr/xnrvideo4/ia_css_xnr4_edge_metric_param.h"
+#include "isp/kernels/xnr/xnrvideo4/ia_css_xnr4_radial_metric_param.h"
+
+/* XNR4 Parameters */
+struct sh_css_isp_xnr4_params {
+	struct sh_css_isp_xnr4_downsample_params xnr4_downsample;
+	struct sh_css_isp_xnr4_radial_metric_params xnr4_radial_metric;
+};
 
 #endif /* __IA_CSS_XNR4_PARAM_H */
diff --git a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/xnr/xnrvideo4/ia_css_xnr4_radial_metric.host.c b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/xnr/xnrvideo4/ia_css_xnr4_radial_metric.host.c
new file mode 100644
index 0000000..16ebc2b
--- /dev/null
+++ b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/xnr/xnrvideo4/ia_css_xnr4_radial_metric.host.c
@@ -0,0 +1,57 @@
+/*
+ * INTEL CONFIDENTIAL
+ *
+ * Copyright (C) 2010 - 2015 Intel Corporation.
+ * All Rights Reserved.
+ *
+ * The source code contained or described herein and all documents
+ * related to the source code ("Material") are owned by Intel Corporation
+ * or licensors. Title to the Material remains with Intel
+ * Corporation or its licensors. The Material contains trade
+ * secrets and proprietary and confidential information of Intel or its
+ * licensors. The Material is protected by worldwide copyright
+ * and trade secret laws and treaty provisions. No part of the Material may
+ * be used, copied, reproduced, modified, published, uploaded, posted,
+ * transmitted, distributed, or disclosed in any way without Intel's prior
+ * express written permission.
+ *
+ * No License under any patent, copyright, trade secret or other intellectual
+ * property right is granted to or conferred upon you by disclosure or
+ * delivery of the Materials, either expressly, by implication, inducement,
+ * estoppel or otherwise. Any license under such intellectual property rights
+ * must be express and approved by Intel in writing.
+ */
+
+#include "ia_css_types.h"
+#include "sh_css_defs.h"
+#ifndef IA_CSS_NO_DEBUG
+#include "ia_css_debug.h"
+#endif
+#include "sh_css_frac.h"
+
+#include "ia_css_xnr4_radial_metric.host.h"
+
+const struct ia_css_xnr4_radial_metric_config default_xnr4_radial_metric_config = {
+	0, /* X radial reset value */
+	0, /* Y radial reset value */
+	0, /* X^2 radial reset value */
+	0, /* Y^2 radial reset value */
+	1, /* Enable radial computation */
+	127 /* Radial metric normalization factor */
+};
+
+void ia_css_xnr4_radial_metric_encode(
+	struct sh_css_isp_xnr4_radial_metric_params *to,
+	const struct ia_css_xnr4_radial_metric_config *from,
+	unsigned size)
+{
+	(void)size;
+	to->m_rad_Xreset  = from->m_rad_Xreset;
+	to->m_rad_Yreset  = from->m_rad_Yreset;
+	to->m_rad_X2reset = from->m_rad_X2reset;
+	to->m_rad_Y2reset = from->m_rad_Y2reset;
+	to->m_rad_enable  = from->m_rad_enable;
+	to->m_rad_inv_r2  = from->m_rad_inv_r2;
+}
+
+
diff --git a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/xnr/xnrvideo4/ia_css_xnr4_radial_metric.host.h b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/xnr/xnrvideo4/ia_css_xnr4_radial_metric.host.h
new file mode 100644
index 0000000..c760af9
--- /dev/null
+++ b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/xnr/xnrvideo4/ia_css_xnr4_radial_metric.host.h
@@ -0,0 +1,38 @@
+/*
+ * INTEL CONFIDENTIAL
+ *
+ * Copyright (C) 2010 - 2015 Intel Corporation.
+ * All Rights Reserved.
+ *
+ * The source code contained or described herein and all documents
+ * related to the source code ("Material") are owned by Intel Corporation
+ * or licensors. Title to the Material remains with Intel
+ * Corporation or its licensors. The Material contains trade
+ * secrets and proprietary and confidential information of Intel or its
+ * licensors. The Material is protected by worldwide copyright
+ * and trade secret laws and treaty provisions. No part of the Material may
+ * be used, copied, reproduced, modified, published, uploaded, posted,
+ * transmitted, distributed, or disclosed in any way without Intel's prior
+ * express written permission.
+ *
+ * No License under any patent, copyright, trade secret or other intellectual
+ * property right is granted to or conferred upon you by disclosure or
+ * delivery of the Materials, either expressly, by implication, inducement,
+ * estoppel or otherwise. Any license under such intellectual property rights
+ * must be express and approved by Intel in writing.
+ */
+#ifndef __IA_CSS_XNR4_RADIAL_METRIC_HOST_H
+#define __IA_CSS_XNR4_RADIAL_METRIC_HOST_H
+
+#include "ia_css_xnr4_radial_metric_types.h"
+#include "ia_css_xnr4_radial_metric_param.h"
+
+extern const struct ia_css_xnr4_radial_metric_config default_xnr4_radial_metric_config;
+
+void
+ia_css_xnr4_radial_metric_encode(
+	struct sh_css_isp_xnr4_radial_metric_params *to,
+	const struct ia_css_xnr4_radial_metric_config *from,
+	unsigned size);
+
+#endif /* __IA_CSS_XNR4_RADIAL_METRIC_HOST_H */
diff --git a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/xnr/xnrvideo4/ia_css_xnr4_radial_metric_param.h b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/xnr/xnrvideo4/ia_css_xnr4_radial_metric_param.h
new file mode 100644
index 0000000..2941257
--- /dev/null
+++ b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/xnr/xnrvideo4/ia_css_xnr4_radial_metric_param.h
@@ -0,0 +1,53 @@
+/*
+ * INTEL CONFIDENTIAL
+ *
+ * Copyright (C) 2010 - 2015 Intel Corporation.
+ * All Rights Reserved.
+ *
+ * The source code contained or described herein and all documents
+ * related to the source code ("Material") are owned by Intel Corporation
+ * or licensors. Title to the Material remains with Intel
+ * Corporation or its licensors. The Material contains trade
+ * secrets and proprietary and confidential information of Intel or its
+ * licensors. The Material is protected by worldwide copyright
+ * and trade secret laws and treaty provisions. No part of the Material may
+ * be used, copied, reproduced, modified, published, uploaded, posted,
+ * transmitted, distributed, or disclosed in any way without Intel's prior
+ * express written permission.
+ *
+ * No License under any patent, copyright, trade secret or other intellectual
+ * property right is granted to or conferred upon you by disclosure or
+ * delivery of the Materials, either expressly, by implication, inducement,
+ * estoppel or otherwise. Any license under such intellectual property rights
+ * must be express and approved by Intel in writing.
+ */
+#ifndef __IA_CSS_XNR4_RADIAL_METRIC_PARAM_H
+#define __IA_CSS_XNR4_RADIAL_METRIC_PARAM_H
+
+#include "isp/kernels/xnr/xnrvideo4/ia_css_xnr4_common_param.h"
+
+
+/* Radial Metric Subkernel Configuration */
+
+#define XNR4_RM_FILTER_VRT_DELAY	(0) /* no delay */
+#define XNR4_RM_FILTER_HOR_DELAY	(0) /* no delay */
+
+#define LOG2_XNR4_RM_FACTOR	(2)	/* Log2(XNR4_RM_FACTOR) = Log2(4)*/
+#define XNR4_RM_FACTOR		(1 << LOG2_XNR4_RM_FACTOR)
+#define XNR4_RM_FACTOR_SQR	(1 << (2 * LOG2_XNR4_RM_FACTOR))
+#define MSD_RAD_MAX_R2_PREC	(26)
+#define MSD_RAD_INV_PREC	(15)
+#define MSD_RAD_CU_PREC		(15)
+
+/* XNR4 Radial Metric Parameters */
+struct sh_css_isp_xnr4_radial_metric_params {
+	int16_t m_rad_Xreset; /* X radial reset value */
+	int16_t m_rad_Yreset; /* Y radial reset value */
+	uint32_t m_rad_X2reset; /* X^2 radial reset value */
+	uint32_t m_rad_Y2reset; /* Y^2 radial reset value */
+	uint8_t m_rad_enable; /* Enable radial computation */
+	uint16_t m_rad_inv_r2; /* Radial metric normalization factor */
+};
+
+
+#endif /* __IA_CSS_XNR4_RADIAL_METRIC_PARAM_H */
diff --git a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/xnr/xnrvideo4/ia_css_xnr4_radial_metric_types.h b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/xnr/xnrvideo4/ia_css_xnr4_radial_metric_types.h
new file mode 100644
index 0000000..212a789
--- /dev/null
+++ b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/xnr/xnrvideo4/ia_css_xnr4_radial_metric_types.h
@@ -0,0 +1,40 @@
+/*
+ * INTEL CONFIDENTIAL
+ *
+ * Copyright (C) 2010 - 2015 Intel Corporation.
+ * All Rights Reserved.
+ *
+ * The source code contained or described herein and all documents
+ * related to the source code ("Material") are owned by Intel Corporation
+ * or licensors. Title to the Material remains with Intel
+ * Corporation or its licensors. The Material contains trade
+ * secrets and proprietary and confidential information of Intel or its
+ * licensors. The Material is protected by worldwide copyright
+ * and trade secret laws and treaty provisions. No part of the Material may
+ * be used, copied, reproduced, modified, published, uploaded, posted,
+ * transmitted, distributed, or disclosed in any way without Intel's prior
+ * express written permission.
+ *
+ * No License under any patent, copyright, trade secret or other intellectual
+ * property right is granted to or conferred upon you by disclosure or
+ * delivery of the Materials, either expressly, by implication, inducement,
+ * estoppel or otherwise. Any license under such intellectual property rights
+ * must be express and approved by Intel in writing.
+ */
+#ifndef __IA_CSS_XNR4_RADIAL_METRIC_TYPES_H
+#define __IA_CSS_XNR4_RADIAL_METRIC_TYPES_H
+
+#include "ia_css_xnr4_radial_metric_param.h"
+
+
+/** XNR4 radial metric configuration .  */
+struct ia_css_xnr4_radial_metric_config {
+	int16_t m_rad_Xreset; /** < Radial metric X radial reset value */
+	int16_t m_rad_Yreset; /** < Radial metric Y radial reset value */
+	uint32_t m_rad_X2reset; /** < Radial metric X^2 radial reset value */
+	uint32_t m_rad_Y2reset; /** < Radial metric Y^2 radial reset value */
+	uint8_t m_rad_enable; /** < Radial metric enable radial computation */
+	uint16_t m_rad_inv_r2; /** < Radial metric radial metric normalization factor */
+};
+
+#endif /* __IA_CSS_XNR4_RADIAL_METRIC_TYPES_H */
diff --git a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/xnr/xnrvideo4/ia_css_xnr4_types.h b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/xnr/xnrvideo4/ia_css_xnr4_types.h
index 8ec3027..2b2a1d6a 100644
--- a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/xnr/xnrvideo4/ia_css_xnr4_types.h
+++ b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/xnr/xnrvideo4/ia_css_xnr4_types.h
@@ -1,7 +1,7 @@
 /*
  * INTEL CONFIDENTIAL
  *
- * Copyright (C) 2010 - 2014 Intel Corporation.
+ * Copyright (C) 2010 - 2015 Intel Corporation.
  * All Rights Reserved.
  *
  * The source code contained or described herein and all documents
@@ -24,6 +24,12 @@
 #ifndef __IA_CSS_XNR4_TYPES_H
 #define __IA_CSS_XNR4_TYPES_H
 
-#include "isp/kernels/xnr/xnrvideo4/ia_css_xnr4_downsample_types.h"
+#include "ia_css_xnr4_downsample_types.h"
+#include "ia_css_xnr4_radial_metric_types.h"
+
+struct ia_css_xnr4_config {
+	struct ia_css_xnr4_downsample_config xnr4_downsample_config;
+	struct ia_css_xnr4_radial_metric_config xnr4_radial_metric_config;
+};
 
 #endif /* __IA_CSS_XNR4_TYPES_H */
diff --git a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/xnr/xnrvideo4/ia_css_xnr4_upsample_param.h b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/xnr/xnrvideo4/ia_css_xnr4_upsample_param.h
new file mode 100644
index 0000000..f843328
--- /dev/null
+++ b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/kernels/xnr/xnrvideo4/ia_css_xnr4_upsample_param.h
@@ -0,0 +1,70 @@
+/*
+ * INTEL CONFIDENTIAL
+ *
+ * Copyright (C) 2010 - 2014 Intel Corporation.
+ * All Rights Reserved.
+ *
+ * The source code contained or described herein and all documents
+ * related to the source code ("Material") are owned by Intel Corporation
+ * or licensors. Title to the Material remains with Intel
+ * Corporation or its licensors. The Material contains trade
+ * secrets and proprietary and confidential information of Intel or its
+ * licensors. The Material is protected by worldwide copyright
+ * and trade secret laws and treaty provisions. No part of the Material may
+ * be used, copied, reproduced, modified, published, uploaded, posted,
+ * transmitted, distributed, or disclosed in any way without Intel's prior
+ * express written permission.
+ *
+ * No License under any patent, copyright, trade secret or other intellectual
+ * property right is granted to or conferred upon you by disclosure or
+ * delivery of the Materials, either expressly, by implication, inducement,
+ * estoppel or otherwise. Any license under such intellectual property rights
+ * must be express and approved by Intel in writing.
+ */
+#ifndef _XNR4_UPSAMPLE_PARAM_H_
+#define _XNR4_UPSAMPLE_PARAM_H_
+
+#include "isp/kernels/xnr/xnrvideo4/ia_css_xnr4_downsample_param.h"
+
+/* XNR4 UPSAMPLE Algorithm Configuration */
+#define XNR4_LUMA_UP_FACTOR     (XNR4_LUMA_DS_FACTOR)
+#define XNR4_CHROMA_UP_FACTOR   (XNR4_CHROMA_DS_FACTOR)
+
+#define XNR4_UP_FILTER_TAP	4
+
+#define XNR4_UPSCALE_HOR_DELAY  1
+#define XNR4_UPSCALE_VER_DELAY  (XNR4_UP_FILTER_TAP / 2)
+
+/* XNR4 UPSAMPLE4 COEFFS, SHIFT FACTORS
+ * Upsample coefficients are fixed and are therefore compile time
+ * resolved.
+ */
+/* Upsample X4 Phase 0 coeffs */
+#define XNR4_UP4_COEFF_0_0	0
+#define XNR4_UP4_COEFF_0_1	1
+#define XNR4_UP4_COEFF_0_2	0
+#define XNR4_UP4_COEFF_0_3	0
+/* Upsample X4 Phase 1 coeffs */
+#define XNR4_UP4_COEFF_1_0	-9
+#define XNR4_UP4_COEFF_1_1	111
+#define XNR4_UP4_COEFF_1_2	29
+#define XNR4_UP4_COEFF_1_3	-3
+/* Upsample X4 Phase 2 coeffs */
+#define XNR4_UP4_COEFF_2_0	-1
+#define XNR4_UP4_COEFF_2_1	9
+#define XNR4_UP4_COEFF_2_2	9
+#define XNR4_UP4_COEFF_2_3	-1
+/* Upsample X4 Phase 3 coeffs */
+#define XNR4_UP4_COEFF_3_0	-3
+#define XNR4_UP4_COEFF_3_1	29
+#define XNR4_UP4_COEFF_3_2	111
+#define XNR4_UP4_COEFF_3_3	-9
+/* Upsample X4 Shift factors for each tap */
+#define XNR4_UP4_SHIFT_0	0
+#define XNR4_UP4_SHIFT_1	7
+#define XNR4_UP4_SHIFT_2	4
+#define XNR4_UP4_SHIFT_3	7
+
+
+
+#endif /*_XNR4_UPSAMPLE_PARAM_H_ */
diff --git a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/modes/interface/isp_const.h b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/modes/interface/isp_const.h
index 39b767c..28cc177 100644
--- a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/modes/interface/isp_const.h
+++ b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/isp/modes/interface/isp_const.h
@@ -132,7 +132,6 @@
 #define SH_CSS_BINARY_ID_VIDEO_KERNELTEST_OBGRID            126
 #define SH_CSS_BINARY_ID_VIDEO_TEST_ACC_BAYER_DENOISE       127
 #define SH_CSS_BINARY_ID_VIDEO_TEST_ACC_DEMOSAIC            128
-#define SH_CSS_BINARY_ID_VIDEO_TEST_ACC_YUVP1               129
 #define SH_CSS_BINARY_ID_VIDEO_TEST_ACC_YUVP1_C0            130
 #define SH_CSS_BINARY_ID_VIDEO_TEST_ACC_YUVP2               131
 #define SH_CSS_BINARY_ID_VIDEO_KERNELTEST_REF               132
@@ -170,7 +169,6 @@
 
 /* skycam partial test pipelines*/
 #define SH_CSS_BINARY_ID_IF_TO_OSYS_NO_XNR_DVS              199
-#define SH_CSS_BINARY_ID_IF_TO_YUVP2_NO_ISP_EXITS           200
 #define SH_CSS_BINARY_ID_IF_TO_DPC                          201
 #define SH_CSS_BINARY_ID_IF_TO_BDS                          202
 #define SH_CSS_BINARY_ID_IF_TO_NORM                         203
@@ -182,30 +180,20 @@
 #define SH_CSS_BINARY_ID_IF_TO_DM_3A_WO_ANR                 209
 #define SH_CSS_BINARY_ID_IF_TO_RGBPP                        210
 #define SH_CSS_BINARY_ID_IF_TO_YUVP1                        211
-#define SH_CSS_BINARY_ID_IF_TO_YUVP2_WO_ANR                 212
 #define SH_CSS_BINARY_ID_IF_TO_DM_WO_STATS                  213
 #define SH_CSS_BINARY_ID_IF_TO_DM                           214
-#define SH_CSS_BINARY_ID_IF_TO_YUVP2                        215
 #define SH_CSS_BINARY_ID_IF_TO_YUVP2_C0                     216
 #define SH_CSS_BINARY_ID_IF_TO_YUVP2_ANR_VIA_ISP            217
 #define SH_CSS_BINARY_ID_VIDEO_IF_TO_DVS                    218
 #define SH_CSS_BINARY_ID_VIDEO_IF_TO_TNR                    219
 #define SH_CSS_BINARY_ID_IF_NORM_LIN_SHD_BNR_STRIPED        220
-#define SH_CSS_BINARY_ID_VIDEO_TEST_ACC_DVS_STAT            221
-#define SH_CSS_BINARY_ID_VIDEO_TEST_ACC_LACE_STAT           222
-#define SH_CSS_BINARY_ID_VIDEO_TEST_ACC_YUVP1_S             223
 #define SH_CSS_BINARY_ID_IF_TO_BDS_STRIPED                  224
 #define SH_CSS_BINARY_ID_VIDEO_TEST_ACC_ANR_STRIPED         225
 #define SH_CSS_BINARY_ID_IF_NORM_LIN_SHD_AWB_BNR_STRIPED    226
 #define SH_CSS_BINARY_ID_VIDEO_TEST_ACC_YUVP2_STRIPED       227
 #define SH_CSS_BINARY_ID_IF_NORM_LIN_SHD_AF_BNR_STRIPED     228
 #define SH_CSS_BINARY_ID_IF_NORM_LIN_SHD_AWBFR_BNR_STRIPED  229
-#define SH_CSS_BINARY_ID_IF_TO_YUVP2_NO_DPC_OB_STATS        230
-#define SH_CSS_BINARY_ID_IF_TO_YUVP2_NO_DPC_OB_AE           231
 #define SH_CSS_BINARY_ID_IF_NORM_LIN_SHD_AE_BNR_STRIPED     232
-#define SH_CSS_BINARY_ID_IF_TO_BDS_RGBP_DVS_STATS           233
-#define SH_CSS_BINARY_ID_IF_TO_YUVP2_NO_DPC_OB              234
-#define SH_CSS_BINARY_ID_IF_TO_BDS_RGBP_DVS_STATS_STRIPED   235
 #define SH_CSS_BINARY_ID_IF_TO_REF                          236
 #define SH_CSS_BINARY_ID_IF_TO_DVS_STRIPED                  237
 #define SH_CSS_BINARY_ID_IF_TO_YUVP2_STRIPED                238
@@ -216,11 +204,7 @@
 #define SH_CSS_BINARY_ID_IF_TO_SHD_STRIPED                  243
 #define SH_CSS_BINARY_ID_IF_TO_LIN_STRIPED                  244
 #define SH_CSS_BINARY_ID_IF_TO_OB_STRIPED                   245
-
-#define SH_CSS_BINARY_ID_IF_TO_TNR_NO_DVS_STATS_HR          247
 #define SH_CSS_BINARY_ID_IF_TO_NORM_STRIPED                 248
-#define SH_CSS_BINARY_ID_IF_TO_TNR_NO_DVS                   249
-#define SH_CSS_BINARY_ID_IF_TO_TNR_NO_DVS_STRIPED           250
 #define SH_CSS_BINARY_ID_IF_TO_TNR_NO_DVS_STATS_C0          251
 #define SH_CSS_BINARY_ID_SC_PRIMARY_SINGLE_STAGE            252
 #define SH_CSS_BINARY_ID_COPY_KERNELTEST_OUTPUT_SYSTEM      253
diff --git a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/sh_css.c b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/sh_css.c
index 7056d2d..2de7ec8 100644
--- a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/sh_css.c
+++ b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/sh_css.c
@@ -5698,7 +5698,20 @@ static enum ia_css_err load_primary_binaries(
 	   configured for vf_veceven. It will select the closest downscaling
 	   factor. */
 	vf_info = *pipe_vf_out_info;
+
+/*
+ * WARNING: The #if def flag has been added below as a
+ * temporary solution to solve the problem of enabling the
+ * view finder in a single binary in a capture flow. The
+ * vf-pp stage has been removed for Skycam in the solution
+ * provided. The vf-pp stage should be re-introduced when
+ * required. This should not be considered as a clean solution.
+ * Proper investigation should be done to come up with the clean
+ * solution.
+ * */
+#if !defined (IS_ISP_2500_SYSTEM)
 	ia_css_frame_info_set_format(&vf_info, IA_CSS_FRAME_FORMAT_YUV_LINE);
+#endif
 
 	/* TODO: All this yuv_scaler and capturepp calculation logic
 	 * can be shared later. Capture_pp is also a yuv_scale binary
@@ -5709,8 +5722,22 @@ static enum ia_css_err load_primary_binaries(
 	capt_pp_out_info.res.width  /= MAX_PREFERRED_YUV_DS_PER_STEP;
 	capt_pp_out_info.res.height /= MAX_PREFERRED_YUV_DS_PER_STEP;
 	ia_css_frame_info_set_width(&capt_pp_out_info, capt_pp_out_info.res.width, 0);
+
+/*
+ * WARNING: The #if def flag has been added below as a
+ * temporary solution to solve the problem of enabling the
+ * view finder in a single binary in a capture flow. The
+ * vf-pp stage has been removed for Skycam in the solution
+ * provided. The vf-pp stage should be re-introduced when
+ * required. This should not be considered as a clean solution.
+ * Proper investigation should be done to come up with the clean
+ * solution.
+ * */
+#if !defined (IS_ISP_2500_SYSTEM)
 	need_extra_yuv_scaler = need_downscaling(capt_pp_out_info.res,
 						pipe_out_info->res);
+#endif
+
 	if (need_extra_yuv_scaler) {
 		struct ia_css_cas_binary_descr cas_scaler_descr
 			= IA_CSS_DEFAULT_CAS_BINARY_DESCR;
@@ -5819,6 +5846,17 @@ static enum ia_css_err load_primary_binaries(
 		    &mycs->primary_binary.vf_frame_info;
 	}
 
+/*
+ * WARNING: The #if def flag has been added below as a
+ * temporary solution to solve the problem of enabling the
+ * view finder in a single binary in a capture flow. The
+ * vf-pp stage has been removed for Skycam in the solution
+ * provided. The vf-pp stage should be re-introduced when
+ * required. Thisshould not be considered as a clean solution.
+ * Proper  * investigation should be done to come up with the clean
+ * solution.
+ * */
+#if !defined (IS_ISP_2500_SYSTEM)
 	if (pipe->enable_viewfinder[IA_CSS_PIPE_OUTPUT_STAGE_0])
 	{
 		struct ia_css_binary_descr vf_pp_descr;
@@ -5833,7 +5871,7 @@ static enum ia_css_err load_primary_binaries(
 		if (err != IA_CSS_SUCCESS)
 			return err;
 	}
-
+#endif
 	err = allocate_delay_frames(pipe->mode, NULL, mycs, pipe->dvs_frame_delay);
 
 	if (err != IA_CSS_SUCCESS)
@@ -7484,9 +7522,24 @@ create_host_regular_capture_pipeline(struct ia_css_pipe *pipe)
 			} else {
 				ia_css_pipe_util_set_output_frames(out_frames, 0, out_frame);
 			}
+
+/*
+ * WARNING: The #if def flag has been added below as a
+ * temporary solution to solve the problem of enabling the
+ * view finder in a single binary in a capture flow. The
+ * vf-pp stage has been removed from Skycam in the solution
+ * provided. The vf-pp stage should be re-introduced when
+ * required. This  * should not be considered as a clean solution.
+ * Proper investigation should be done to come up with the clean
+ * solution.
+ * */
+#if defined (IS_ISP_2500_SYSTEM)
+			ia_css_pipe_get_generic_stage_desc(&stage_desc, primary_binary,
+					out_frames, in_frame, vf_frame);
+#else
 			ia_css_pipe_get_generic_stage_desc(&stage_desc, primary_binary,
 					out_frames, in_frame, NULL);
-
+#endif
 			err = ia_css_pipeline_create_and_add_stage(me,
 				&stage_desc,
 				&current_stage);
@@ -7586,6 +7639,16 @@ create_host_regular_capture_pipeline(struct ia_css_pipe *pipe)
 		}
 	}
 
+/*
+ * WARNING: The #if def flag has been added below as a
+ * temporary solution to solve the problem of enabling the
+ * view finder in a single binary in a capture flow. The vf-pp
+ * stage has been removed from Skycam in the solution provided.
+ * The vf-pp stage should be re-introduced when required. This
+ * should not be considered as a clean solution. Proper
+ * investigation should be done to come up with the clean solution.
+ * */
+#if !defined (IS_ISP_2500_SYSTEM)
 	if (mode != IA_CSS_CAPTURE_MODE_RAW && mode != IA_CSS_CAPTURE_MODE_BAYER && current_stage && vf_frame) {
 		in_frame = current_stage->args.out_vf_frame;
 		err = add_vf_pp_stage(pipe, in_frame, vf_frame, vf_pp_binary,
@@ -7593,7 +7656,7 @@ create_host_regular_capture_pipeline(struct ia_css_pipe *pipe)
 		if (err != IA_CSS_SUCCESS)
 			return err;
 	}
-
+#endif
 	ia_css_pipeline_finalize_stages(&pipe->pipeline, pipe->stream->config.continuous);
 
 	ia_css_debug_dtrace(IA_CSS_DEBUG_TRACE_PRIVATE,
diff --git a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/sh_css_firmware.c b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/sh_css_firmware.c
index 6f0e159..88075c5 100644
--- a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/sh_css_firmware.c
+++ b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/sh_css_firmware.c
@@ -47,10 +47,10 @@ struct fw_param {
 /* Warning: same order as SH_CSS_BINARY_ID_* */
 static struct firmware_header *firmware_header;
 
-/* The string STR(irci_master_20150119_1500) is a place holder
+/* The string STR(irci_master_20150122_0200) is a place holder
  * which will be replaced with the actual RELEASE_VERSION
  * during package generation. Please do not modify  */
-static const char *release_version = STR(irci_master_20150119_1500);
+static const char *release_version = STR(irci_master_20150122_0200);
 
 #define MAX_FW_REL_VER_NAME	300
 static char FW_rel_ver_name[MAX_FW_REL_VER_NAME] = "---";
diff --git a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/spmem_dump.c b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/spmem_dump.c
index 0bfc28a..b06e72a 100644
--- a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/spmem_dump.c
+++ b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21/spmem_dump.c
@@ -24,7 +24,7 @@
 
 /* function input_system_acquisition_stop: AF0 */
 
-/* function longjmp: 64A6 */
+/* function longjmp: 64A2 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_HIVE_IF_SRST_MASK
@@ -38,11 +38,11 @@
 #define HIVE_ADDR_sp_HIVE_IF_SRST_MASK 0x1CC
 #define HIVE_SIZE_sp_HIVE_IF_SRST_MASK 16
 
-/* function tmpmem_init_dmem: 6243 */
+/* function tmpmem_init_dmem: 623F */
 
-/* function ia_css_isys_sp_token_map_receive_ack: 5B8F */
+/* function ia_css_isys_sp_token_map_receive_ack: 5B8B */
 
-/* function ia_css_dmaproxy_sp_set_addr_B: 3012 */
+/* function ia_css_dmaproxy_sp_set_addr_B: 300E */
 
 /* function debug_buffer_set_ddr_addr: DD */
 
@@ -51,51 +51,51 @@
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_vbuf_mipi
 #define HIVE_MEM_vbuf_mipi scalar_processor_2400_dmem
-#define HIVE_ADDR_vbuf_mipi 0x61CC
+#define HIVE_ADDR_vbuf_mipi 0x61C4
 #define HIVE_SIZE_vbuf_mipi 12
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_vbuf_mipi scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_vbuf_mipi 0x61CC
+#define HIVE_ADDR_sp_vbuf_mipi 0x61C4
 #define HIVE_SIZE_sp_vbuf_mipi 12
 
-/* function ia_css_event_sp_decode: 31E7 */
+/* function ia_css_event_sp_decode: 31E3 */
 
-/* function ia_css_queue_get_size: 44AA */
+/* function ia_css_queue_get_size: 44A6 */
 
-/* function ia_css_queue_load: 4AEB */
+/* function ia_css_queue_load: 4AE7 */
 
-/* function setjmp: 64AF */
+/* function setjmp: 64AB */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sem_for_sp2host_isys_event_queue
 #define HIVE_MEM_sem_for_sp2host_isys_event_queue scalar_processor_2400_dmem
-#define HIVE_ADDR_sem_for_sp2host_isys_event_queue 0x4544
+#define HIVE_ADDR_sem_for_sp2host_isys_event_queue 0x4540
 #define HIVE_SIZE_sem_for_sp2host_isys_event_queue 20
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_sem_for_sp2host_isys_event_queue scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_sem_for_sp2host_isys_event_queue 0x4544
+#define HIVE_ADDR_sp_sem_for_sp2host_isys_event_queue 0x4540
 #define HIVE_SIZE_sp_sem_for_sp2host_isys_event_queue 20
 
-/* function ia_css_dmaproxy_sp_wait_for_ack: 6A0B */
+/* function ia_css_dmaproxy_sp_wait_for_ack: 69D9 */
 
-/* function ia_css_sp_rawcopy_func: 4D11 */
+/* function ia_css_sp_rawcopy_func: 4D0D */
 
 /* function ia_css_tagger_buf_sp_pop_marked: 2762 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_isp_stage
 #define HIVE_MEM_isp_stage scalar_processor_2400_dmem
-#define HIVE_ADDR_isp_stage 0x5AB0
+#define HIVE_ADDR_isp_stage 0x5AA8
 #define HIVE_SIZE_isp_stage 832
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_isp_stage scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_isp_stage 0x5AB0
+#define HIVE_ADDR_sp_isp_stage 0x5AA8
 #define HIVE_SIZE_sp_isp_stage 832
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
@@ -110,32 +110,32 @@
 #define HIVE_ADDR_sp_vbuf_raw 0x2F4
 #define HIVE_SIZE_sp_vbuf_raw 4
 
-/* function ia_css_sp_bin_copy_func: 4C37 */
+/* function ia_css_sp_bin_copy_func: 4C33 */
 
-/* function ia_css_queue_item_store: 4839 */
+/* function ia_css_queue_item_store: 4835 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ia_css_bufq_sp_pipe_private_metadata_bufs
 #define HIVE_MEM_ia_css_bufq_sp_pipe_private_metadata_bufs scalar_processor_2400_dmem
-#define HIVE_ADDR_ia_css_bufq_sp_pipe_private_metadata_bufs 0x4960
+#define HIVE_ADDR_ia_css_bufq_sp_pipe_private_metadata_bufs 0x495C
 #define HIVE_SIZE_ia_css_bufq_sp_pipe_private_metadata_bufs 20
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_ia_css_bufq_sp_pipe_private_metadata_bufs scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_ia_css_bufq_sp_pipe_private_metadata_bufs 0x4960
+#define HIVE_ADDR_sp_ia_css_bufq_sp_pipe_private_metadata_bufs 0x495C
 #define HIVE_SIZE_sp_ia_css_bufq_sp_pipe_private_metadata_bufs 20
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ia_css_bufq_sp_pipe_private_buffer_bufs
 #define HIVE_MEM_ia_css_bufq_sp_pipe_private_buffer_bufs scalar_processor_2400_dmem
-#define HIVE_ADDR_ia_css_bufq_sp_pipe_private_buffer_bufs 0x4974
+#define HIVE_ADDR_ia_css_bufq_sp_pipe_private_buffer_bufs 0x4970
 #define HIVE_SIZE_ia_css_bufq_sp_pipe_private_buffer_bufs 160
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_ia_css_bufq_sp_pipe_private_buffer_bufs scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_ia_css_bufq_sp_pipe_private_buffer_bufs 0x4974
+#define HIVE_ADDR_sp_ia_css_bufq_sp_pipe_private_buffer_bufs 0x4970
 #define HIVE_SIZE_sp_ia_css_bufq_sp_pipe_private_buffer_bufs 160
 
 /* function sp_start_isp: 45D */
@@ -143,53 +143,53 @@
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sp_binary_group
 #define HIVE_MEM_sp_binary_group scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_binary_group 0x5EA0
+#define HIVE_ADDR_sp_binary_group 0x5E98
 #define HIVE_SIZE_sp_binary_group 32
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_sp_binary_group scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_sp_binary_group 0x5EA0
+#define HIVE_ADDR_sp_sp_binary_group 0x5E98
 #define HIVE_SIZE_sp_sp_binary_group 32
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sp_sw_state
 #define HIVE_MEM_sp_sw_state scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_sw_state 0x615C
+#define HIVE_ADDR_sp_sw_state 0x6154
 #define HIVE_SIZE_sp_sw_state 4
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_sp_sw_state scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_sp_sw_state 0x615C
+#define HIVE_ADDR_sp_sp_sw_state 0x6154
 #define HIVE_SIZE_sp_sp_sw_state 4
 
 /* function ia_css_thread_sp_main: D6D */
 
-/* function ia_css_ispctrl_sp_init_internal_buffers: 33ED */
+/* function ia_css_ispctrl_sp_init_internal_buffers: 33E9 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sp2host_psys_event_queue_handle
 #define HIVE_MEM_sp2host_psys_event_queue_handle scalar_processor_2400_dmem
-#define HIVE_ADDR_sp2host_psys_event_queue_handle 0x4A14
+#define HIVE_ADDR_sp2host_psys_event_queue_handle 0x4A10
 #define HIVE_SIZE_sp2host_psys_event_queue_handle 12
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_sp2host_psys_event_queue_handle scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_sp2host_psys_event_queue_handle 0x4A14
+#define HIVE_ADDR_sp_sp2host_psys_event_queue_handle 0x4A10
 #define HIVE_SIZE_sp_sp2host_psys_event_queue_handle 12
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sem_for_sp2host_psys_event_queue
 #define HIVE_MEM_sem_for_sp2host_psys_event_queue scalar_processor_2400_dmem
-#define HIVE_ADDR_sem_for_sp2host_psys_event_queue 0x4558
+#define HIVE_ADDR_sem_for_sp2host_psys_event_queue 0x4554
 #define HIVE_SIZE_sem_for_sp2host_psys_event_queue 20
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_sem_for_sp2host_psys_event_queue scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_sem_for_sp2host_psys_event_queue 0x4558
+#define HIVE_ADDR_sp_sem_for_sp2host_psys_event_queue 0x4554
 #define HIVE_SIZE_sp_sem_for_sp2host_psys_event_queue 20
 
 /* function ia_css_tagger_sp_propagate_frame: 2279 */
@@ -197,13 +197,13 @@
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sp_stop_copy_preview
 #define HIVE_MEM_sp_stop_copy_preview scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_stop_copy_preview 0x6140
+#define HIVE_ADDR_sp_stop_copy_preview 0x6138
 #define HIVE_SIZE_sp_stop_copy_preview 4
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_sp_stop_copy_preview scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_sp_stop_copy_preview 0x6140
+#define HIVE_ADDR_sp_sp_stop_copy_preview 0x6138
 #define HIVE_SIZE_sp_sp_stop_copy_preview 4
 
 /* function input_system_reg_load: B29 */
@@ -211,39 +211,39 @@
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_vbuf_handles
 #define HIVE_MEM_vbuf_handles scalar_processor_2400_dmem
-#define HIVE_ADDR_vbuf_handles 0x61D8
+#define HIVE_ADDR_vbuf_handles 0x61D0
 #define HIVE_SIZE_vbuf_handles 960
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_vbuf_handles scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_vbuf_handles 0x61D8
+#define HIVE_ADDR_sp_vbuf_handles 0x61D0
 #define HIVE_SIZE_sp_vbuf_handles 960
 
-/* function ia_css_queue_store: 499F */
+/* function ia_css_queue_store: 499B */
 
 /* function ia_css_sp_flash_register: 297C */
 
-/* function ia_css_sp_rawcopy_dummy_function: 531D */
+/* function ia_css_sp_rawcopy_dummy_function: 5319 */
 
-/* function ia_css_isys_sp_backend_create: 5802 */
+/* function ia_css_isys_sp_backend_create: 57FE */
 
 /* function ia_css_pipeline_sp_init: 1791 */
 
 /* function ia_css_tagger_sp_configure: 2176 */
 
-/* function ia_css_ispctrl_sp_end_binary: 3230 */
+/* function ia_css_ispctrl_sp_end_binary: 322C */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ia_css_bufq_sp_h_pipe_private_per_frame_ddr_ptrs
 #define HIVE_MEM_ia_css_bufq_sp_h_pipe_private_per_frame_ddr_ptrs scalar_processor_2400_dmem
-#define HIVE_ADDR_ia_css_bufq_sp_h_pipe_private_per_frame_ddr_ptrs 0x4A20
+#define HIVE_ADDR_ia_css_bufq_sp_h_pipe_private_per_frame_ddr_ptrs 0x4A1C
 #define HIVE_SIZE_ia_css_bufq_sp_h_pipe_private_per_frame_ddr_ptrs 20
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_ia_css_bufq_sp_h_pipe_private_per_frame_ddr_ptrs scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_ia_css_bufq_sp_h_pipe_private_per_frame_ddr_ptrs 0x4A20
+#define HIVE_ADDR_sp_ia_css_bufq_sp_h_pipe_private_per_frame_ddr_ptrs 0x4A1C
 #define HIVE_SIZE_sp_ia_css_bufq_sp_h_pipe_private_per_frame_ddr_ptrs 20
 
 /* function receiver_port_reg_store: ADB */
@@ -263,56 +263,56 @@
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sp_all_cb_elems_frame
 #define HIVE_MEM_sp_all_cb_elems_frame scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_all_cb_elems_frame 0x456C
+#define HIVE_ADDR_sp_all_cb_elems_frame 0x4568
 #define HIVE_SIZE_sp_all_cb_elems_frame 16
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_sp_all_cb_elems_frame scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_sp_all_cb_elems_frame 0x456C
+#define HIVE_ADDR_sp_sp_all_cb_elems_frame 0x4568
 #define HIVE_SIZE_sp_sp_all_cb_elems_frame 16
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sp2host_isys_event_queue_handle
 #define HIVE_MEM_sp2host_isys_event_queue_handle scalar_processor_2400_dmem
-#define HIVE_ADDR_sp2host_isys_event_queue_handle 0x4A34
+#define HIVE_ADDR_sp2host_isys_event_queue_handle 0x4A30
 #define HIVE_SIZE_sp2host_isys_event_queue_handle 12
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_sp2host_isys_event_queue_handle scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_sp2host_isys_event_queue_handle 0x4A34
+#define HIVE_ADDR_sp_sp2host_isys_event_queue_handle 0x4A30
 #define HIVE_SIZE_sp_sp2host_isys_event_queue_handle 12
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_host_sp_com
 #define HIVE_MEM_host_sp_com scalar_processor_2400_dmem
-#define HIVE_ADDR_host_sp_com 0x4010
+#define HIVE_ADDR_host_sp_com 0x400C
 #define HIVE_SIZE_host_sp_com 220
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_host_sp_com scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_host_sp_com 0x4010
+#define HIVE_ADDR_sp_host_sp_com 0x400C
 #define HIVE_SIZE_sp_host_sp_com 220
 
-/* function ia_css_queue_get_free_space: 45FE */
+/* function ia_css_queue_get_free_space: 45FA */
 
 /* function exec_image_pipe: 6C1 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sp_init_dmem_data
 #define HIVE_MEM_sp_init_dmem_data scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_init_dmem_data 0x6160
+#define HIVE_ADDR_sp_init_dmem_data 0x6158
 #define HIVE_SIZE_sp_init_dmem_data 24
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_sp_init_dmem_data scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_sp_init_dmem_data 0x6160
+#define HIVE_ADDR_sp_sp_init_dmem_data 0x6158
 #define HIVE_SIZE_sp_sp_init_dmem_data 24
 
-/* function ia_css_sp_metadata_start: 55DF */
+/* function ia_css_sp_metadata_start: 55DB */
 
 /* function ia_css_bufq_sp_init_buffer_queues: 29EB */
 
@@ -324,53 +324,53 @@
 
 /* function is_isp_debug_buffer_full: 337 */
 
-/* function ia_css_dmaproxy_sp_configure_channel_from_info: 2F95 */
+/* function ia_css_dmaproxy_sp_configure_channel_from_info: 2F91 */
 
 /* function encode_and_post_timer_event: A29 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sp_per_frame_data
 #define HIVE_MEM_sp_per_frame_data scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_per_frame_data 0x40EC
+#define HIVE_ADDR_sp_per_frame_data 0x40E8
 #define HIVE_SIZE_sp_per_frame_data 4
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_sp_per_frame_data scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_sp_per_frame_data 0x40EC
+#define HIVE_ADDR_sp_sp_per_frame_data 0x40E8
 #define HIVE_SIZE_sp_sp_per_frame_data 4
 
-/* function ia_css_rmgr_sp_vbuf_dequeue: 5F9F */
+/* function ia_css_rmgr_sp_vbuf_dequeue: 5F9B */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_host2sp_psys_event_queue_handle
 #define HIVE_MEM_host2sp_psys_event_queue_handle scalar_processor_2400_dmem
-#define HIVE_ADDR_host2sp_psys_event_queue_handle 0x4A40
+#define HIVE_ADDR_host2sp_psys_event_queue_handle 0x4A3C
 #define HIVE_SIZE_host2sp_psys_event_queue_handle 12
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_host2sp_psys_event_queue_handle scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_host2sp_psys_event_queue_handle 0x4A40
+#define HIVE_ADDR_sp_host2sp_psys_event_queue_handle 0x4A3C
 #define HIVE_SIZE_sp_host2sp_psys_event_queue_handle 12
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_xmem_bin_addr
 #define HIVE_MEM_xmem_bin_addr scalar_processor_2400_dmem
-#define HIVE_ADDR_xmem_bin_addr 0x40F0
+#define HIVE_ADDR_xmem_bin_addr 0x40EC
 #define HIVE_SIZE_xmem_bin_addr 4
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_xmem_bin_addr scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_xmem_bin_addr 0x40F0
+#define HIVE_ADDR_sp_xmem_bin_addr 0x40EC
 #define HIVE_SIZE_sp_xmem_bin_addr 4
 
 /* function tmr_clock_init: ABE */
 
 /* function ia_css_pipeline_sp_run: 13F5 */
 
-/* function memcpy: 654F */
+/* function memcpy: 654B */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_GP_DEVICE_BASE
@@ -398,26 +398,26 @@
 
 /* function input_system_reg_store: B30 */
 
-/* function ia_css_isys_sp_frontend_start: 5A18 */
+/* function ia_css_isys_sp_frontend_start: 5A14 */
 
-/* function ia_css_uds_sp_scale_params: 6259 */
+/* function ia_css_uds_sp_scale_params: 6255 */
 
 /* function ia_css_circbuf_increase_size: E52 */
 
-/* function __divu: 64CD */
+/* function __divu: 64C9 */
 
 /* function ia_css_thread_sp_get_state: C95 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sem_for_cont_capt_stop
 #define HIVE_MEM_sem_for_cont_capt_stop scalar_processor_2400_dmem
-#define HIVE_ADDR_sem_for_cont_capt_stop 0x457C
+#define HIVE_ADDR_sem_for_cont_capt_stop 0x4578
 #define HIVE_SIZE_sem_for_cont_capt_stop 20
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_sem_for_cont_capt_stop scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_sem_for_cont_capt_stop 0x457C
+#define HIVE_ADDR_sp_sem_for_cont_capt_stop 0x4578
 #define HIVE_SIZE_sp_sem_for_cont_capt_stop 20
 
 /* function thread_fiber_sp_main: E4B */
@@ -425,20 +425,20 @@
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sp_isp_pipe_thread
 #define HIVE_MEM_sp_isp_pipe_thread scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_isp_pipe_thread 0x46C0
+#define HIVE_ADDR_sp_isp_pipe_thread 0x46BC
 #define HIVE_SIZE_sp_isp_pipe_thread 340
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_sp_isp_pipe_thread scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_sp_isp_pipe_thread 0x46C0
+#define HIVE_ADDR_sp_sp_isp_pipe_thread 0x46BC
 #define HIVE_SIZE_sp_sp_isp_pipe_thread 340
 
 /* function ia_css_parambuf_sp_handle_parameter_sets: 1295 */
 
-/* function ia_css_spctrl_sp_set_state: 560E */
+/* function ia_css_spctrl_sp_set_state: 560A */
 
-/* function ia_css_thread_sem_sp_signal: 6714 */
+/* function ia_css_thread_sem_sp_signal: 6710 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_IRQ_BASE
@@ -464,13 +464,13 @@
 #define HIVE_ADDR_sp_TIMED_CTRL_BASE 0x40
 #define HIVE_SIZE_sp_TIMED_CTRL_BASE 4
 
-/* function ia_css_isys_sp_isr: 6BC4 */
+/* function ia_css_isys_sp_isr: 6B8A */
 
-/* function ia_css_isys_sp_generate_exp_id: 5DB0 */
+/* function ia_css_isys_sp_generate_exp_id: 5DAC */
 
-/* function ia_css_rmgr_sp_init: 5E9A */
+/* function ia_css_rmgr_sp_init: 5E96 */
 
-/* function ia_css_thread_sem_sp_init: 67E5 */
+/* function ia_css_thread_sem_sp_init: 67E1 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_is_isp_requested
@@ -487,18 +487,18 @@
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sem_for_reading_cb_frame
 #define HIVE_MEM_sem_for_reading_cb_frame scalar_processor_2400_dmem
-#define HIVE_ADDR_sem_for_reading_cb_frame 0x4590
+#define HIVE_ADDR_sem_for_reading_cb_frame 0x458C
 #define HIVE_SIZE_sem_for_reading_cb_frame 40
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_sem_for_reading_cb_frame scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_sem_for_reading_cb_frame 0x4590
+#define HIVE_ADDR_sp_sem_for_reading_cb_frame 0x458C
 #define HIVE_SIZE_sp_sem_for_reading_cb_frame 40
 
-/* function ia_css_dmaproxy_sp_execute: 2EFA */
+/* function ia_css_dmaproxy_sp_execute: 2EF9 */
 
-/* function ia_css_queue_is_empty: 44E5 */
+/* function ia_css_queue_is_empty: 44E1 */
 
 /* function ia_css_pipeline_sp_has_stopped: 176A */
 
@@ -518,11 +518,11 @@
 #define HIVE_ADDR_sp_current_sp_thread 0x1E0
 #define HIVE_SIZE_sp_current_sp_thread 4
 
-/* function ia_css_spctrl_sp_get_spid: 5615 */
+/* function ia_css_spctrl_sp_get_spid: 5611 */
 
-/* function ia_css_dmaproxy_sp_read_byte_addr: 6A39 */
+/* function ia_css_dmaproxy_sp_read_byte_addr: 6A07 */
 
-/* function ia_css_rmgr_sp_uninit: 5E93 */
+/* function ia_css_rmgr_sp_uninit: 5E8F */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sp_threads_stack
@@ -540,18 +540,18 @@
 
 /* function ia_css_parambuf_sp_wait_for_in_param: 105D */
 
-/* function ia_css_isys_sp_token_map_get_exp_id: 5C78 */
+/* function ia_css_isys_sp_token_map_get_exp_id: 5C74 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sp_all_cb_elems_param
 #define HIVE_MEM_sp_all_cb_elems_param scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_all_cb_elems_param 0x45B8
+#define HIVE_ADDR_sp_all_cb_elems_param 0x45B4
 #define HIVE_SIZE_sp_all_cb_elems_param 16
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_sp_all_cb_elems_param scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_sp_all_cb_elems_param 0x45B8
+#define HIVE_ADDR_sp_sp_all_cb_elems_param 0x45B4
 #define HIVE_SIZE_sp_sp_all_cb_elems_param 16
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
@@ -569,13 +569,13 @@
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sp_all_cbs_frame_desc
 #define HIVE_MEM_sp_all_cbs_frame_desc scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_all_cbs_frame_desc 0x45C8
+#define HIVE_ADDR_sp_all_cbs_frame_desc 0x45C4
 #define HIVE_SIZE_sp_all_cbs_frame_desc 8
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_sp_all_cbs_frame_desc scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_sp_all_cbs_frame_desc 0x45C8
+#define HIVE_ADDR_sp_sp_all_cbs_frame_desc 0x45C4
 #define HIVE_SIZE_sp_sp_all_cbs_frame_desc 8
 
 /* function sp_isys_copy_func_v2: 703 */
@@ -583,91 +583,91 @@
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sem_for_reading_cb_param
 #define HIVE_MEM_sem_for_reading_cb_param scalar_processor_2400_dmem
-#define HIVE_ADDR_sem_for_reading_cb_param 0x45D0
+#define HIVE_ADDR_sem_for_reading_cb_param 0x45CC
 #define HIVE_SIZE_sem_for_reading_cb_param 40
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_sem_for_reading_cb_param scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_sem_for_reading_cb_param 0x45D0
+#define HIVE_ADDR_sp_sem_for_reading_cb_param 0x45CC
 #define HIVE_SIZE_sp_sem_for_reading_cb_param 40
 
-/* function ia_css_queue_get_used_space: 45B2 */
+/* function ia_css_queue_get_used_space: 45AE */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sem_for_cont_capt_start
 #define HIVE_MEM_sem_for_cont_capt_start scalar_processor_2400_dmem
-#define HIVE_ADDR_sem_for_cont_capt_start 0x45F8
+#define HIVE_ADDR_sem_for_cont_capt_start 0x45F4
 #define HIVE_SIZE_sem_for_cont_capt_start 20
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_sem_for_cont_capt_start scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_sem_for_cont_capt_start 0x45F8
+#define HIVE_ADDR_sp_sem_for_cont_capt_start 0x45F4
 #define HIVE_SIZE_sp_sem_for_cont_capt_start 20
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_tmp_heap
 #define HIVE_MEM_tmp_heap scalar_processor_2400_dmem
-#define HIVE_ADDR_tmp_heap 0x5EC0
+#define HIVE_ADDR_tmp_heap 0x5EB8
 #define HIVE_SIZE_tmp_heap 640
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_tmp_heap scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_tmp_heap 0x5EC0
+#define HIVE_ADDR_sp_tmp_heap 0x5EB8
 #define HIVE_SIZE_sp_tmp_heap 640
 
-/* function ia_css_rmgr_sp_get_num_vbuf: 619B */
+/* function ia_css_rmgr_sp_get_num_vbuf: 6197 */
 
-/* function ia_css_ispctrl_sp_output_compute_dma_info: 3B5B */
+/* function ia_css_ispctrl_sp_output_compute_dma_info: 3B57 */
 
 /* function ia_css_tagger_sp_lock_exp_id: 1FA4 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ia_css_bufq_sp_pipe_private_s3a_bufs
 #define HIVE_MEM_ia_css_bufq_sp_pipe_private_s3a_bufs scalar_processor_2400_dmem
-#define HIVE_ADDR_ia_css_bufq_sp_pipe_private_s3a_bufs 0x4A4C
+#define HIVE_ADDR_ia_css_bufq_sp_pipe_private_s3a_bufs 0x4A48
 #define HIVE_SIZE_ia_css_bufq_sp_pipe_private_s3a_bufs 60
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_ia_css_bufq_sp_pipe_private_s3a_bufs scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_ia_css_bufq_sp_pipe_private_s3a_bufs 0x4A4C
+#define HIVE_ADDR_sp_ia_css_bufq_sp_pipe_private_s3a_bufs 0x4A48
 #define HIVE_SIZE_sp_ia_css_bufq_sp_pipe_private_s3a_bufs 60
 
-/* function ia_css_queue_is_full: 4649 */
+/* function ia_css_queue_is_full: 4645 */
 
 /* function debug_buffer_init_isp: E4 */
 
-/* function ia_css_isys_sp_frontend_uninit: 59D2 */
+/* function ia_css_isys_sp_frontend_uninit: 59CE */
 
 /* function ia_css_tagger_sp_exp_id_is_locked: 1EF2 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ia_css_rmgr_sp_mipi_frame_sem
 #define HIVE_MEM_ia_css_rmgr_sp_mipi_frame_sem scalar_processor_2400_dmem
-#define HIVE_ADDR_ia_css_rmgr_sp_mipi_frame_sem 0x6598
+#define HIVE_ADDR_ia_css_rmgr_sp_mipi_frame_sem 0x6590
 #define HIVE_SIZE_ia_css_rmgr_sp_mipi_frame_sem 60
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_ia_css_rmgr_sp_mipi_frame_sem scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_ia_css_rmgr_sp_mipi_frame_sem 0x6598
+#define HIVE_ADDR_sp_ia_css_rmgr_sp_mipi_frame_sem 0x6590
 #define HIVE_SIZE_sp_ia_css_rmgr_sp_mipi_frame_sem 60
 
-/* function ia_css_rmgr_sp_refcount_dump: 5F7A */
+/* function ia_css_rmgr_sp_refcount_dump: 5F76 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ia_css_bufq_sp_pipe_private_isp_parameters_id
 #define HIVE_MEM_ia_css_bufq_sp_pipe_private_isp_parameters_id scalar_processor_2400_dmem
-#define HIVE_ADDR_ia_css_bufq_sp_pipe_private_isp_parameters_id 0x4A88
+#define HIVE_ADDR_ia_css_bufq_sp_pipe_private_isp_parameters_id 0x4A84
 #define HIVE_SIZE_ia_css_bufq_sp_pipe_private_isp_parameters_id 20
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_ia_css_bufq_sp_pipe_private_isp_parameters_id scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_ia_css_bufq_sp_pipe_private_isp_parameters_id 0x4A88
+#define HIVE_ADDR_sp_ia_css_bufq_sp_pipe_private_isp_parameters_id 0x4A84
 #define HIVE_SIZE_sp_ia_css_bufq_sp_pipe_private_isp_parameters_id 20
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
@@ -687,56 +687,56 @@
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_host2sp_isys_event_queue_handle
 #define HIVE_MEM_host2sp_isys_event_queue_handle scalar_processor_2400_dmem
-#define HIVE_ADDR_host2sp_isys_event_queue_handle 0x4A9C
+#define HIVE_ADDR_host2sp_isys_event_queue_handle 0x4A98
 #define HIVE_SIZE_host2sp_isys_event_queue_handle 12
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_host2sp_isys_event_queue_handle scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_host2sp_isys_event_queue_handle 0x4A9C
+#define HIVE_ADDR_sp_host2sp_isys_event_queue_handle 0x4A98
 #define HIVE_SIZE_sp_host2sp_isys_event_queue_handle 12
 
-/* function ia_css_thread_sp_yield: 668D */
+/* function ia_css_thread_sp_yield: 6689 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sp_all_cbs_param_desc
 #define HIVE_MEM_sp_all_cbs_param_desc scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_all_cbs_param_desc 0x460C
+#define HIVE_ADDR_sp_all_cbs_param_desc 0x4608
 #define HIVE_SIZE_sp_all_cbs_param_desc 8
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_sp_all_cbs_param_desc scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_sp_all_cbs_param_desc 0x460C
+#define HIVE_ADDR_sp_sp_all_cbs_param_desc 0x4608
 #define HIVE_SIZE_sp_sp_all_cbs_param_desc 8
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ia_css_dmaproxy_sp_invalidate_tlb
 #define HIVE_MEM_ia_css_dmaproxy_sp_invalidate_tlb scalar_processor_2400_dmem
-#define HIVE_ADDR_ia_css_dmaproxy_sp_invalidate_tlb 0x5AA0
+#define HIVE_ADDR_ia_css_dmaproxy_sp_invalidate_tlb 0x5A9C
 #define HIVE_SIZE_ia_css_dmaproxy_sp_invalidate_tlb 4
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_ia_css_dmaproxy_sp_invalidate_tlb scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_ia_css_dmaproxy_sp_invalidate_tlb 0x5AA0
+#define HIVE_ADDR_sp_ia_css_dmaproxy_sp_invalidate_tlb 0x5A9C
 #define HIVE_SIZE_sp_ia_css_dmaproxy_sp_invalidate_tlb 4
 
 /* function ia_css_thread_sp_fork: D22 */
 
 /* function ia_css_tagger_sp_destroy: 25F5 */
 
-/* function ia_css_dmaproxy_sp_vmem_read: 2E9A */
+/* function ia_css_dmaproxy_sp_vmem_read: 2E99 */
 
-/* function ia_css_ifmtr_sp_init: 5E01 */
+/* function ia_css_ifmtr_sp_init: 5DFD */
 
 /* function initialize_sp_group: 6D1 */
 
 /* function ia_css_thread_sp_init: D4E */
 
-/* function ia_css_isys_sp_reset_exp_id: 5DA8 */
+/* function ia_css_isys_sp_reset_exp_id: 5DA4 */
 
-/* function ia_css_ispctrl_sp_set_stream_base_addr: 4223 */
+/* function ia_css_ispctrl_sp_set_stream_base_addr: 421F */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ISP_DMEM_BASE
@@ -762,7 +762,7 @@
 #define HIVE_ADDR_sp_SP_DMEM_BASE 0x4
 #define HIVE_SIZE_sp_SP_DMEM_BASE 4
 
-/* function ia_css_dmaproxy_sp_read: 2F13 */
+/* function ia_css_dmaproxy_sp_read: 2F0F */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_raw_copy_line_count
@@ -779,27 +779,27 @@
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_host2sp_tag_cmd_queue_handle
 #define HIVE_MEM_host2sp_tag_cmd_queue_handle scalar_processor_2400_dmem
-#define HIVE_ADDR_host2sp_tag_cmd_queue_handle 0x4AA8
+#define HIVE_ADDR_host2sp_tag_cmd_queue_handle 0x4AA4
 #define HIVE_SIZE_host2sp_tag_cmd_queue_handle 12
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_host2sp_tag_cmd_queue_handle scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_host2sp_tag_cmd_queue_handle 0x4AA8
+#define HIVE_ADDR_sp_host2sp_tag_cmd_queue_handle 0x4AA4
 #define HIVE_SIZE_sp_host2sp_tag_cmd_queue_handle 12
 
-/* function ia_css_queue_peek: 4528 */
+/* function ia_css_queue_peek: 4524 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ia_css_flash_sp_frame_cnt
 #define HIVE_MEM_ia_css_flash_sp_frame_cnt scalar_processor_2400_dmem
-#define HIVE_ADDR_ia_css_flash_sp_frame_cnt 0x4954
+#define HIVE_ADDR_ia_css_flash_sp_frame_cnt 0x4950
 #define HIVE_SIZE_ia_css_flash_sp_frame_cnt 4
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_ia_css_flash_sp_frame_cnt scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_ia_css_flash_sp_frame_cnt 0x4954
+#define HIVE_ADDR_sp_ia_css_flash_sp_frame_cnt 0x4950
 #define HIVE_SIZE_sp_ia_css_flash_sp_frame_cnt 4
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
@@ -817,24 +817,24 @@
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_isp_thread
 #define HIVE_MEM_isp_thread scalar_processor_2400_dmem
-#define HIVE_ADDR_isp_thread 0x5DF0
+#define HIVE_ADDR_isp_thread 0x5DE8
 #define HIVE_SIZE_isp_thread 4
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_isp_thread scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_isp_thread 0x5DF0
+#define HIVE_ADDR_sp_isp_thread 0x5DE8
 #define HIVE_SIZE_sp_isp_thread 4
 
 /* function encode_and_post_sp_event_non_blocking: A71 */
 
-/* function ia_css_isys_sp_frontend_destroy: 5AAA */
+/* function ia_css_isys_sp_frontend_destroy: 5AA6 */
 
 /* function is_ddr_debug_buffer_full: 2CC */
 
-/* function ia_css_isys_sp_frontend_stop: 59EA */
+/* function ia_css_isys_sp_frontend_stop: 59E6 */
 
-/* function ia_css_isys_sp_token_map_init: 5D46 */
+/* function ia_css_isys_sp_token_map_init: 5D42 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sp_threads_fiber
@@ -852,32 +852,32 @@
 
 /* function debug_enqueue_ddr: EE */
 
-/* function ia_css_rmgr_sp_refcount_init_vbuf: 5F35 */
+/* function ia_css_rmgr_sp_refcount_init_vbuf: 5F31 */
 
-/* function dmaproxy_sp_read_write: 6AC4 */
+/* function dmaproxy_sp_read_write: 6A92 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ia_css_dmaproxy_isp_dma_cmd_buffer
 #define HIVE_MEM_ia_css_dmaproxy_isp_dma_cmd_buffer scalar_processor_2400_dmem
-#define HIVE_ADDR_ia_css_dmaproxy_isp_dma_cmd_buffer 0x5AA4
+#define HIVE_ADDR_ia_css_dmaproxy_isp_dma_cmd_buffer 0x5AA0
 #define HIVE_SIZE_ia_css_dmaproxy_isp_dma_cmd_buffer 4
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_ia_css_dmaproxy_isp_dma_cmd_buffer scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_ia_css_dmaproxy_isp_dma_cmd_buffer 0x5AA4
+#define HIVE_ADDR_sp_ia_css_dmaproxy_isp_dma_cmd_buffer 0x5AA0
 #define HIVE_SIZE_sp_ia_css_dmaproxy_isp_dma_cmd_buffer 4
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_host2sp_buffer_queue_handle
 #define HIVE_MEM_host2sp_buffer_queue_handle scalar_processor_2400_dmem
-#define HIVE_ADDR_host2sp_buffer_queue_handle 0x4AB4
+#define HIVE_ADDR_host2sp_buffer_queue_handle 0x4AB0
 #define HIVE_SIZE_host2sp_buffer_queue_handle 480
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_host2sp_buffer_queue_handle scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_host2sp_buffer_queue_handle 0x4AB4
+#define HIVE_ADDR_sp_host2sp_buffer_queue_handle 0x4AB0
 #define HIVE_SIZE_sp_host2sp_buffer_queue_handle 480
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
@@ -892,54 +892,54 @@
 #define HIVE_ADDR_sp_ia_css_flash_sp_in_service 0x30E8
 #define HIVE_SIZE_sp_ia_css_flash_sp_in_service 4
 
-/* function ia_css_dmaproxy_sp_process: 680D */
+/* function ia_css_dmaproxy_sp_process: 6809 */
 
 /* function ia_css_tagger_buf_sp_mark_from_end: 2956 */
 
-/* function ia_css_isys_sp_backend_rcv_acquire_ack: 56B7 */
+/* function ia_css_isys_sp_backend_rcv_acquire_ack: 56B3 */
 
-/* function ia_css_isys_sp_backend_pre_acquire_request: 56CD */
+/* function ia_css_isys_sp_backend_pre_acquire_request: 56C9 */
 
-/* function ia_css_ispctrl_sp_init_cs: 331D */
+/* function ia_css_ispctrl_sp_init_cs: 3319 */
 
-/* function ia_css_spctrl_sp_init: 5623 */
+/* function ia_css_spctrl_sp_init: 561F */
 
 /* function sp_event_proxy_init: 72D */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ia_css_bufq_sp_pipe_private_previous_clock_tick
 #define HIVE_MEM_ia_css_bufq_sp_pipe_private_previous_clock_tick scalar_processor_2400_dmem
-#define HIVE_ADDR_ia_css_bufq_sp_pipe_private_previous_clock_tick 0x4C94
+#define HIVE_ADDR_ia_css_bufq_sp_pipe_private_previous_clock_tick 0x4C90
 #define HIVE_SIZE_ia_css_bufq_sp_pipe_private_previous_clock_tick 20
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_ia_css_bufq_sp_pipe_private_previous_clock_tick scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_ia_css_bufq_sp_pipe_private_previous_clock_tick 0x4C94
+#define HIVE_ADDR_sp_ia_css_bufq_sp_pipe_private_previous_clock_tick 0x4C90
 #define HIVE_SIZE_sp_ia_css_bufq_sp_pipe_private_previous_clock_tick 20
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sp_output
 #define HIVE_MEM_sp_output scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_output 0x40F4
+#define HIVE_ADDR_sp_output 0x40F0
 #define HIVE_SIZE_sp_output 16
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_sp_output scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_sp_output 0x40F4
+#define HIVE_ADDR_sp_sp_output 0x40F0
 #define HIVE_SIZE_sp_sp_output 16
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ia_css_bufq_sp_sems_for_host2sp_buf_queues
 #define HIVE_MEM_ia_css_bufq_sp_sems_for_host2sp_buf_queues scalar_processor_2400_dmem
-#define HIVE_ADDR_ia_css_bufq_sp_sems_for_host2sp_buf_queues 0x4CA8
+#define HIVE_ADDR_ia_css_bufq_sp_sems_for_host2sp_buf_queues 0x4CA4
 #define HIVE_SIZE_ia_css_bufq_sp_sems_for_host2sp_buf_queues 800
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_ia_css_bufq_sp_sems_for_host2sp_buf_queues scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_ia_css_bufq_sp_sems_for_host2sp_buf_queues 0x4CA8
+#define HIVE_ADDR_sp_ia_css_bufq_sp_sems_for_host2sp_buf_queues 0x4CA4
 #define HIVE_SIZE_sp_ia_css_bufq_sp_sems_for_host2sp_buf_queues 800
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
@@ -966,38 +966,38 @@
 #define HIVE_ADDR_sp_INPUT_FORMATTER_BASE 0x4C
 #define HIVE_SIZE_sp_INPUT_FORMATTER_BASE 16
 
-/* function sp_dma_proxy_reset_channels: 3151 */
+/* function sp_dma_proxy_reset_channels: 314D */
 
-/* function ia_css_isys_sp_backend_acquire: 57D8 */
+/* function ia_css_isys_sp_backend_acquire: 57D4 */
 
 /* function ia_css_tagger_sp_update_size: 26D7 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ia_css_bufq_host_sp_queue
 #define HIVE_MEM_ia_css_bufq_host_sp_queue scalar_processor_2400_dmem
-#define HIVE_ADDR_ia_css_bufq_host_sp_queue 0x4FC8
+#define HIVE_ADDR_ia_css_bufq_host_sp_queue 0x4FC4
 #define HIVE_SIZE_ia_css_bufq_host_sp_queue 2008
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_ia_css_bufq_host_sp_queue scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_ia_css_bufq_host_sp_queue 0x4FC8
+#define HIVE_ADDR_sp_ia_css_bufq_host_sp_queue 0x4FC4
 #define HIVE_SIZE_sp_ia_css_bufq_host_sp_queue 2008
 
 /* function thread_fiber_sp_create: DBA */
 
-/* function ia_css_dmaproxy_sp_set_increments: 2FFF */
+/* function ia_css_dmaproxy_sp_set_increments: 2FFB */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sem_for_writing_cb_frame
 #define HIVE_MEM_sem_for_writing_cb_frame scalar_processor_2400_dmem
-#define HIVE_ADDR_sem_for_writing_cb_frame 0x4614
+#define HIVE_ADDR_sem_for_writing_cb_frame 0x4610
 #define HIVE_SIZE_sem_for_writing_cb_frame 20
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_sem_for_writing_cb_frame scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_sem_for_writing_cb_frame 0x4614
+#define HIVE_ADDR_sp_sem_for_writing_cb_frame 0x4610
 #define HIVE_SIZE_sp_sem_for_writing_cb_frame 20
 
 /* function receiver_reg_store: AE9 */
@@ -1005,13 +1005,13 @@
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sem_for_writing_cb_param
 #define HIVE_MEM_sem_for_writing_cb_param scalar_processor_2400_dmem
-#define HIVE_ADDR_sem_for_writing_cb_param 0x4628
+#define HIVE_ADDR_sem_for_writing_cb_param 0x4624
 #define HIVE_SIZE_sem_for_writing_cb_param 20
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_sem_for_writing_cb_param scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_sem_for_writing_cb_param 0x4628
+#define HIVE_ADDR_sp_sem_for_writing_cb_param 0x4624
 #define HIVE_SIZE_sp_sem_for_writing_cb_param 20
 
 /* function sp_start_isp_entry: 453 */
@@ -1026,11 +1026,11 @@
 
 /* function ia_css_tagger_buf_sp_unmark_from_start: 2930 */
 
-/* function ia_css_dmaproxy_sp_channel_acquire: 317D */
+/* function ia_css_dmaproxy_sp_channel_acquire: 3179 */
 
-/* function ia_css_rmgr_sp_add_num_vbuf: 6177 */
+/* function ia_css_rmgr_sp_add_num_vbuf: 6173 */
 
-/* function ia_css_isys_sp_token_map_create: 5D8F */
+/* function ia_css_isys_sp_token_map_create: 5D8B */
 
 /* function __ia_css_dmaproxy_sp_wait_for_ack_text: 2E65 */
 
@@ -1039,32 +1039,32 @@
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sp_group
 #define HIVE_MEM_sp_group scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_group 0x4104
+#define HIVE_ADDR_sp_group 0x4100
 #define HIVE_SIZE_sp_group 1084
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_sp_group scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_sp_group 0x4104
+#define HIVE_ADDR_sp_sp_group 0x4100
 #define HIVE_SIZE_sp_sp_group 1084
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sp_event_proxy_thread
 #define HIVE_MEM_sp_event_proxy_thread scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_event_proxy_thread 0x4814
+#define HIVE_ADDR_sp_event_proxy_thread 0x4810
 #define HIVE_SIZE_sp_event_proxy_thread 68
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_sp_event_proxy_thread scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_sp_event_proxy_thread 0x4814
+#define HIVE_ADDR_sp_sp_event_proxy_thread 0x4810
 #define HIVE_SIZE_sp_sp_event_proxy_thread 68
 
 /* function ia_css_thread_sp_kill: CE8 */
 
 /* function ia_css_tagger_sp_create: 269A */
 
-/* function tmpmem_acquire_dmem: 6224 */
+/* function tmpmem_acquire_dmem: 6220 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_MMU_BASE
@@ -1078,36 +1078,36 @@
 #define HIVE_ADDR_sp_MMU_BASE 0x24
 #define HIVE_SIZE_sp_MMU_BASE 8
 
-/* function ia_css_dmaproxy_sp_channel_release: 3169 */
+/* function ia_css_dmaproxy_sp_channel_release: 3165 */
 
-/* function ia_css_dmaproxy_sp_is_idle: 3149 */
+/* function ia_css_dmaproxy_sp_is_idle: 3145 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sem_for_qos_start
 #define HIVE_MEM_sem_for_qos_start scalar_processor_2400_dmem
-#define HIVE_ADDR_sem_for_qos_start 0x463C
+#define HIVE_ADDR_sem_for_qos_start 0x4638
 #define HIVE_SIZE_sem_for_qos_start 20
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_sem_for_qos_start scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_sem_for_qos_start 0x463C
+#define HIVE_ADDR_sp_sem_for_qos_start 0x4638
 #define HIVE_SIZE_sp_sem_for_qos_start 20
 
 /* function isp_hmem_load: B67 */
 
-/* function ia_css_eventq_sp_send: 31BF */
+/* function ia_css_eventq_sp_send: 31BB */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ia_css_isys_sp_error_cnt
 #define HIVE_MEM_ia_css_isys_sp_error_cnt scalar_processor_2400_dmem
-#define HIVE_ADDR_ia_css_isys_sp_error_cnt 0x6184
+#define HIVE_ADDR_ia_css_isys_sp_error_cnt 0x617C
 #define HIVE_SIZE_ia_css_isys_sp_error_cnt 16
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_ia_css_isys_sp_error_cnt scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_ia_css_isys_sp_error_cnt 0x6184
+#define HIVE_ADDR_sp_ia_css_isys_sp_error_cnt 0x617C
 #define HIVE_SIZE_sp_ia_css_isys_sp_error_cnt 16
 
 /* function ia_css_tagger_buf_sp_unlock_from_start: 2865 */
@@ -1126,19 +1126,19 @@
 
 /* function sp_isys_copy_request: 711 */
 
-/* function ia_css_rmgr_sp_refcount_retain_vbuf: 600F */
+/* function ia_css_rmgr_sp_refcount_retain_vbuf: 600B */
 
 /* function ia_css_thread_sp_set_priority: CE0 */
 
 /* function sizeof_hmem: C0E */
 
-/* function tmpmem_release_dmem: 6213 */
+/* function tmpmem_release_dmem: 620F */
 
 /* function cnd_input_system_cfg: 392 */
 
-/* function __ia_css_sp_rawcopy_func_critical: 6B4D */
+/* function __ia_css_sp_rawcopy_func_critical: 6B13 */
 
-/* function ia_css_dmaproxy_sp_set_width_exception: 2FEA */
+/* function ia_css_dmaproxy_sp_set_width_exception: 2FE6 */
 
 /* function sp_event_assert: 8AE */
 
@@ -1146,9 +1146,9 @@
 
 /* function ia_css_tagger_buf_sp_pop_unmarked_and_unlocked: 26F5 */
 
-/* function __modu: 6513 */
+/* function __modu: 650F */
 
-/* function ia_css_dmaproxy_sp_init_isp_vector: 2E6C */
+/* function ia_css_dmaproxy_sp_init_isp_vector: 2E6B */
 
 /* function isp_vamem_store: 0 */
 
@@ -1164,20 +1164,20 @@
 #define HIVE_ADDR_sp_GDC_BASE 0x44
 #define HIVE_SIZE_sp_GDC_BASE 8
 
-/* function ia_css_queue_local_init: 4813 */
+/* function ia_css_queue_local_init: 480F */
 
-/* function sp_event_proxy_callout_func: 65A5 */
+/* function sp_event_proxy_callout_func: 65A1 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ia_css_thread_sp_num_ready_threads
 #define HIVE_MEM_ia_css_thread_sp_num_ready_threads scalar_processor_2400_dmem
-#define HIVE_ADDR_ia_css_thread_sp_num_ready_threads 0x48A0
+#define HIVE_ADDR_ia_css_thread_sp_num_ready_threads 0x489C
 #define HIVE_SIZE_ia_css_thread_sp_num_ready_threads 4
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_ia_css_thread_sp_num_ready_threads scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_ia_css_thread_sp_num_ready_threads 0x48A0
+#define HIVE_ADDR_sp_ia_css_thread_sp_num_ready_threads 0x489C
 #define HIVE_SIZE_sp_ia_css_thread_sp_num_ready_threads 4
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
@@ -1192,24 +1192,24 @@
 #define HIVE_ADDR_sp_sp_threads_stack_size 0x184
 #define HIVE_SIZE_sp_sp_threads_stack_size 28
 
-/* function ia_css_ispctrl_sp_isp_done_row_striping: 3B41 */
+/* function ia_css_ispctrl_sp_isp_done_row_striping: 3B3D */
 
-/* function __ia_css_isys_sp_isr_text: 5AD4 */
+/* function __ia_css_isys_sp_isr_text: 5AD0 */
 
-/* function ia_css_queue_dequeue: 4691 */
+/* function ia_css_queue_dequeue: 468D */
 
-/* function ia_css_dmaproxy_sp_configure_channel: 6A50 */
+/* function ia_css_dmaproxy_sp_configure_channel: 6A1E */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_current_thread_fiber_sp
 #define HIVE_MEM_current_thread_fiber_sp scalar_processor_2400_dmem
-#define HIVE_ADDR_current_thread_fiber_sp 0x48A8
+#define HIVE_ADDR_current_thread_fiber_sp 0x48A4
 #define HIVE_SIZE_current_thread_fiber_sp 4
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_current_thread_fiber_sp scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_current_thread_fiber_sp 0x48A8
+#define HIVE_ADDR_sp_current_thread_fiber_sp 0x48A4
 #define HIVE_SIZE_sp_current_thread_fiber_sp 4
 
 /* function ia_css_circbuf_pop: FE2 */
@@ -1235,31 +1235,31 @@
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_isp_ph
 #define HIVE_MEM_isp_ph scalar_processor_2400_dmem
-#define HIVE_ADDR_isp_ph 0x6194
+#define HIVE_ADDR_isp_ph 0x618C
 #define HIVE_SIZE_isp_ph 28
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_isp_ph scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_isp_ph 0x6194
+#define HIVE_ADDR_sp_isp_ph 0x618C
 #define HIVE_SIZE_sp_isp_ph 28
 
-/* function ia_css_isys_sp_token_map_flush: 5CD4 */
+/* function ia_css_isys_sp_token_map_flush: 5CD0 */
 
-/* function ia_css_ispctrl_sp_init_ds: 347C */
+/* function ia_css_ispctrl_sp_init_ds: 3478 */
 
-/* function get_xmem_base_addr_raw: 3816 */
+/* function get_xmem_base_addr_raw: 3812 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sp_all_cbs_param
 #define HIVE_MEM_sp_all_cbs_param scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_all_cbs_param 0x4650
+#define HIVE_ADDR_sp_all_cbs_param 0x464C
 #define HIVE_SIZE_sp_all_cbs_param 16
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_sp_all_cbs_param scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_sp_all_cbs_param 0x4650
+#define HIVE_ADDR_sp_sp_all_cbs_param 0x464C
 #define HIVE_SIZE_sp_sp_all_cbs_param 16
 
 /* function ia_css_circbuf_create: 1030 */
@@ -1267,44 +1267,44 @@
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sem_for_sp_group
 #define HIVE_MEM_sem_for_sp_group scalar_processor_2400_dmem
-#define HIVE_ADDR_sem_for_sp_group 0x4660
+#define HIVE_ADDR_sem_for_sp_group 0x465C
 #define HIVE_SIZE_sem_for_sp_group 20
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_sem_for_sp_group scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_sem_for_sp_group 0x4660
+#define HIVE_ADDR_sp_sem_for_sp_group 0x465C
 #define HIVE_SIZE_sp_sem_for_sp_group 20
 
-/* function ia_css_framebuf_sp_wait_for_in_frame: 61A2 */
+/* function ia_css_framebuf_sp_wait_for_in_frame: 619E */
 
-/* function ia_css_sp_rawcopy_tag_frame: 523A */
+/* function ia_css_sp_rawcopy_tag_frame: 5236 */
 
 /* function isp_hmem_clear: B37 */
 
-/* function ia_css_framebuf_sp_release_in_frame: 61E5 */
+/* function ia_css_framebuf_sp_release_in_frame: 61E1 */
 
-/* function ia_css_isys_sp_backend_snd_acquire_request: 572A */
+/* function ia_css_isys_sp_backend_snd_acquire_request: 5726 */
 
-/* function ia_css_isys_sp_token_map_is_full: 5B5B */
+/* function ia_css_isys_sp_token_map_is_full: 5B57 */
 
 /* function input_system_acquisition_run: B0B */
 
-/* function ia_css_ispctrl_sp_start_binary: 32FB */
+/* function ia_css_ispctrl_sp_start_binary: 32F7 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ia_css_bufq_sp_h_pipe_private_ddr_ptrs
 #define HIVE_MEM_ia_css_bufq_sp_h_pipe_private_ddr_ptrs scalar_processor_2400_dmem
-#define HIVE_ADDR_ia_css_bufq_sp_h_pipe_private_ddr_ptrs 0x57A0
+#define HIVE_ADDR_ia_css_bufq_sp_h_pipe_private_ddr_ptrs 0x579C
 #define HIVE_SIZE_ia_css_bufq_sp_h_pipe_private_ddr_ptrs 20
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_ia_css_bufq_sp_h_pipe_private_ddr_ptrs scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_ia_css_bufq_sp_h_pipe_private_ddr_ptrs 0x57A0
+#define HIVE_ADDR_sp_ia_css_bufq_sp_h_pipe_private_ddr_ptrs 0x579C
 #define HIVE_SIZE_sp_ia_css_bufq_sp_h_pipe_private_ddr_ptrs 20
 
-/* function ia_css_eventq_sp_recv: 3191 */
+/* function ia_css_eventq_sp_recv: 318D */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_isp_pool
@@ -1318,7 +1318,7 @@
 #define HIVE_ADDR_sp_isp_pool 0x2E8
 #define HIVE_SIZE_sp_isp_pool 4
 
-/* function ia_css_rmgr_sp_rel_gen: 5EDC */
+/* function ia_css_rmgr_sp_rel_gen: 5ED8 */
 
 /* function css_get_frame_processing_time_end: 1EE2 */
 
@@ -1334,13 +1334,13 @@
 #define HIVE_ADDR_sp_event_any_pending_mask 0x300
 #define HIVE_SIZE_sp_event_any_pending_mask 8
 
-/* function ia_css_isys_sp_backend_push: 56E1 */
+/* function ia_css_isys_sp_backend_push: 56DD */
 
 /* function sh_css_decode_tag_descr: 352 */
 
 /* function debug_enqueue_isp: 27B */
 
-/* function ia_css_spctrl_sp_uninit: 561C */
+/* function ia_css_spctrl_sp_uninit: 5618 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_HIVE_IF_SWITCH_CODE
@@ -1357,13 +1357,13 @@
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ia_css_bufq_sp_pipe_private_dis_bufs
 #define HIVE_MEM_ia_css_bufq_sp_pipe_private_dis_bufs scalar_processor_2400_dmem
-#define HIVE_ADDR_ia_css_bufq_sp_pipe_private_dis_bufs 0x57B4
+#define HIVE_ADDR_ia_css_bufq_sp_pipe_private_dis_bufs 0x57B0
 #define HIVE_SIZE_ia_css_bufq_sp_pipe_private_dis_bufs 140
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_ia_css_bufq_sp_pipe_private_dis_bufs scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_ia_css_bufq_sp_pipe_private_dis_bufs 0x57B4
+#define HIVE_ADDR_sp_ia_css_bufq_sp_pipe_private_dis_bufs 0x57B0
 #define HIVE_SIZE_sp_ia_css_bufq_sp_pipe_private_dis_bufs 140
 
 /* function ia_css_tagger_buf_sp_lock_from_start: 2887 */
@@ -1371,16 +1371,16 @@
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sem_for_isp_idle
 #define HIVE_MEM_sem_for_isp_idle scalar_processor_2400_dmem
-#define HIVE_ADDR_sem_for_isp_idle 0x4674
+#define HIVE_ADDR_sem_for_isp_idle 0x4670
 #define HIVE_SIZE_sem_for_isp_idle 20
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_sem_for_isp_idle scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_sem_for_isp_idle 0x4674
+#define HIVE_ADDR_sp_sem_for_isp_idle 0x4670
 #define HIVE_SIZE_sp_sem_for_isp_idle 20
 
-/* function ia_css_dmaproxy_sp_write_byte_addr: 2EC9 */
+/* function ia_css_dmaproxy_sp_write_byte_addr: 2EC8 */
 
 /* function ia_css_dmaproxy_sp_init: 2E3F */
 
@@ -1401,43 +1401,43 @@
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ia_css_rawcopy_sp_tagger
 #define HIVE_MEM_ia_css_rawcopy_sp_tagger scalar_processor_2400_dmem
-#define HIVE_ADDR_ia_css_rawcopy_sp_tagger 0x6144
+#define HIVE_ADDR_ia_css_rawcopy_sp_tagger 0x613C
 #define HIVE_SIZE_ia_css_rawcopy_sp_tagger 24
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_ia_css_rawcopy_sp_tagger scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_ia_css_rawcopy_sp_tagger 0x6144
+#define HIVE_ADDR_sp_ia_css_rawcopy_sp_tagger 0x613C
 #define HIVE_SIZE_sp_ia_css_rawcopy_sp_tagger 24
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ia_css_bufq_sp_pipe_private_exp_ids
 #define HIVE_MEM_ia_css_bufq_sp_pipe_private_exp_ids scalar_processor_2400_dmem
-#define HIVE_ADDR_ia_css_bufq_sp_pipe_private_exp_ids 0x5840
+#define HIVE_ADDR_ia_css_bufq_sp_pipe_private_exp_ids 0x583C
 #define HIVE_SIZE_ia_css_bufq_sp_pipe_private_exp_ids 70
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_ia_css_bufq_sp_pipe_private_exp_ids scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_ia_css_bufq_sp_pipe_private_exp_ids 0x5840
+#define HIVE_ADDR_sp_ia_css_bufq_sp_pipe_private_exp_ids 0x583C
 #define HIVE_SIZE_sp_ia_css_bufq_sp_pipe_private_exp_ids 70
 
-/* function ia_css_queue_item_load: 4905 */
+/* function ia_css_queue_item_load: 4901 */
 
-/* function ia_css_spctrl_sp_get_state: 5607 */
+/* function ia_css_spctrl_sp_get_state: 5603 */
 
-/* function ia_css_isys_sp_token_map_uninit: 5CF1 */
+/* function ia_css_isys_sp_token_map_uninit: 5CED */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_callout_sp_thread
 #define HIVE_MEM_callout_sp_thread scalar_processor_2400_dmem
-#define HIVE_ADDR_callout_sp_thread 0x489C
+#define HIVE_ADDR_callout_sp_thread 0x4898
 #define HIVE_SIZE_callout_sp_thread 4
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_callout_sp_thread scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_callout_sp_thread 0x489C
+#define HIVE_ADDR_sp_callout_sp_thread 0x4898
 #define HIVE_SIZE_sp_callout_sp_thread 4
 
 /* function thread_fiber_sp_init: E41 */
@@ -1454,47 +1454,47 @@
 #define HIVE_ADDR_sp_SP_PMEM_BASE 0x0
 #define HIVE_SIZE_sp_SP_PMEM_BASE 4
 
-/* function ia_css_isys_sp_token_map_snd_acquire_req: 5C61 */
+/* function ia_css_isys_sp_token_map_snd_acquire_req: 5C5D */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sp_isp_input_stream_format
 #define HIVE_MEM_sp_isp_input_stream_format scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_isp_input_stream_format 0x3FF4
+#define HIVE_ADDR_sp_isp_input_stream_format 0x3FF0
 #define HIVE_SIZE_sp_isp_input_stream_format 20
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_sp_isp_input_stream_format scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_sp_isp_input_stream_format 0x3FF4
+#define HIVE_ADDR_sp_sp_isp_input_stream_format 0x3FF0
 #define HIVE_SIZE_sp_sp_isp_input_stream_format 20
 
-/* function __mod: 64FF */
+/* function __mod: 64FB */
 
-/* function ia_css_dmaproxy_sp_init_dmem_channel: 2F2D */
+/* function ia_css_dmaproxy_sp_init_dmem_channel: 2F29 */
 
 /* function ia_css_thread_sp_join: D11 */
 
-/* function ia_css_dmaproxy_sp_add_command: 6B31 */
+/* function ia_css_dmaproxy_sp_add_command: 6AFD */
 
-/* function ia_css_sp_metadata_thread_func: 54BB */
+/* function ia_css_sp_metadata_thread_func: 54B7 */
 
-/* function __sp_event_proxy_func_critical: 6592 */
+/* function __sp_event_proxy_func_critical: 658E */
 
-/* function ia_css_sp_metadata_wait: 55CE */
+/* function ia_css_sp_metadata_wait: 55CA */
 
 /* function ia_css_circbuf_peek_from_start: F16 */
 
-/* function ia_css_event_sp_encode: 321C */
+/* function ia_css_event_sp_encode: 3218 */
 
 /* function ia_css_thread_sp_run: D84 */
 
 /* function sp_isys_copy_func: 6F3 */
 
-/* function ia_css_isys_sp_backend_flush: 574A */
+/* function ia_css_isys_sp_backend_flush: 5746 */
 
-/* function ia_css_isys_sp_backend_frame_exists: 5666 */
+/* function ia_css_isys_sp_backend_frame_exists: 5662 */
 
-/* function ia_css_sp_isp_param_init_isp_memories: 438E */
+/* function ia_css_sp_isp_param_init_isp_memories: 438A */
 
 /* function register_isr: 8A6 */
 
@@ -1519,20 +1519,20 @@
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ia_css_isys_sp_frontend_states
 #define HIVE_MEM_ia_css_isys_sp_frontend_states scalar_processor_2400_dmem
-#define HIVE_ADDR_ia_css_isys_sp_frontend_states 0x6178
+#define HIVE_ADDR_ia_css_isys_sp_frontend_states 0x6170
 #define HIVE_SIZE_ia_css_isys_sp_frontend_states 12
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_ia_css_isys_sp_frontend_states scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_ia_css_isys_sp_frontend_states 0x6178
+#define HIVE_ADDR_sp_ia_css_isys_sp_frontend_states 0x6170
 #define HIVE_SIZE_sp_ia_css_isys_sp_frontend_states 12
 
-/* function ia_css_dmaproxy_sp_read_byte_addr_mmio: 6A22 */
+/* function ia_css_dmaproxy_sp_read_byte_addr_mmio: 69F0 */
 
-/* function ia_css_ispctrl_sp_done_ds: 3463 */
+/* function ia_css_ispctrl_sp_done_ds: 345F */
 
-/* function ia_css_sp_isp_param_get_mem_inits: 4369 */
+/* function ia_css_sp_isp_param_get_mem_inits: 4365 */
 
 /* function ia_css_parambuf_sp_init_buffer_queues: 13DB */
 
@@ -1565,132 +1565,132 @@
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ia_css_bufq_sp_pipe_private_frames
 #define HIVE_MEM_ia_css_bufq_sp_pipe_private_frames scalar_processor_2400_dmem
-#define HIVE_ADDR_ia_css_bufq_sp_pipe_private_frames 0x5888
+#define HIVE_ADDR_ia_css_bufq_sp_pipe_private_frames 0x5884
 #define HIVE_SIZE_ia_css_bufq_sp_pipe_private_frames 280
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_ia_css_bufq_sp_pipe_private_frames scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_ia_css_bufq_sp_pipe_private_frames 0x5888
+#define HIVE_ADDR_sp_ia_css_bufq_sp_pipe_private_frames 0x5884
 #define HIVE_SIZE_sp_ia_css_bufq_sp_pipe_private_frames 280
 
-/* function ia_css_isys_sp_backend_release: 57BF */
+/* function ia_css_isys_sp_backend_release: 57BB */
 
-/* function ia_css_isys_sp_backend_destroy: 57E9 */
+/* function ia_css_isys_sp_backend_destroy: 57E5 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sp2host_buffer_queue_handle
 #define HIVE_MEM_sp2host_buffer_queue_handle scalar_processor_2400_dmem
-#define HIVE_ADDR_sp2host_buffer_queue_handle 0x59A0
+#define HIVE_ADDR_sp2host_buffer_queue_handle 0x599C
 #define HIVE_SIZE_sp2host_buffer_queue_handle 96
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_sp2host_buffer_queue_handle scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_sp2host_buffer_queue_handle 0x59A0
+#define HIVE_ADDR_sp_sp2host_buffer_queue_handle 0x599C
 #define HIVE_SIZE_sp_sp2host_buffer_queue_handle 96
 
-/* function ia_css_isys_sp_token_map_check_mipi_frame_size: 5C25 */
+/* function ia_css_isys_sp_token_map_check_mipi_frame_size: 5C21 */
 
-/* function ia_css_ispctrl_sp_init_isp_vars: 4088 */
+/* function ia_css_ispctrl_sp_init_isp_vars: 4084 */
 
-/* function ia_css_isys_sp_frontend_has_empty_mipi_buffer_cb: 583B */
+/* function ia_css_isys_sp_frontend_has_empty_mipi_buffer_cb: 5837 */
 
 /* function sp_warning: 8D8 */
 
-/* function ia_css_rmgr_sp_vbuf_enqueue: 5FCF */
+/* function ia_css_rmgr_sp_vbuf_enqueue: 5FCB */
 
 /* function ia_css_tagger_sp_tag_exp_id: 200E */
 
-/* function ia_css_dmaproxy_sp_write: 2EE0 */
+/* function ia_css_dmaproxy_sp_write: 2EDF */
 
 /* function ia_css_parambuf_sp_release_in_param: 125B */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_irq_sw_interrupt_token
 #define HIVE_MEM_irq_sw_interrupt_token scalar_processor_2400_dmem
-#define HIVE_ADDR_irq_sw_interrupt_token 0x3FF0
+#define HIVE_ADDR_irq_sw_interrupt_token 0x3FEC
 #define HIVE_SIZE_irq_sw_interrupt_token 4
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_irq_sw_interrupt_token scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_irq_sw_interrupt_token 0x3FF0
+#define HIVE_ADDR_sp_irq_sw_interrupt_token 0x3FEC
 #define HIVE_SIZE_sp_irq_sw_interrupt_token 4
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sp_isp_addresses
 #define HIVE_MEM_sp_isp_addresses scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_isp_addresses 0x5DF4
+#define HIVE_ADDR_sp_isp_addresses 0x5DEC
 #define HIVE_SIZE_sp_isp_addresses 172
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_sp_isp_addresses scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_sp_isp_addresses 0x5DF4
+#define HIVE_ADDR_sp_sp_isp_addresses 0x5DEC
 #define HIVE_SIZE_sp_sp_isp_addresses 172
 
-/* function ia_css_rmgr_sp_acq_gen: 5EF4 */
+/* function ia_css_rmgr_sp_acq_gen: 5EF0 */
 
 /* function receiver_reg_load: AE2 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_isps
 #define HIVE_MEM_isps scalar_processor_2400_dmem
-#define HIVE_ADDR_isps 0x61B0
+#define HIVE_ADDR_isps 0x61A8
 #define HIVE_SIZE_isps 28
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_isps scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_isps 0x61B0
+#define HIVE_ADDR_sp_isps 0x61A8
 #define HIVE_SIZE_sp_isps 28
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_host_sp_queues_initialized
 #define HIVE_MEM_host_sp_queues_initialized scalar_processor_2400_dmem
-#define HIVE_ADDR_host_sp_queues_initialized 0x4008
+#define HIVE_ADDR_host_sp_queues_initialized 0x4004
 #define HIVE_SIZE_host_sp_queues_initialized 4
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_host_sp_queues_initialized scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_host_sp_queues_initialized 0x4008
+#define HIVE_ADDR_sp_host_sp_queues_initialized 0x4004
 #define HIVE_SIZE_sp_host_sp_queues_initialized 4
 
-/* function ia_css_queue_uninit: 47D1 */
+/* function ia_css_queue_uninit: 47CD */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ia_css_ispctrl_sp_isp_started
 #define HIVE_MEM_ia_css_ispctrl_sp_isp_started scalar_processor_2400_dmem
-#define HIVE_ADDR_ia_css_ispctrl_sp_isp_started 0x5AA8
+#define HIVE_ADDR_ia_css_ispctrl_sp_isp_started 0x5AA4
 #define HIVE_SIZE_ia_css_ispctrl_sp_isp_started 4
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_ia_css_ispctrl_sp_isp_started scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_ia_css_ispctrl_sp_isp_started 0x5AA8
+#define HIVE_ADDR_sp_ia_css_ispctrl_sp_isp_started 0x5AA4
 #define HIVE_SIZE_sp_ia_css_ispctrl_sp_isp_started 4
 
 /* function ia_css_bufq_sp_release_dynamic_buf: 2AC6 */
 
-/* function ia_css_dmaproxy_sp_set_height_exception: 2FDB */
+/* function ia_css_dmaproxy_sp_set_height_exception: 2FD7 */
 
-/* function ia_css_dmaproxy_sp_init_vmem_channel: 2F60 */
+/* function ia_css_dmaproxy_sp_init_vmem_channel: 2F5C */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_num_ready_threads
 #define HIVE_MEM_num_ready_threads scalar_processor_2400_dmem
-#define HIVE_ADDR_num_ready_threads 0x48A4
+#define HIVE_ADDR_num_ready_threads 0x48A0
 #define HIVE_SIZE_num_ready_threads 4
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_num_ready_threads scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_num_ready_threads 0x48A4
+#define HIVE_ADDR_sp_num_ready_threads 0x48A0
 #define HIVE_SIZE_sp_num_ready_threads 4
 
-/* function ia_css_dmaproxy_sp_write_byte_addr_mmio: 2EB2 */
+/* function ia_css_dmaproxy_sp_write_byte_addr_mmio: 2EB1 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_vbuf_spref
@@ -1707,62 +1707,62 @@
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sp_metadata_thread
 #define HIVE_MEM_sp_metadata_thread scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_metadata_thread 0x4858
+#define HIVE_ADDR_sp_metadata_thread 0x4854
 #define HIVE_SIZE_sp_metadata_thread 68
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_sp_metadata_thread scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_sp_metadata_thread 0x4858
+#define HIVE_ADDR_sp_sp_metadata_thread 0x4854
 #define HIVE_SIZE_sp_sp_metadata_thread 68
 
-/* function ia_css_queue_enqueue: 471B */
+/* function ia_css_queue_enqueue: 4717 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ia_css_flash_sp_request
 #define HIVE_MEM_ia_css_flash_sp_request scalar_processor_2400_dmem
-#define HIVE_ADDR_ia_css_flash_sp_request 0x4958
+#define HIVE_ADDR_ia_css_flash_sp_request 0x4954
 #define HIVE_SIZE_ia_css_flash_sp_request 4
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_ia_css_flash_sp_request scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_ia_css_flash_sp_request 0x4958
+#define HIVE_ADDR_sp_ia_css_flash_sp_request 0x4954
 #define HIVE_SIZE_sp_ia_css_flash_sp_request 4
 
-/* function ia_css_dmaproxy_sp_vmem_write: 2E83 */
+/* function ia_css_dmaproxy_sp_vmem_write: 2E82 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_tagger_frames
 #define HIVE_MEM_tagger_frames scalar_processor_2400_dmem
-#define HIVE_ADDR_tagger_frames 0x48AC
+#define HIVE_ADDR_tagger_frames 0x48A8
 #define HIVE_SIZE_tagger_frames 168
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_tagger_frames scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_tagger_frames 0x48AC
+#define HIVE_ADDR_sp_tagger_frames 0x48A8
 #define HIVE_SIZE_sp_tagger_frames 168
 
-/* function ia_css_isys_sp_token_map_snd_capture_req: 5C83 */
+/* function ia_css_isys_sp_token_map_snd_capture_req: 5C7F */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sem_for_reading_if
 #define HIVE_MEM_sem_for_reading_if scalar_processor_2400_dmem
-#define HIVE_ADDR_sem_for_reading_if 0x4688
+#define HIVE_ADDR_sem_for_reading_if 0x4684
 #define HIVE_SIZE_sem_for_reading_if 20
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_sem_for_reading_if scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_sem_for_reading_if 0x4688
+#define HIVE_ADDR_sp_sem_for_reading_if 0x4684
 #define HIVE_SIZE_sp_sem_for_reading_if 20
 
 /* function sp_generate_interrupts: 957 */
 
 /* function ia_css_pipeline_sp_start: 177C */
 
-/* function ia_css_sp_rawcopy_init: 4CF9 */
+/* function ia_css_sp_rawcopy_init: 4CF5 */
 
 /* function tmr_clock_read: AB4 */
 
@@ -1778,18 +1778,18 @@
 #define HIVE_ADDR_sp_ISP_BAMEM_BASE 0x2F8
 #define HIVE_SIZE_sp_ISP_BAMEM_BASE 4
 
-/* function ia_css_isys_sp_frontend_rcv_capture_ack: 58EA */
+/* function ia_css_isys_sp_frontend_rcv_capture_ack: 58E6 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ia_css_bufq_sp_sems_for_sp2host_buf_queues
 #define HIVE_MEM_ia_css_bufq_sp_sems_for_sp2host_buf_queues scalar_processor_2400_dmem
-#define HIVE_ADDR_ia_css_bufq_sp_sems_for_sp2host_buf_queues 0x5A00
+#define HIVE_ADDR_ia_css_bufq_sp_sems_for_sp2host_buf_queues 0x59FC
 #define HIVE_SIZE_ia_css_bufq_sp_sems_for_sp2host_buf_queues 160
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_ia_css_bufq_sp_sems_for_sp2host_buf_queues scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_ia_css_bufq_sp_sems_for_sp2host_buf_queues 0x5A00
+#define HIVE_ADDR_sp_ia_css_bufq_sp_sems_for_sp2host_buf_queues 0x59FC
 #define HIVE_SIZE_sp_ia_css_bufq_sp_sems_for_sp2host_buf_queues 160
 
 /* function css_get_frame_processing_time_start: 1EEA */
@@ -1797,13 +1797,13 @@
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sp_all_cbs_frame
 #define HIVE_MEM_sp_all_cbs_frame scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_all_cbs_frame 0x469C
+#define HIVE_ADDR_sp_all_cbs_frame 0x4698
 #define HIVE_SIZE_sp_all_cbs_frame 16
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_sp_all_cbs_frame scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_sp_all_cbs_frame 0x469C
+#define HIVE_ADDR_sp_sp_all_cbs_frame 0x4698
 #define HIVE_SIZE_sp_sp_all_cbs_frame 16
 
 /* function thread_sp_queue_print: DA1 */
@@ -1813,13 +1813,13 @@
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sem_for_str2mem
 #define HIVE_MEM_sem_for_str2mem scalar_processor_2400_dmem
-#define HIVE_ADDR_sem_for_str2mem 0x46AC
+#define HIVE_ADDR_sem_for_str2mem 0x46A8
 #define HIVE_SIZE_sem_for_str2mem 20
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_sem_for_str2mem scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_sem_for_str2mem 0x46AC
+#define HIVE_ADDR_sp_sem_for_str2mem 0x46A8
 #define HIVE_SIZE_sp_sem_for_str2mem 20
 
 /* function ia_css_tagger_buf_sp_is_marked_from_start: 28CC */
@@ -1840,38 +1840,38 @@
 #define HIVE_ADDR_sp_ISP_PMEM_BASE 0xC
 #define HIVE_SIZE_sp_ISP_PMEM_BASE 4
 
-/* function ia_css_sp_isp_param_mem_load: 42FC */
+/* function ia_css_sp_isp_param_mem_load: 42F8 */
 
-/* function __div: 64B7 */
+/* function __div: 64B3 */
 
-/* function ia_css_isys_sp_frontend_create: 5ABB */
+/* function ia_css_isys_sp_frontend_create: 5AB7 */
 
-/* function ia_css_rmgr_sp_refcount_release_vbuf: 5FEE */
+/* function ia_css_rmgr_sp_refcount_release_vbuf: 5FEA */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ia_css_flash_sp_in_use
 #define HIVE_MEM_ia_css_flash_sp_in_use scalar_processor_2400_dmem
-#define HIVE_ADDR_ia_css_flash_sp_in_use 0x495C
+#define HIVE_ADDR_ia_css_flash_sp_in_use 0x4958
 #define HIVE_SIZE_ia_css_flash_sp_in_use 4
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_ia_css_flash_sp_in_use scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_ia_css_flash_sp_in_use 0x495C
+#define HIVE_ADDR_sp_ia_css_flash_sp_in_use 0x4958
 #define HIVE_SIZE_sp_ia_css_flash_sp_in_use 4
 
-/* function ia_css_thread_sem_sp_wait: 675F */
+/* function ia_css_thread_sem_sp_wait: 675B */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sp_sleep_mode
 #define HIVE_MEM_sp_sleep_mode scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_sleep_mode 0x400C
+#define HIVE_ADDR_sp_sleep_mode 0x4008
 #define HIVE_SIZE_sp_sleep_mode 4
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_sp_sleep_mode scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_sp_sleep_mode 0x400C
+#define HIVE_ADDR_sp_sp_sleep_mode 0x4008
 #define HIVE_SIZE_sp_sp_sleep_mode 4
 
 /* function ia_css_tagger_buf_sp_push: 27E5 */
@@ -1890,18 +1890,18 @@
 #define HIVE_ADDR_sp_sp_max_cb_elems 0x14C
 #define HIVE_SIZE_sp_sp_max_cb_elems 8
 
-/* function ia_css_queue_remote_init: 47F3 */
+/* function ia_css_queue_remote_init: 47EF */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_isp_stop_req
 #define HIVE_MEM_isp_stop_req scalar_processor_2400_dmem
-#define HIVE_ADDR_isp_stop_req 0x4540
+#define HIVE_ADDR_isp_stop_req 0x453C
 #define HIVE_SIZE_isp_stop_req 4
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_isp_stop_req scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_isp_stop_req 0x4540
+#define HIVE_ADDR_sp_isp_stop_req 0x453C
 #define HIVE_SIZE_sp_isp_stop_req 4
 
 #define HIVE_ICACHE_sp_critical_SEGMENT_START 0
-- 
1.9.1

